var pE=Object.defineProperty,mE=Object.defineProperties;var gE=Object.getOwnPropertyDescriptors;var Js=Object.getOwnPropertySymbols;var zp=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable;var Bp=(t,e,n)=>e in t?pE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ge=(t,e)=>{for(var n in e||(e={}))zp.call(e,n)&&Bp(t,n,e[n]);if(Js)for(var n of Js(e))jp.call(e,n)&&Bp(t,n,e[n]);return t},Dt=(t,e)=>mE(t,gE(e));var qu=(t,e)=>{var n={};for(var r in t)zp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Js)for(var r of Js(t))e.indexOf(r)<0&&jp.call(t,r)&&(n[r]=t[r]);return n};const _E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};_E();var X_={exports:{}},Wt={},Z={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),vE=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),SE=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),RE=Symbol.for("react.suspense"),IE=Symbol.for("react.memo"),kE=Symbol.for("react.lazy"),Wp=Symbol.iterator;function bE(t){return t===null||typeof t!="object"?null:(t=Wp&&t[Wp]||t["@@iterator"],typeof t=="function"?t:null)}var Z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,ev={};function Ui(t,e,n){this.props=t,this.context=e,this.refs=ev,this.updater=n||Z_}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tv(){}tv.prototype=Ui.prototype;function cf(t,e,n){this.props=t,this.context=e,this.refs=ev,this.updater=n||Z_}var df=cf.prototype=new tv;df.constructor=cf;J_(df,Ui.prototype);df.isPureReactComponent=!0;var Hp=Array.isArray,nv=Object.prototype.hasOwnProperty,ff={current:null},rv={key:!0,ref:!0,__self:!0,__source:!0};function iv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nv.call(e,r)&&!rv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ps,type:t,key:o,ref:s,props:i,_owner:ff.current}}function NE(t,e){return{$$typeof:Ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ps}function AE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gp=/\/+/g;function Yu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AE(""+t.key):e.toString(36)}function wa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ps:case vE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Yu(s,0):r,Hp(i)?(n="",t!=null&&(n=t.replace(Gp,"$&/")+"/"),wa(i,e,n,"",function(u){return u})):i!=null&&(hf(i)&&(i=NE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Hp(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Yu(o,a);s+=wa(o,e,n,l,i)}else if(l=bE(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Yu(o,a++),s+=wa(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ea(t,e,n){if(t==null)return t;var r=[],i=0;return wa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},Sa={transition:null},PE={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:ff};ve.Children={map:ea,forEach:function(t,e,n){ea(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ea(t,function(){e++}),e},toArray:function(t){return ea(t,function(e){return e})||[]},only:function(t){if(!hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ui;ve.Fragment=yE;ve.Profiler=SE;ve.PureComponent=cf;ve.StrictMode=wE;ve.Suspense=RE;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ff.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nv.call(e,l)&&!rv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ps,type:t.type,key:i,ref:o,props:r,_owner:s}};ve.createContext=function(t){return t={$$typeof:CE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EE,_context:t},t.Consumer=t};ve.createElement=iv;ve.createFactory=function(t){var e=iv.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:TE,render:t}};ve.isValidElement=hf;ve.lazy=function(t){return{$$typeof:kE,_payload:{_status:-1,_result:t},_init:xE}};ve.memo=function(t,e){return{$$typeof:IE,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Sa.transition;Sa.transition={};try{t()}finally{Sa.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return Et.current.useCallback(t,e)};ve.useContext=function(t){return Et.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Et.current.useEffect(t,e)};ve.useId=function(){return Et.current.useId()};ve.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Et.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ve.useRef=function(t){return Et.current.useRef(t)};ve.useState=function(t){return Et.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Et.current.useTransition()};ve.version="18.0.0-fc46dba67-20220329";Z.exports=ve;var Ze=Z.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Kp=Object.getOwnPropertySymbols,OE=Object.prototype.hasOwnProperty,DE=Object.prototype.propertyIsEnumerable;function LE(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function ME(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var FE=ME()?Object.assign:function(t,e){for(var n,r=LE(t),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)OE.call(n,s)&&(r[s]=n[s]);if(Kp){i=Kp(n);for(var a=0;a<i.length;a++)DE.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},ov={exports:{}},sv={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var D=t.unstable_now();l(!0,D),l=null}catch(R){throw setTimeout(c,0),R}};e=function(D){l!==null?setTimeout(e,0,D):(l=D,setTimeout(c,0))},n=function(D,R){u=setTimeout(D,R)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,T=null,f=-1,p=5,m=0;t.unstable_shouldYield=function(){return t.unstable_now()>=m},i=function(){},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<D?Math.floor(1e3/D):5};var v=new MessageChannel,S=v.port2;v.port1.onmessage=function(){if(T!==null){var D=t.unstable_now();m=D+p;try{T(!0,D)?S.postMessage(null):(_=!1,T=null)}catch(R){throw S.postMessage(null),R}}else _=!1},e=function(D){T=D,_||(_=!0,S.postMessage(null))},n=function(D,R){f=d(function(){D(t.unstable_now())},R)},r=function(){h(f),f=-1}}function A(D,R){var k=D.length;D.push(R);e:for(;;){var O=k-1>>>1,H=D[O];if(H!==void 0&&0<U(H,R))D[O]=R,D[k]=H,k=O;else break e}}function b(D){return D=D[0],D===void 0?null:D}function V(D){var R=D[0];if(R!==void 0){var k=D.pop();if(k!==R){D[0]=k;e:for(var O=0,H=D.length;O<H;){var g=2*(O+1)-1,I=D[g],E=g+1,F=D[E];if(I!==void 0&&0>U(I,k))F!==void 0&&0>U(F,I)?(D[O]=F,D[E]=k,O=E):(D[O]=I,D[g]=k,O=g);else if(F!==void 0&&0>U(F,k))D[O]=F,D[E]=k,O=E;else break e}}return R}return null}function U(D,R){var k=D.sortIndex-R.sortIndex;return k!==0?k:D.id-R.id}var M=[],J=[],we=1,le=null,X=3,Ce=!1,ee=!1,Be=!1;function ye(D){for(var R=b(J);R!==null;){if(R.callback===null)V(J);else if(R.startTime<=D)V(J),R.sortIndex=R.expirationTime,A(M,R);else break;R=b(J)}}function Te(D){if(Be=!1,ye(D),!ee)if(b(M)!==null)ee=!0,e(Xe);else{var R=b(J);R!==null&&n(Te,R.startTime-D)}}function Xe(D,R){ee=!1,Be&&(Be=!1,r()),Ce=!0;var k=X;try{for(ye(R),le=b(M);le!==null&&(!(le.expirationTime>R)||D&&!t.unstable_shouldYield());){var O=le.callback;if(typeof O=="function"){le.callback=null,X=le.priorityLevel;var H=O(le.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?le.callback=H:le===b(M)&&V(M),ye(R)}else V(M);le=b(M)}if(le!==null)var g=!0;else{var I=b(J);I!==null&&n(Te,I.startTime-R),g=!1}return g}finally{le=null,X=k,Ce=!1}}var be=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){ee||Ce||(ee=!0,e(Xe))},t.unstable_getCurrentPriorityLevel=function(){return X},t.unstable_getFirstCallbackNode=function(){return b(M)},t.unstable_next=function(D){switch(X){case 1:case 2:case 3:var R=3;break;default:R=X}var k=X;X=R;try{return D()}finally{X=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=be,t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var k=X;X=D;try{return R()}finally{X=k}},t.unstable_scheduleCallback=function(D,R,k){var O=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=k+H,D={id:we++,callback:R,priorityLevel:D,startTime:k,expirationTime:H,sortIndex:-1},k>O?(D.sortIndex=k,A(J,D),b(M)===null&&D===b(J)&&(Be?r():Be=!0,n(Te,k-O))):(D.sortIndex=H,A(M,D),ee||Ce||(ee=!0,e(Xe))),D},t.unstable_wrapCallback=function(D){var R=X;return function(){var k=X;X=R;try{return D.apply(this,arguments)}finally{X=k}}}})(sv);ov.exports=sv;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Z.exports,Ve=FE,st=ov.exports;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ml)throw Error(L(227));var av=new Set,ss={};function Br(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(ss[t]=e,t=0;t<e.length;t++)av.add(e[t])}var kn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),$E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qp=Object.prototype.hasOwnProperty,Yp={},Qp={};function UE(t){return qp.call(Qp,t)?!0:qp.call(Yp,t)?!1:$E.test(t)?Qp[t]=!0:(Yp[t]=!0,!1)}function VE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BE(t,e,n,r){if(e===null||typeof e=="undefined"||VE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var pf=/[\-:]([a-z])/g;function mf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pf,mf);ht[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pf,mf);ht[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pf,mf);ht[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function gf(t,e,n,r){var i=ht.hasOwnProperty(e)?ht[e]:null,o=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(BE(e,n,i,r)&&(n=null),r||i===null?UE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=Ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=60103,gr=60106,Fn=60107,_f=60108,Vo=60114,vf=60109,yf=60110,Fl=60112,Bo=60113,Ma=60120,$l=60115,wf=60116,Sf=60121,Ef=60128,lv=60129,Cf=60130,Vc=60131;if(typeof Symbol=="function"&&Symbol.for){var nt=Symbol.for;Po=nt("react.element"),gr=nt("react.portal"),Fn=nt("react.fragment"),_f=nt("react.strict_mode"),Vo=nt("react.profiler"),vf=nt("react.provider"),yf=nt("react.context"),Fl=nt("react.forward_ref"),Bo=nt("react.suspense"),Ma=nt("react.suspense_list"),$l=nt("react.memo"),wf=nt("react.lazy"),Sf=nt("react.block"),nt("react.scope"),Ef=nt("react.opaque.id"),lv=nt("react.debug_trace_mode"),Cf=nt("react.offscreen"),Vc=nt("react.legacy_hidden")}var Xp=typeof Symbol=="function"&&Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=Xp&&t[Xp]||t["@@iterator"],typeof t=="function"?t:null)}var Qu;function Oo(t){if(Qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qu=e&&e[1]||""}return`
`+Qu+t}var Xu=!1;function ta(t,e){if(!t||Xu)return"";Xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{Xu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function zE(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=ta(t.type,!1),t;case 11:return t=ta(t.type.render,!1),t;case 22:return t=ta(t.type._render,!1),t;case 1:return t=ta(t.type,!0),t;default:return""}}function ui(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fn:return"Fragment";case gr:return"Portal";case Vo:return"Profiler";case _f:return"StrictMode";case Bo:return"Suspense";case Ma:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yf:return(t.displayName||"Context")+".Consumer";case vf:return(t._context.displayName||"Context")+".Provider";case Fl:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case $l:return ui(t.type);case Sf:return ui(t._render);case wf:e=t._payload,t=t._init;try{return ui(t(e))}catch{}}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function uv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jE(t){var e=uv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function na(t){t._valueTracker||(t._valueTracker=jE(t))}function cv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bc(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dv(t,e){e=e.checked,e!=null&&gf(t,"checked",e,!1)}function zc(t,e){dv(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jc(t,e.type,n):e.hasOwnProperty("defaultValue")&&jc(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jc(t,e,n){(e!=="number"||Fa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function WE(t){var e="";return Ml.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Wc(t,e){return t=Ve({children:void 0},e),(e=WE(e.children))&&(t.children=e),t}function ci(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function em(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function fv(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Gc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function hv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ra,pv=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Gc.svg||"innerHTML"in t)t.innerHTML=e;else{for(ra=ra||document.createElement("div"),ra.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ra.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HE=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){HE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zo[e]=zo[t]})});function mv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}function gv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GE=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qc(t,e){if(e){if(GE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Yc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,di=null,fi=null;function nm(t){if(t=Ds(t)){if(typeof Qc!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Wl(e),Qc(t.stateNode,t.type,e))}}function _v(t){di?fi?fi.push(t):fi=[t]:di=t}function vv(){if(di){var t=di,e=fi;if(fi=di=null,nm(t),e)for(t=0;t<e.length;t++)nm(e[t])}}function Rf(t,e){return t(e)}function yv(t,e,n,r,i){return t(e,n,r,i)}function If(){}var wv=Rf,_r=!1,Zu=!1;function kf(){(di!==null||fi!==null)&&(If(),vv())}function KE(t,e,n){if(Zu)return t(e,n);Zu=!0;try{return wv(t,e,n)}finally{Zu=!1,kf()}}function ls(t,e){var n=t.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Xc=!1;if(kn)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Xc=!1}function qE(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jo=!1,$a=null,Ua=!1,Zc=null,YE={onError:function(t){jo=!0,$a=t}};function QE(t,e,n,r,i,o,s,a,l){jo=!1,$a=null,qE.apply(YE,arguments)}function XE(t,e,n,r,i,o,s,a,l){if(QE.apply(this,arguments),jo){if(jo){var u=$a;jo=!1,$a=null}else throw Error(L(198));Ua||(Ua=!0,Zc=u)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rm(t){if(jr(t)!==t)throw Error(L(188))}function ZE(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rm(i),t;if(o===r)return rm(i),e;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Ev(t){if(t=ZE(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function im(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Cv,bf,Tv,Rv,Jc=!1,an=[],Wn=null,Hn=null,Gn=null,us=new Map,cs=new Map,co=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function sm(t,e){switch(t){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function fo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t=ed(e,n,r,i,o),e!==null&&(e=Ds(e),e!==null&&bf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JE(t,e,n,r,i){switch(e){case"focusin":return Wn=fo(Wn,t,e,n,r,i),!0;case"dragenter":return Hn=fo(Hn,t,e,n,r,i),!0;case"mouseover":return Gn=fo(Gn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return us.set(o,fo(us.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cs.set(o,fo(cs.get(o)||null,t,e,n,r,i)),!0}return!1}function eC(t){var e=vr(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=Sv(n),e!==null){t.blockedOn=e,Rv(t.lanePriority,function(){st.unstable_runWithPriority(t.priority,function(){Tv(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ea(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Ds(n),e!==null&&bf(e),t.blockedOn=n,!1;e.shift()}return!0}function am(t,e,n){Ea(t)&&n.delete(e)}function tC(){for(Jc=!1;0<an.length;){var t=an[0];if(t.blockedOn!==null){t=Ds(t.blockedOn),t!==null&&Cv(t);break}for(var e=t.targetContainers;0<e.length;){var n=Pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&an.shift()}Wn!==null&&Ea(Wn)&&(Wn=null),Hn!==null&&Ea(Hn)&&(Hn=null),Gn!==null&&Ea(Gn)&&(Gn=null),us.forEach(am),cs.forEach(am)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,Jc||(Jc=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,tC)))}function Iv(t){function e(i){return ho(i,t)}if(0<an.length){ho(an[0],t);for(var n=1;n<an.length;n++){var r=an[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wn!==null&&ho(Wn,t),Hn!==null&&ho(Hn,t),Gn!==null&&ho(Gn,t),us.forEach(e),cs.forEach(e),n=0;n<co.length;n++)r=co[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<co.length&&(n=co[0],n.blockedOn===null);)eC(n),n.blockedOn===null&&co.shift()}function ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jr={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},Ju={},kv={};kn&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Ul(t){if(Ju[t])return Ju[t];if(!Jr[t])return t;var e=Jr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kv)return Ju[t]=e[n];return t}var bv=Ul("animationend"),Nv=Ul("animationiteration"),Av=Ul("animationstart"),xv=Ul("transitionend"),Pv=new Map,Nf=new Map,nC=["abort","abort",bv,"animationEnd",Nv,"animationIteration",Av,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xv,"transitionEnd","waiting","waiting"];function Af(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nf.set(r,e),Pv.set(r,i),Br(i,[r])}}var rC=st.unstable_now;rC();var De=8;function Xr(t){if((1&t)!==0)return De=15,1;if((2&t)!==0)return De=14,2;if((4&t)!==0)return De=13,4;var e=24&t;return e!==0?(De=12,e):(t&32)!==0?(De=11,32):(e=192&t,e!==0?(De=10,e):(t&256)!==0?(De=9,256):(e=3584&t,e!==0?(De=8,e):(t&4096)!==0?(De=7,4096):(e=4186112&t,e!==0?(De=6,e):(e=62914560&t,e!==0?(De=5,e):t&67108864?(De=4,67108864):(t&134217728)!==0?(De=3,134217728):(e=805306368&t,e!==0?(De=2,e):(1073741824&t)!==0?(De=1,1073741824):(De=8,t))))))}function iC(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function oC(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(L(358,t))}}function ds(t,e){var n=t.pendingLanes;if(n===0)return De=0;var r=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(o!==0)r=o,i=De=15;else if(o=n&134217727,o!==0){var l=o&~s;l!==0?(r=Xr(l),i=De):(a&=o,a!==0&&(r=Xr(a),i=De))}else o=n&~s,o!==0?(r=Xr(o),i=De):a!==0&&(r=Xr(a),i=De);if(r===0)return 0;if(r=31-rr(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&s)===0){if(Xr(e),i<=De)return e;De=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),i=1<<n,r|=t[n],e&=~i;return r}function Ov(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Va(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Zr(24&~e),t===0?Va(10,e):t;case 10:return t=Zr(192&~e),t===0?Va(8,e):t;case 8:return t=Zr(3584&~e),t===0&&(t=Zr(4186112&~e),t===0&&(t=512)),t;case 2:return e=Zr(805306368&~e),e===0&&(e=268435456),e}throw Error(L(358,t))}function Zr(t){return t&-t}function ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-rr(e),t[e]=n}var rr=Math.clz32?Math.clz32:lC,sC=Math.log,aC=Math.LN2;function lC(t){return t===0?32:31-(sC(t)/aC|0)|0}var uC=st.unstable_UserBlockingPriority,cC=st.unstable_runWithPriority,Ca=!0;function dC(t,e,n,r){_r||If();var i=xf,o=_r;_r=!0;try{yv(i,t,e,n,r)}finally{(_r=o)||kf()}}function fC(t,e,n,r){cC(uC,xf.bind(null,t,e,n,r))}function xf(t,e,n,r){if(Ca){var i;if((i=(e&4)===0)&&0<an.length&&-1<om.indexOf(t))t=ed(null,t,e,n,r),an.push(t);else{var o=Pf(t,e,n,r);if(o===null)i&&sm(t,r);else{if(i){if(-1<om.indexOf(t)){t=ed(o,t,e,n,r),an.push(t);return}if(JE(o,t,e,n,r))return;sm(t,r)}Gv(t,e,r,null,n)}}}}function Pf(t,e,n,r){var i=Tf(r);if(i=vr(i),i!==null){var o=jr(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=Sv(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Gv(t,e,r,i,n),null}var Bn=null,Of=null,Ta=null;function Dv(){if(Ta)return Ta;var t,e=Of,n=e.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ta=i.slice(t,1<r?1-r:void 0)}function Ra(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oa(){return!0}function lm(){return!1}function Mt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oa:lm,this.isPropagationStopped=lm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),e}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=Mt(Vi),Os=Ve({},Vi,{view:0,detail:0}),hC=Mt(Os),tc,nc,po,Bl=Ve({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==po&&(po&&t.type==="mousemove"?(tc=t.screenX-po.screenX,nc=t.screenY-po.screenY):nc=tc=0,po=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:nc}}),um=Mt(Bl),pC=Ve({},Bl,{dataTransfer:0}),mC=Mt(pC),gC=Ve({},Os,{relatedTarget:0}),rc=Mt(gC),_C=Ve({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=Mt(_C),yC=Ve({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wC=Mt(yC),SC=Ve({},Vi,{data:0}),cm=Mt(SC),EC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TC[t])?!!e[t]:!1}function Lf(){return RC}var IC=Ve({},Os,{key:function(t){if(t.key){var e=EC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(t){return t.type==="keypress"?Ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kC=Mt(IC),bC=Ve({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=Mt(bC),NC=Ve({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),AC=Mt(NC),xC=Ve({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=Mt(xC),OC=Ve({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=Mt(OC),LC=[9,13,27,32],Mf=kn&&"CompositionEvent"in window,Wo=null;kn&&"documentMode"in document&&(Wo=document.documentMode);var MC=kn&&"TextEvent"in window&&!Wo,Lv=kn&&(!Mf||Wo&&8<Wo&&11>=Wo),fm=String.fromCharCode(32),hm=!1;function Mv(t,e){switch(t){case"keyup":return LC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function FC(t,e){switch(t){case"compositionend":return Fv(e);case"keypress":return e.which!==32?null:(hm=!0,fm);case"textInput":return t=e.data,t===fm&&hm?null:t;default:return null}}function $C(t,e){if(ei)return t==="compositionend"||!Mf&&Mv(t,e)?(t=Dv(),Ta=Of=Bn=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lv&&e.locale!=="ko"?null:e.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UC[t.type]:e==="textarea"}function $v(t,e,n,r){_v(r),e=Ba(e,"onChange"),0<e.length&&(n=new Df("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ho=null,fs=null;function VC(t){jv(t,0)}function zl(t){var e=ni(t);if(cv(e))return t}function BC(t,e){if(t==="change")return e}var Uv=!1;if(kn){var ic;if(kn){var oc="oninput"in document;if(!oc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),oc=typeof mm.oninput=="function"}ic=oc}else ic=!1;Uv=ic&&(!document.documentMode||9<document.documentMode)}function gm(){Ho&&(Ho.detachEvent("onpropertychange",Vv),fs=Ho=null)}function Vv(t){if(t.propertyName==="value"&&zl(fs)){var e=[];if($v(e,fs,t,Tf(t)),t=VC,_r)t(e);else{_r=!0;try{Rf(t,e)}finally{_r=!1,kf()}}}}function zC(t,e,n){t==="focusin"?(gm(),Ho=e,fs=n,Ho.attachEvent("onpropertychange",Vv)):t==="focusout"&&gm()}function jC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zl(fs)}function WC(t,e){if(t==="click")return zl(e)}function HC(t,e){if(t==="input"||t==="change")return zl(e)}function GC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:GC,KC=Object.prototype.hasOwnProperty;function hs(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!KC.call(e,n[r])||!Ut(t[n[r]],e[n[r]]))return!1;return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,e){var n=_m(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_m(n)}}function Bv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ym(){for(var t=window,e=Fa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fa(t.document)}return e}function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qC=kn&&"documentMode"in document&&11>=document.documentMode,ti=null,nd=null,Go=null,rd=!1;function wm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||ti==null||ti!==Fa(r)||(r=ti,"selectionStart"in r&&td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Go&&hs(Go,r)||(Go=r,r=Ba(nd,"onSelect"),0<r.length&&(e=new Df("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}Af("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Af("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Af(nC,2);for(var Sm="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sc=0;sc<Sm.length;sc++)Nf.set(Sm[sc],0);Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Em(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XE(r,e,void 0,t),t.currentTarget=null}function jv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Em(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Em(i,a,u),o=l}}}if(Ua)throw t=Zc,Ua=!1,Zc=null,t}function Me(t,e){var n=qv(e),r=t+"__bubble";n.has(r)||(Hv(e,t,2,!1),n.add(r))}var Cm="_reactListening"+Math.random().toString(36).slice(2);function Wv(t){t[Cm]||(t[Cm]=!0,av.forEach(function(e){zv.has(e)||Tm(e,!1,t,null),Tm(e,!0,t,null)}))}function Tm(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;if(t==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument),r!==null&&!e&&zv.has(t)){if(t!=="scroll")return;i|=2,o=r}var s=qv(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),Hv(o,t,i,e),s.add(a))}function Hv(t,e,n,r){var i=Nf.get(e);switch(i===void 0?2:i){case 0:i=dC;break;case 1:i=fC;break;default:i=xf}n=i.bind(null,e,n,t),i=void 0,!Xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gv(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}KE(function(){var u=o,c=Tf(n),d=[];e:{var h=Pv.get(t);if(h!==void 0){var y=Df,_=t;switch(t){case"keypress":if(Ra(n)===0)break e;case"keydown":case"keyup":y=kC;break;case"focusin":_="focus",y=rc;break;case"focusout":_="blur",y=rc;break;case"beforeblur":case"afterblur":y=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=AC;break;case bv:case Nv:case Av:y=vC;break;case xv:y=PC;break;case"scroll":y=hC;break;case"wheel":y=DC;break;case"copy":case"cut":case"paste":y=wC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dm}var T=(e&4)!==0,f=!T&&t==="scroll",p=T?h!==null?h+"Capture":null:h;T=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,p!==null&&(S=ls(m,p),S!=null&&T.push(ps(m,S,v)))),f)break;m=m.return}0<T.length&&(h=new y(h,_,null,n,c),d.push({event:h,listeners:T}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&(e&16)===0&&(_=n.relatedTarget||n.fromElement)&&(vr(_)||_[Bi]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?vr(_):null,_!==null&&(f=jr(_),_!==f||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(T=um,S="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(T=dm,S="onPointerLeave",p="onPointerEnter",m="pointer"),f=y==null?h:ni(y),v=_==null?h:ni(_),h=new T(S,m+"leave",y,n,c),h.target=f,h.relatedTarget=v,S=null,vr(c)===u&&(T=new T(p,m+"enter",_,n,c),T.target=v,T.relatedTarget=f,S=T),f=S,y&&_)t:{for(T=y,p=_,m=0,v=T;v;v=Yr(v))m++;for(v=0,S=p;S;S=Yr(S))v++;for(;0<m-v;)T=Yr(T),m--;for(;0<v-m;)p=Yr(p),v--;for(;m--;){if(T===p||p!==null&&T===p.alternate)break t;T=Yr(T),p=Yr(p)}T=null}else T=null;y!==null&&Rm(d,h,y,T,!1),_!==null&&f!==null&&Rm(d,f,_,T,!0)}}e:{if(h=u?ni(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=BC;else if(pm(h))if(Uv)A=HC;else{A=jC;var b=zC}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=WC);if(A&&(A=A(t,u))){$v(d,A,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&jc(h,"number",h.value)}switch(b=u?ni(u):window,t){case"focusin":(pm(b)||b.contentEditable==="true")&&(ti=b,nd=u,Go=null);break;case"focusout":Go=nd=ti=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,wm(d,n,c);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":wm(d,n,c)}var V;if(Mf)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else ei?Mv(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Lv&&n.locale!=="ko"&&(ei||U!=="onCompositionStart"?U==="onCompositionEnd"&&ei&&(V=Dv()):(Bn=c,Of="value"in Bn?Bn.value:Bn.textContent,ei=!0)),b=Ba(u,U),0<b.length&&(U=new cm(U,t,null,n,c),d.push({event:U,listeners:b}),V?U.data=V:(V=Fv(n),V!==null&&(U.data=V)))),(V=MC?FC(t,n):$C(t,n))&&(u=Ba(u,"onBeforeInput"),0<u.length&&(c=new cm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=V))}jv(d,e)})}function ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ba(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ls(t,n),o!=null&&r.unshift(ps(t,o,i)),o=ls(t,e),o!=null&&r.push(ps(t,o,i))),t=t.return}return r}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ls(n,o),l!=null&&s.unshift(ps(n,l,a))):i||(l=ls(n,o),l!=null&&s.push(ps(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}function za(){}var ac=null,lc=null;function Kv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function id(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0;function Ff(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uc=0;function QC(t){return{$$typeof:Ef,toString:t,valueOf:t}}var jl=Math.random().toString(36).slice(2),zn="__reactFiber$"+jl,ja="__reactProps$"+jl,Bi="__reactContainer$"+jl,bm="__reactEvents$"+jl;function vr(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bi]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=km(t);t!==null;){if(n=t[zn])return n;t=km(t)}return e}t=n,n=t.parentNode}return null}function Ds(t){return t=t[zn]||t[Bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Wl(t){return t[ja]||null}function qv(t){var e=t[bm];return e===void 0&&(e=t[bm]=new Set),e}var od=[],ri=-1;function ur(t){return{current:t}}function $e(t){0>ri||(t.current=od[ri],od[ri]=null,ri--)}function We(t,e){ri++,od[ri]=t.current,t.current=e}var ir={},yt=ur(ir),At=ur(!1),br=ir;function ki(t,e){var n=t.type.contextTypes;if(!n)return ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function Wa(){$e(At),$e(yt)}function Nm(t,e,n){if(yt.current!==ir)throw Error(L(168));We(yt,e),We(At,n)}function Yv(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,ui(e)||"Unknown",i));return Ve({},n,r)}function Ia(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ir,br=yt.current,We(yt,t),We(At,At.current),!0}function Am(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=Yv(t,e,br),r.__reactInternalMemoizedMergedChildContext=t,$e(At),$e(yt),We(yt,t)):$e(At),We(At,n)}var $f=null,Tr=null,XC=st.unstable_runWithPriority,Uf=st.unstable_scheduleCallback,sd=st.unstable_cancelCallback,ZC=st.unstable_shouldYield,xm=st.unstable_requestPaint,ad=st.unstable_now,JC=st.unstable_getCurrentPriorityLevel,Hl=st.unstable_ImmediatePriority,Qv=st.unstable_UserBlockingPriority,Xv=st.unstable_NormalPriority,Zv=st.unstable_LowPriority,Jv=st.unstable_IdlePriority,cc={},e1=xm!==void 0?xm:function(){},gn=null,ka=null,dc=!1,Pm=ad(),_t=1e4>Pm?ad:function(){return ad()-Pm};function bi(){switch(JC()){case Hl:return 99;case Qv:return 98;case Xv:return 97;case Zv:return 96;case Jv:return 95;default:throw Error(L(332))}}function ey(t){switch(t){case 99:return Hl;case 98:return Qv;case 97:return Xv;case 96:return Zv;case 95:return Jv;default:throw Error(L(332))}}function Nr(t,e){return t=ey(t),XC(t,e)}function ms(t,e,n){return t=ey(t),Uf(t,e,n)}function mn(){if(ka!==null){var t=ka;ka=null,sd(t)}ty()}function ty(){if(!dc&&gn!==null){dc=!0;var t=0;try{var e=gn;Nr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),gn=null}catch(n){throw gn!==null&&(gn=gn.slice(t+1)),Uf(Hl,mn),n}finally{dc=!1}}}var t1=zr.ReactCurrentBatchConfig;function Xt(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ha=ur(null),Ga=null,ii=null,Ka=null;function Vf(){Ka=ii=Ga=null}function Bf(t){var e=Ha.current;$e(Ha),t.type._context._currentValue=e}function ny(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function pi(t,e){Ga=t,Ka=ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Jt=!0),t.firstContext=null)}function zt(t,e){if(Ka!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ka=t,e=1073741823),e={context:t,observedBits:e,next:null},ii===null){if(Ga===null)throw Error(L(308));ii=e,Ga.dependencies={lanes:0,firstContext:e,responders:null}}else ii=ii.next=e;return t._currentValue}var Ln=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ry(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Om(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gs(t,e,n,r){var i=t.updateQueue;Ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;if(c!==null){c=c.updateQueue;var d=c.lastBaseUpdate;d!==s&&(d===null?c.firstBaseUpdate=u:d.next=u,c.lastBaseUpdate=l)}}if(o!==null){d=i.baseState,s=0,c=u=l=null;do{a=o.lane;var h=o.eventTime;if((r&a)===a){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,_=o;switch(a=e,h=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(h,d,a);break e}d=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=_.payload,a=typeof y=="function"?y.call(h,d,a):y,a==null)break e;d=Ve({},d,a);break e;case 2:Ln=!0}}o.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else h={eventTime:h,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Ms|=s,t.lanes=s,t.memoizedState=d}}function Dm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var iy=new Ml.Component().refs;function qa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gl={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Yn(t),o=Kn(r,i);o.payload=e,n!=null&&(o.callback=n),qn(t,o),Qn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Yn(t),o=Kn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),qn(t,o),Qn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Yn(t),i=Kn(n,r);i.tag=2,e!=null&&(i.callback=e),qn(t,i),Qn(t,r,n)}};function Lm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!hs(n,r)||!hs(i,o):!0}function oy(t,e,n){var r=!1,i=ir,o=e.contextType;return typeof o=="object"&&o!==null?o=zt(o):(i=xt(e)?br:yt.current,r=e.contextTypes,o=(r=r!=null)?ki(t,i):ir),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Mm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gl.enqueueReplaceState(e,e.state,null)}function ld(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=iy,zf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zt(o):(o=xt(e)?br:yt.current,i.context=ki(t,o)),gs(t,n,i,r),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qa(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gl.enqueueReplaceState(i,i.state,null),gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var sa=Array.isArray;function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=r.refs;s===iy&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function aa(t,e){if(t.type!=="textarea")throw Error(L(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function sy(t){function e(f,p){if(t){var m=f.lastEffect;m!==null?(m.nextEffect=p,f.lastEffect=p):f.firstEffect=f.lastEffect=p,p.nextEffect=null,p.flags=8}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=sr(f,p),f.index=0,f.sibling=null,f}function o(f,p,m){return f.index=m,t?(m=f.alternate,m!==null?(m=m.index,m<p?(f.flags=2,p):m):(f.flags=2,p)):p}function s(f){return t&&f.alternate===null&&(f.flags=2),f}function a(f,p,m,v){return p===null||p.tag!==6?(p=gc(m,f.mode,v),p.return=f,p):(p=i(p,m),p.return=f,p)}function l(f,p,m,v){return p!==null&&p.elementType===m.type?(v=i(p,m.props),v.ref=mo(f,p,m),v.return=f,v):(v=xa(m.type,m.key,m.props,null,f.mode,v),v.ref=mo(f,p,m),v.return=f,v)}function u(f,p,m,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=_c(m,f.mode,v),p.return=f,p):(p=i(p,m.children||[]),p.return=f,p)}function c(f,p,m,v,S){return p===null||p.tag!==7?(p=vi(m,f.mode,v,S),p.return=f,p):(p=i(p,m),p.return=f,p)}function d(f,p,m){if(typeof p=="string"||typeof p=="number")return p=gc(""+p,f.mode,m),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Po:return m=xa(p.type,p.key,p.props,null,f.mode,m),m.ref=mo(f,null,p),m.return=f,m;case gr:return p=_c(p,f.mode,m),p.return=f,p}if(sa(p)||lo(p))return p=vi(p,f.mode,m,null),p.return=f,p;aa(f,p)}return null}function h(f,p,m,v){var S=p!==null?p.key:null;if(typeof m=="string"||typeof m=="number")return S!==null?null:a(f,p,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Po:return m.key===S?m.type===Fn?c(f,p,m.props.children,v,S):l(f,p,m,v):null;case gr:return m.key===S?u(f,p,m,v):null}if(sa(m)||lo(m))return S!==null?null:c(f,p,m,v,null);aa(f,m)}return null}function y(f,p,m,v,S){if(typeof v=="string"||typeof v=="number")return f=f.get(m)||null,a(p,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Po:return f=f.get(v.key===null?m:v.key)||null,v.type===Fn?c(p,f,v.props.children,S,v.key):l(p,f,v,S);case gr:return f=f.get(v.key===null?m:v.key)||null,u(p,f,v,S)}if(sa(v)||lo(v))return f=f.get(m)||null,c(p,f,v,S,null);aa(p,v)}return null}function _(f,p,m,v){for(var S=null,A=null,b=p,V=p=0,U=null;b!==null&&V<m.length;V++){b.index>V?(U=b,b=null):U=b.sibling;var M=h(f,b,m[V],v);if(M===null){b===null&&(b=U);break}t&&b&&M.alternate===null&&e(f,b),p=o(M,p,V),A===null?S=M:A.sibling=M,A=M,b=U}if(V===m.length)return n(f,b),S;if(b===null){for(;V<m.length;V++)b=d(f,m[V],v),b!==null&&(p=o(b,p,V),A===null?S=b:A.sibling=b,A=b);return S}for(b=r(f,b);V<m.length;V++)U=y(b,f,V,m[V],v),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?V:U.key),p=o(U,p,V),A===null?S=U:A.sibling=U,A=U);return t&&b.forEach(function(J){return e(f,J)}),S}function T(f,p,m,v){var S=lo(m);if(typeof S!="function")throw Error(L(150));if(m=S.call(m),m==null)throw Error(L(151));for(var A=S=null,b=p,V=p=0,U=null,M=m.next();b!==null&&!M.done;V++,M=m.next()){b.index>V?(U=b,b=null):U=b.sibling;var J=h(f,b,M.value,v);if(J===null){b===null&&(b=U);break}t&&b&&J.alternate===null&&e(f,b),p=o(J,p,V),A===null?S=J:A.sibling=J,A=J,b=U}if(M.done)return n(f,b),S;if(b===null){for(;!M.done;V++,M=m.next())M=d(f,M.value,v),M!==null&&(p=o(M,p,V),A===null?S=M:A.sibling=M,A=M);return S}for(b=r(f,b);!M.done;V++,M=m.next())M=y(b,f,V,M.value,v),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?V:M.key),p=o(M,p,V),A===null?S=M:A.sibling=M,A=M);return t&&b.forEach(function(we){return e(f,we)}),S}return function(f,p,m,v){var S=typeof m=="object"&&m!==null&&m.type===Fn&&m.key===null;S&&(m=m.props.children);var A=typeof m=="object"&&m!==null;if(A)switch(m.$$typeof){case Po:e:{for(A=m.key,S=p;S!==null;){if(S.key===A){switch(S.tag){case 7:if(m.type===Fn){n(f,S.sibling),p=i(S,m.props.children),p.return=f,f=p;break e}break;default:if(S.elementType===m.type){n(f,S.sibling),p=i(S,m.props),p.ref=mo(f,S,m),p.return=f,f=p;break e}}n(f,S);break}else e(f,S);S=S.sibling}m.type===Fn?(p=vi(m.props.children,f.mode,v,m.key),p.return=f,f=p):(v=xa(m.type,m.key,m.props,null,f.mode,v),v.ref=mo(f,p,m),v.return=f,f=v)}return s(f);case gr:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(f,p.sibling),p=i(p,m.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=_c(m,f.mode,v),p.return=f,f=p}return s(f)}if(typeof m=="string"||typeof m=="number")return m=""+m,p!==null&&p.tag===6?(n(f,p.sibling),p=i(p,m),p.return=f,f=p):(n(f,p),p=gc(m,f.mode,v),p.return=f,f=p),s(f);if(sa(m))return _(f,p,m,v);if(lo(m))return T(f,p,m,v);if(A&&aa(f,m),typeof m=="undefined"&&!S)switch(f.tag){case 1:case 22:case 0:case 11:case 15:throw Error(L(152,ui(f.type)||"Component"))}return n(f,p)}}var Ya=sy(!0),ay=sy(!1),Ls={},cn=ur(Ls),_s=ur(Ls),vs=ur(Ls);function yr(t){if(t===Ls)throw Error(L(174));return t}function ud(t,e){switch(We(vs,e),We(_s,t),We(cn,Ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kc(e,t)}$e(cn),We(cn,e)}function Ni(){$e(cn),$e(_s),$e(vs)}function Fm(t){yr(vs.current);var e=yr(cn.current),n=Kc(e,t.type);e!==n&&(We(_s,t),We(cn,n))}function jf(t){_s.current===t&&($e(cn),$e(_s))}var je=ur(0);function Qa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yn=null,jn=null,dn=!1;function ly(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function $m(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function cd(t){if(dn){var e=jn;if(e){var n=e;if(!$m(t,e)){if(e=hi(n.nextSibling),!e||!$m(t,e)){t.flags=t.flags&-1025|2,dn=!1,yn=t;return}ly(yn,n)}yn=t,jn=hi(e.firstChild)}else t.flags=t.flags&-1025|2,dn=!1,yn=t}}function Um(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function la(t){if(t!==yn)return!1;if(!dn)return Um(t),dn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!id(e,t.memoizedProps))for(e=jn;e;)ly(t,e),e=hi(e.nextSibling);if(Um(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=yn?hi(t.stateNode.nextSibling):null;return!0}function fc(){jn=yn=null,dn=!1}var mi=[];function Wf(){for(var t=0;t<mi.length;t++)mi[t]._workInProgressVersionPrimary=null;mi.length=0}var Ko=zr.ReactCurrentDispatcher,Bt=zr.ReactCurrentBatchConfig,ys=0,Ke=null,mt=null,ct=null,Xa=!1,qo=!1;function Rt(){throw Error(L(321))}function Hf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function Gf(t,e,n,r,i,o){if(ys=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?r1:i1,t=n(r,i),qo){o=0;do{if(qo=!1,!(25>o))throw Error(L(301));o+=1,ct=mt=null,e.updateQueue=null,Ko.current=o1,t=n(r,i)}while(qo)}if(Ko.current=tl,e=mt!==null&&mt.next!==null,ys=0,ct=mt=Ke=null,Xa=!1,e)throw Error(L(300));return t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=t:ct=ct.next=t,ct}function Wr(){if(mt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=ct===null?Ke.memoizedState:ct.next;if(e!==null)ct=e,mt=t;else{if(t===null)throw Error(L(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},ct===null?Ke.memoizedState=ct=t:ct=ct.next=t}return ct}function ln(t,e){return typeof e=="function"?e(t):e}function go(t){var e=Wr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var u=l.lane;if((ys&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(s=a=c,o=r):a=a.next=c,Ke.lanes|=u,Ms|=u}l=l.next}while(l!==null&&l!==i);a===null?o=r:a.next=s,Ut(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function _o(t){var e=Wr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ut(o,e.memoizedState)||(Jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Vm(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(ys&t)===t)&&(e._workInProgressVersionPrimary=r,mi.push(e))),t)return n(e._source);throw mi.push(e),Error(L(350))}function uy(t,e,n,r){var i=St;if(i===null)throw Error(L(349));var o=e._getVersion,s=o(e._source),a=Ko.current,l=a.useState(function(){return Vm(i,e,n)}),u=l[1],c=l[0];l=ct;var d=t.memoizedState,h=d.refs,y=h.getSnapshot,_=d.source;d=d.subscribe;var T=Ke;return t.memoizedState={refs:h,source:e,subscribe:r},a.useEffect(function(){h.getSnapshot=n,h.setSnapshot=u;var f=o(e._source);if(!Ut(s,f)){f=n(e._source),Ut(c,f)||(u(f),f=Yn(T),i.mutableReadLanes|=f&i.pendingLanes),f=i.mutableReadLanes,i.entangledLanes|=f;for(var p=i.entanglements,m=f;0<m;){var v=31-rr(m),S=1<<v;p[v]|=f,m&=~S}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var f=h.getSnapshot,p=h.setSnapshot;try{p(f(e._source));var m=Yn(T);i.mutableReadLanes|=m&i.pendingLanes}catch(v){p(function(){throw v})}})},[e,r]),Ut(y,n)&&Ut(_,e)&&Ut(d,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ln,lastRenderedState:c},t.dispatch=u=Yf.bind(null,Ke,t),l.queue=t,l.baseQueue=null,c=Vm(i,e,n),l.memoizedState=l.baseState=c),c}function cy(t,e,n){var r=Wr();return uy(r,t,e,n)}function vo(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ln,lastRenderedState:t},t=t.dispatch=Yf.bind(null,Ke,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bm(t){var e=wr();return t={current:t},e.memoizedState=t}function Ja(){return Wr().memoizedState}function dd(t,e,n,r){var i=wr();Ke.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function Kf(t,e,n,r){var i=Wr();r=r===void 0?null:r;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,r!==null&&Hf(r,s.deps)){Za(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=Za(1|e,n,o,r)}function zm(t,e){return dd(516,4,t,e)}function el(t,e){return Kf(516,4,t,e)}function dy(t,e){return Kf(4,2,t,e)}function fy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hy(t,e,n){return n=n!=null?n.concat([t]):null,Kf(4,2,fy.bind(null,e,t),n)}function qf(){}function py(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function my(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n1(t,e){var n=bi();Nr(98>n?98:n,function(){t(!0)}),Nr(97<n?97:n,function(){var r=Bt.transition;Bt.transition=1;try{t(!1),e()}finally{Bt.transition=r}})}function Yf(t,e,n){var r=Lt(),i=Yn(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Ke||s!==null&&s===Ke)qo=Xa=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,Ut(l,a))return}catch{}finally{}Qn(t,i,r)}}var tl={readContext:zt,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useOpaqueIdentifier:Rt,unstable_isNewReconciler:!1},r1={readContext:zt,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:zm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dd(4,2,fy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dd(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Yf.bind(null,Ke,t),[r.memoizedState,t]},useRef:Bm,useState:vo,useDebugValue:qf,useDeferredValue:function(t){var e=vo(t),n=e[0],r=e[1];return zm(function(){var i=Bt.transition;Bt.transition=1;try{r(t)}finally{Bt.transition=i}},[t]),n},useTransition:function(){var t=vo(!1),e=t[0];return t=n1.bind(null,t[1]),Bm(t),[t,e]},useMutableSource:function(t,e,n){var r=wr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},uy(r,t,e,n)},useOpaqueIdentifier:function(){if(dn){var t=!1,e=QC(function(){throw t||(t=!0,n("r:"+(uc++).toString(36))),Error(L(355))}),n=vo(e)[1];return(Ke.mode&2)===0&&(Ke.flags|=516,Za(5,function(){n("r:"+(uc++).toString(36))},void 0,null)),e}return e="r:"+(uc++).toString(36),vo(e),e},unstable_isNewReconciler:!1},i1={readContext:zt,useCallback:py,useContext:zt,useEffect:el,useImperativeHandle:hy,useLayoutEffect:dy,useMemo:my,useReducer:go,useRef:Ja,useState:function(){return go(ln)},useDebugValue:qf,useDeferredValue:function(t){var e=go(ln),n=e[0],r=e[1];return el(function(){var i=Bt.transition;Bt.transition=1;try{r(t)}finally{Bt.transition=i}},[t]),n},useTransition:function(){var t=go(ln)[0];return[Ja().current,t]},useMutableSource:cy,useOpaqueIdentifier:function(){return go(ln)[0]},unstable_isNewReconciler:!1},o1={readContext:zt,useCallback:py,useContext:zt,useEffect:el,useImperativeHandle:hy,useLayoutEffect:dy,useMemo:my,useReducer:_o,useRef:Ja,useState:function(){return _o(ln)},useDebugValue:qf,useDeferredValue:function(t){var e=_o(ln),n=e[0],r=e[1];return el(function(){var i=Bt.transition;Bt.transition=1;try{r(t)}finally{Bt.transition=i}},[t]),n},useTransition:function(){var t=_o(ln)[0];return[Ja().current,t]},useMutableSource:cy,useOpaqueIdentifier:function(){return _o(ln)[0]},unstable_isNewReconciler:!1},s1=zr.ReactCurrentOwner,Jt=!1;function It(t,e,n,r){e.child=t===null?ay(e,null,n,r):Ya(e,t.child,n,r)}function jm(t,e,n,r,i){n=n.render;var o=e.ref;return pi(e,i),r=Gf(t,e,n,r,o,i),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,wn(t,e,i)):(e.flags|=1,It(t,e,r,i),e.child)}function Wm(t,e,n,r,i,o){if(t===null){var s=n.type;return typeof s=="function"&&!th(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gy(t,e,s,r,i,o)):(t=xa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,n=n.compare,n=n!==null?n:hs,n(i,r)&&t.ref===e.ref)?wn(t,e,o):(e.flags|=1,t=sr(s,r),t.ref=e.ref,t.return=e,e.child=t)}function gy(t,e,n,r,i,o){if(t!==null&&hs(t.memoizedProps,r)&&t.ref===e.ref)if(Jt=!1,(o&i)!==0)(t.flags&16384)!==0&&(Jt=!0);else return e.lanes=t.lanes,wn(t,e,o);return fd(t,e,n,r,o)}function hc(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ca(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},ca(e,o!==null?o.baseLanes:n);else return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ca(e,t),null;else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ca(e,r);return It(t,e,i,n),e.child}function _y(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function fd(t,e,n,r,i){var o=xt(n)?br:yt.current;return o=ki(e,o),pi(e,i),n=Gf(t,e,n,r,o,i),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,wn(t,e,i)):(e.flags|=1,It(t,e,n,i),e.child)}function Hm(t,e,n,r,i){if(xt(n)){var o=!0;Ia(e)}else o=!1;if(pi(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),oy(e,n,r),ld(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=xt(n)?br:yt.current,u=ki(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Mm(e,s,r,u),Ln=!1;var h=e.memoizedState;s.state=h,gs(e,r,s,i),l=e.memoizedState,a!==r||h!==l||At.current||Ln?(typeof c=="function"&&(qa(e,n,c,r),l=e.memoizedState),(a=Ln||Lm(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{s=e.stateNode,ry(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xt(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=xt(n)?br:yt.current,l=ki(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Mm(e,s,r,l),Ln=!1,h=e.memoizedState,s.state=h,gs(e,r,s,i);var _=e.memoizedState;a!==d||h!==_||At.current||Ln?(typeof y=="function"&&(qa(e,n,y,r),_=e.memoizedState),(u=Ln||Lm(e,n,u,r,h,_,l))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return hd(t,e,n,r,o,i)}function hd(t,e,n,r,i,o){_y(t,e);var s=(e.flags&64)!==0;if(!r&&!s)return i&&Am(e,n,!1),wn(t,e,o);r=e.stateNode,s1.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):It(t,e,a,o),e.memoizedState=r.state,i&&Am(e,n,!0),e.child}function Gm(t){var e=t.stateNode;e.pendingContext?Nm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nm(t,e.context,!1),ud(t,e.containerInfo)}var ua={dehydrated:null,retryLane:0};function Km(t,e,n){var r=e.pendingProps,i=je.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),We(je,i&1),t===null?(r.fallback!==void 0&&cd(e),t=r.children,i=r.fallback,o?(t=qm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ua,t):typeof r.unstable_expectedLoadTime=="number"?(t=qm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ua,e.lanes=33554432,t):(n=nh({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?o?(r=Qm(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=ua,r):(n=Ym(t,e,r.children,n),e.memoizedState=null,n):o?(r=Qm(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=ua,r):(n=Ym(t,e,r.children,n),e.memoizedState=null,n)}function qm(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=nh(e,i,0,null),n=vi(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Ym(t,e,n,r){var i=t.child;return t=i.sibling,n=sr(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Qm(t,e,n,r,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:n};return(o&2)===0&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,s=n.lastEffect,s!==null?(e.firstEffect=n.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):n=sr(s,a),t!==null?r=sr(t,r):(r=vi(r,o,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Xm(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ny(t.return,e)}function pc(t,e,n,r,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Zm(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(It(t,e,r.children,n),r=je.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xm(t,n);else if(t.tag===19)Xm(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(je,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pc(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pc(e,!0,n,null,o,e.lastEffect);break;case"together":pc(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var vy,pd,yy,wy;vy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pd=function(){};yy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(cn.current);var o=null;switch(n){case"input":i=Bc(t,i),r=Bc(t,r),o=[];break;case"option":i=Wc(t,i),r=Wc(t,r),o=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":i=Hc(t,i),r=Hc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=za)}qc(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ss.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ss.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",t),o||a===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===Ef?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};wy=function(t,e,n,r){n!==r&&(e.flags|=4)};function yo(t,e){if(!dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function a1(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return xt(e.type)&&Wa(),null;case 3:return Ni(),$e(At),$e(yt),Wf(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(la(e)?e.flags|=4:r.hydrate||(e.flags|=256)),pd(e),null;case 5:jf(e);var i=yr(vs.current);if(n=e.type,t!==null&&e.stateNode!=null)yy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(L(166));return null}if(t=yr(cn.current),la(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zn]=e,r[ja]=o,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(t=0;t<Do.length;t++)Me(Do[t],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Zp(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":em(r,o),Me("invalid",r)}qc(n,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ss.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Me("scroll",r));switch(n){case"input":na(r),Jp(r,o,!0);break;case"textarea":na(r),tm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=za)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===Gc.html&&(t=hv(n)),t===Gc.html?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zn]=e,t[ja]=r,vy(t,e,!1,!1),e.stateNode=t,s=Yc(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Do.length;i++)Me(Do[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Zp(t,r),i=Bc(t,r),Me("invalid",t);break;case"option":i=Wc(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Me("invalid",t);break;case"textarea":em(t,r),i=Hc(t,r),Me("invalid",t);break;default:i=r}qc(n,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?gv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&as(t,l):typeof l=="number"&&as(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ss.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Me("scroll",t):l!=null&&gf(t,o,l,s))}switch(n){case"input":na(t),Jp(t,r,!1);break;case"textarea":na(t),tm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ci(t,!!r.multiple,o,!1):r.defaultValue!=null&&ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=za)}Kv(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)wy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));n=yr(vs.current),yr(cn.current),la(e)?(r=e.stateNode,n=e.memoizedProps,r[zn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r)}return null;case 13:return $e(je),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&la(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(je.current&1)!==0?dt===0&&(dt=3):((dt===0||dt===3)&&(dt=4),St===null||(Ms&134217727)===0&&(ji&134217727)===0||gi(St,vt))),(r||n)&&(e.flags|=4),null);case 4:return Ni(),pd(e),t===null&&Wv(e.stateNode.containerInfo),null;case 10:return Bf(e),null;case 17:return xt(e.type)&&Wa(),null;case 19:if($e(je),r=e.memoizedState,r===null)return null;if(o=(e.flags&64)!==0,s=r.rendering,s===null)if(o)yo(r,!1);else{if(dt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=Qa(t),s!==null){for(e.flags|=64,yo(r,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(je,je.current&1|2),e.child}t=t.sibling}r.tail!==null&&_t()>wd&&(e.flags|=64,o=!0,yo(r,!1),e.lanes=33554432)}else{if(!o)if(t=Qa(s),t!==null){if(e.flags|=64,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!dn)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*_t()-r.renderingStartTime>wd&&n!==1073741824&&(e.flags|=64,o=!0,yo(r,!1),e.lanes=33554432);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,n!==null?n.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=_t(),n.sibling=null,e=je.current,We(je,o?e&1|2:e&1),n):null;case 23:case 24:return eh(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(L(156,e.tag))}function l1(t){switch(t.tag){case 1:xt(t.type)&&Wa();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ni(),$e(At),$e(yt),Wf(),e=t.flags,(e&64)!==0)throw Error(L(285));return t.flags=e&-4097|64,t;case 5:return jf(t),null;case 13:return $e(je),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return $e(je),null;case 4:return Ni(),null;case 10:return Bf(t),null;case 23:case 24:return eh(),null;default:return null}}function Qf(t,e){try{var n="",r=e;do n+=zE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function md(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u1=typeof WeakMap=="function"?WeakMap:Map;function Sy(t,e,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rl||(rl=!0,Sd=r),md(t,e)},n}function Ey(t,e,n){n=Kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return md(t,e),r(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(un===null?un=new Set([this]):un.add(this),md(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}var c1=typeof WeakSet=="function"?WeakSet:Set;function Jm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Xn(t,n)}else e.current=null}function d1(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Xt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ff(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(L(163))}function f1(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(xy(n,t),w1(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Xt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Dm(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Dm(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Kv(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Iv(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(L(163))}function eg(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=mv("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tg(t,e){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount($f,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)xy(e,n);else{r=e;try{i()}catch(o){Xn(r,o)}}n=n.next}while(n!==t)}break;case 1:if(Jm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Xn(e,o)}break;case 5:Jm(e);break;case 4:Cy(t,e)}}function ng(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function rg(t){return t.tag===5||t.tag===3||t.tag===4}function ig(t){e:{for(var e=t.return;e!==null;){if(rg(e))break e;e=e.return}throw Error(L(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(L(161))}n.flags&16&&(as(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||rg(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?gd(t,n,e):_d(t,n,e)}function gd(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=za));else if(r!==4&&(t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}function _d(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_d(t,e,n),t=t.sibling;t!==null;)_d(t,e,n),t=t.sibling}function Cy(t,e){for(var n=e,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(L(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=t,a=n,l=a;;)if(tg(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(s=i,a=n.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(tg(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function mc(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(n[ja]=r,t==="input"&&r.type==="radio"&&r.name!=null&&dv(n,r),Yc(t,i),e=Yc(t,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?gv(n,a):s==="dangerouslySetInnerHTML"?pv(n,a):s==="children"?as(n,a):gf(n,s,a,e)}switch(t){case"input":zc(n,r);break;case"textarea":fv(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?ci(n,!!r.multiple,o,!1):t!==!!r.multiple&&(r.defaultValue!=null?ci(n,!!r.multiple,r.defaultValue,!0):ci(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(L(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Iv(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Jf=_t(),eg(e.child,!0)),og(e);return;case 19:og(e);return;case 17:return;case 23:case 24:eg(e,e.memoizedState!==null);return}throw Error(L(163))}function og(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c1),e.forEach(function(r){var i=C1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function h1(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var p1=Math.ceil,nl=zr.ReactCurrentDispatcher,Xf=zr.ReactCurrentOwner,ae=0,St=null,et=null,vt=0,Ar=0,vd=ur(0),dt=0,Kl=null,zi=0,Ms=0,ji=0,Zf=0,yd=null,Jf=0,wd=1/0;function Wi(){wd=_t()+500}var q=null,rl=!1,Sd=null,un=null,or=!1,Yo=null,Lo=90,Ed=[],Cd=[],Rn=null,Qo=0,Td=null,ba=-1,_n=0,Na=0,Xo=null,Aa=!1;function Lt(){return(ae&48)!==0?_t():ba!==-1?ba:ba=_t()}function Yn(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return bi()===99?1:2;if(_n===0&&(_n=zi),t1.transition!==0){Na!==0&&(Na=yd!==null?yd.pendingLanes:0),t=_n;var e=4186112&~Na;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=bi(),(ae&4)!==0&&t===98?t=Va(12,_n):(t=iC(t),t=Va(t,_n)),t}function Qn(t,e,n){if(50<Qo)throw Qo=0,Td=null,Error(L(185));if(t=ql(t,e),t===null)return null;Vl(t,e,n),t===St&&(ji|=e,dt===4&&gi(t,vt));var r=bi();e===1?(ae&8)!==0&&(ae&48)===0?Rd(t):(jt(t,n),ae===0&&(Wi(),mn())):((ae&4)===0||r!==98&&r!==99||(Rn===null?Rn=new Set([t]):Rn.add(t)),jt(t,n)),yd=t}function ql(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function jt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-rr(s),l=1<<a,u=o[a];if(u===-1){if((l&r)===0||(l&i)!==0){u=e,Xr(l);var c=De;o[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);s&=~l}if(r=ds(t,t===St?vt:0),e=De,r===0)n!==null&&(n!==cc&&sd(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==cc&&sd(n)}e===15?(n=Rd.bind(null,t),gn===null?(gn=[n],ka=Uf(Hl,ty)):gn.push(n),n=cc):e===14?n=ms(99,Rd.bind(null,t)):(n=oC(e),n=ms(n,Ty.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Ty(t){if(ba=-1,Na=_n=0,(ae&48)!==0)throw Error(L(327));var e=t.callbackNode;if(cr()&&t.callbackNode!==e)return null;var n=ds(t,t===St?vt:0);if(n===0)return null;var r=n,i=ae;ae|=16;var o=by();(St!==t||vt!==r)&&(Wi(),_i(t,r));do try{_1();break}catch(a){ky(t,a)}while(1);if(Vf(),nl.current=o,ae=i,et!==null?r=0:(St=null,vt=0,r=dt),(zi&ji)!==0)_i(t,0);else if(r!==0){if(r===2&&(ae|=64,t.hydrate&&(t.hydrate=!1,Ff(t.containerInfo)),n=Ov(t),n!==0&&(r=Mo(t,n))),r===1)throw e=Kl,_i(t,0),gi(t,n),jt(t,_t()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(L(345));case 2:hr(t);break;case 3:if(gi(t,n),(n&62914560)===n&&(r=Jf+500-_t(),10<r)){if(ds(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Im(hr.bind(null,t),r);break}hr(t);break;case 4:if(gi(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-rr(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p1(n/1960))-n,10<n){t.timeoutHandle=Im(hr.bind(null,t),n);break}hr(t);break;case 5:hr(t);break;default:throw Error(L(329))}}return jt(t,_t()),t.callbackNode===e?Ty.bind(null,t):null}function gi(t,e){for(e&=~Zf,e&=~ji,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function Rd(t){if((ae&48)!==0)throw Error(L(327));if(cr(),t===St&&(t.expiredLanes&vt)!==0){var e=vt,n=Mo(t,e);(zi&ji)!==0&&(e=ds(t,e),n=Mo(t,e))}else e=ds(t,0),n=Mo(t,e);if(t.tag!==0&&n===2&&(ae|=64,t.hydrate&&(t.hydrate=!1,Ff(t.containerInfo)),e=Ov(t),e!==0&&(n=Mo(t,e))),n===1)throw n=Kl,_i(t,0),gi(t,e),jt(t,_t()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,hr(t),jt(t,_t()),null}function m1(){if(Rn!==null){var t=Rn;Rn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,jt(e,_t())})}mn()}function Ry(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(Wi(),mn())}}function Iy(t,e){var n=ae;ae&=-2,ae|=8;try{return t(e)}finally{ae=n,ae===0&&(Wi(),mn())}}function ca(t,e){We(vd,Ar),Ar|=e,zi|=e}function eh(){Ar=vd.current,$e(vd)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YC(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wa();break;case 3:Ni(),$e(At),$e(yt),Wf();break;case 5:jf(r);break;case 4:Ni();break;case 13:$e(je);break;case 19:$e(je);break;case 10:Bf(r);break;case 23:case 24:eh()}n=n.return}St=t,et=sr(t.current,null),vt=Ar=zi=e,dt=0,Kl=null,Zf=ji=Ms=0}function ky(t,e){do{var n=et;try{if(Vf(),Ko.current=tl,Xa){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xa=!1}if(ys=0,ct=mt=Ke=null,qo=!1,Xf.current=null,n===null||n.return===null){dt=1,Kl=e,et=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vt,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=(je.current&1)!==0,h=s;do{var y;if(y=h.tag===13){var _=h.memoizedState;if(_!==null)y=_.dehydrated!==null;else{var T=h.memoizedProps;y=T.fallback===void 0?!1:T.unstable_avoidThisFallback!==!0?!0:!d}}if(y){var f=h.updateQueue;if(f===null){var p=new Set;p.add(u),h.updateQueue=p}else f.add(u);if((h.mode&2)===0){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var m=Kn(-1,1);m.tag=2,qn(a,m)}a.lanes|=1;break e}l=void 0,a=e;var v=o.pingCache;if(v===null?(v=o.pingCache=new u1,l=new Set,v.set(u,l)):(l=v.get(u),l===void 0&&(l=new Set,v.set(u,l))),!l.has(a)){l.add(a);var S=E1.bind(null,o,u,a);u.then(S,S)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);l=Error((ui(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}dt!==5&&(dt=2),l=Qf(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,e&=-e,h.lanes|=e;var A=Sy(h,o,e);Om(h,A);break e;case 1:o=l;var b=h.type,V=h.stateNode;if((h.flags&64)===0&&(typeof b.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(un===null||!un.has(V)))){h.flags|=4096,e&=-e,h.lanes|=e;var U=Ey(h,o,e);Om(h,U);break e}}h=h.return}while(h!==null)}Ay(n)}catch(M){e=M,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function by(){var t=nl.current;return nl.current=tl,t===null?tl:t}function Mo(t,e){var n=ae;ae|=16;var r=by();St===t&&vt===e||_i(t,e);do try{g1();break}catch(i){ky(t,i)}while(1);if(Vf(),ae=n,nl.current=r,et!==null)throw Error(L(261));return St=null,vt=0,dt}function g1(){for(;et!==null;)Ny(et)}function _1(){for(;et!==null&&!ZC();)Ny(et)}function Ny(t){var e=Py(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?Ay(t):et=e,Xf.current=null}function Ay(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=a1(n,e,Ar),n!==null){et=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Ar&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=l1(e),n!==null){n.flags&=2047,et=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);dt===0&&(dt=5)}function hr(t){var e=bi();return Nr(99,v1.bind(null,t,e)),null}function v1(t,e){do cr();while(Yo!==null);if((ae&48)!==0)throw Error(L(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,a=t.expirationTimes;0<o;){var l=31-rr(o),u=1<<l;i[l]=0,s[l]=-1,a[l]=-1,o&=~u}if(Rn!==null&&(r&24)===0&&Rn.has(t)&&Rn.delete(t),t===St&&(et=St=null,vt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=ae,ae|=32,Xf.current=null,ac=Ca,s=ym(),td(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&u.rangeCount!==0){a=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var c=0,d=-1,h=-1,y=0,_=0,T=s,f=null;t:for(;;){for(var p;T!==a||o!==0&&T.nodeType!==3||(d=c+o),T!==l||u!==0&&T.nodeType!==3||(h=c+u),T.nodeType===3&&(c+=T.nodeValue.length),(p=T.firstChild)!==null;)f=T,T=p;for(;;){if(T===s)break t;if(f===a&&++y===o&&(d=c),f===l&&++_===u&&(h=c),(p=T.nextSibling)!==null)break;T=f,f=T.parentNode}T=p}a=d===-1||h===-1?null:{start:d,end:h}}else a=null;a=a||{start:0,end:0}}else a=null;lc={focusedElem:s,selectionRange:a},Ca=!1,Xo=null,Aa=!1,q=r;do try{y1()}catch(M){if(q===null)throw Error(L(330));Xn(q,M),q=q.nextEffect}while(q!==null);Xo=null,q=r;do try{for(s=t;q!==null;){var m=q.flags;if(m&16&&as(q.stateNode,""),m&128){var v=q.alternate;if(v!==null){var S=v.ref;S!==null&&(typeof S=="function"?S(null):S.current=null)}}switch(m&1038){case 2:ig(q),q.flags&=-3;break;case 6:ig(q),q.flags&=-3,mc(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,mc(q.alternate,q);break;case 4:mc(q.alternate,q);break;case 8:a=q,Cy(s,a);var A=a.alternate;ng(a),A!==null&&ng(A)}q=q.nextEffect}}catch(M){if(q===null)throw Error(L(330));Xn(q,M),q=q.nextEffect}while(q!==null);if(S=lc,v=ym(),m=S.focusedElem,s=S.selectionRange,v!==m&&m&&m.ownerDocument&&Bv(m.ownerDocument.documentElement,m)){for(s!==null&&td(m)&&(v=s.start,S=s.end,S===void 0&&(S=v),"selectionStart"in m?(m.selectionStart=v,m.selectionEnd=Math.min(S,m.value.length)):(S=(v=m.ownerDocument||document)&&v.defaultView||window,S.getSelection&&(S=S.getSelection(),a=m.textContent.length,A=Math.min(s.start,a),s=s.end===void 0?A:Math.min(s.end,a),!S.extend&&A>s&&(a=s,s=A,A=a),a=vm(m,A),o=vm(m,s),a&&o&&(S.rangeCount!==1||S.anchorNode!==a.node||S.anchorOffset!==a.offset||S.focusNode!==o.node||S.focusOffset!==o.offset)&&(v=v.createRange(),v.setStart(a.node,a.offset),S.removeAllRanges(),A>s?(S.addRange(v),S.extend(o.node,o.offset)):(v.setEnd(o.node,o.offset),S.addRange(v)))))),v=[],S=m;S=S.parentNode;)S.nodeType===1&&v.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<v.length;m++)S=v[m],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}Ca=!!ac,lc=ac=null,t.current=n,q=r;do try{for(m=t;q!==null;){var b=q.flags;if(b&36&&f1(m,q.alternate,q),b&128){v=void 0;var V=q.ref;if(V!==null){var U=q.stateNode;switch(q.tag){case 5:v=U;break;default:v=U}typeof V=="function"?V(v):V.current=v}}q=q.nextEffect}}catch(M){if(q===null)throw Error(L(330));Xn(q,M),q=q.nextEffect}while(q!==null);q=null,e1(),ae=i}else t.current=n;if(or)or=!1,Yo=t,Lo=e;else for(q=r;q!==null;)e=q.nextEffect,q.nextEffect=null,q.flags&8&&(b=q,b.sibling=null,b.stateNode=null),q=e;if(r=t.pendingLanes,r===0&&(un=null),r===1?t===Td?Qo++:(Qo=0,Td=t):Qo=0,n=n.stateNode,Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot($f,n,void 0,(n.current.flags&64)===64)}catch{}if(jt(t,_t()),rl)throw rl=!1,t=Sd,Sd=null,t;return(ae&8)!==0||mn(),null}function y1(){for(;q!==null;){var t=q.alternate;Aa||Xo===null||((q.flags&8)!==0?im(q,Xo)&&(Aa=!0):q.tag===13&&h1(t,q)&&im(q,Xo)&&(Aa=!0));var e=q.flags;(e&256)!==0&&d1(t,q),(e&512)===0||or||(or=!0,ms(97,function(){return cr(),null})),q=q.nextEffect}}function cr(){if(Lo!==90){var t=97<Lo?97:Lo;return Lo=90,Nr(t,S1)}return!1}function w1(t,e){Ed.push(e,t),or||(or=!0,ms(97,function(){return cr(),null}))}function xy(t,e){Cd.push(e,t),or||(or=!0,ms(97,function(){return cr(),null}))}function S1(){if(Yo===null)return!1;var t=Yo;if(Yo=null,(ae&48)!==0)throw Error(L(331));var e=ae;ae|=32;var n=Cd;Cd=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(l){if(o===null)throw Error(L(330));Xn(o,l)}}for(n=Ed,Ed=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(o===null)throw Error(L(330));Xn(o,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return ae=e,mn(),!0}function sg(t,e,n){e=Qf(n,e),e=Sy(t,e,1),qn(t,e),e=Lt(),t=ql(t,1),t!==null&&(Vl(t,1,e),jt(t,e))}function Xn(t,e){if(t.tag===3)sg(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){sg(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){t=Qf(e,t);var i=Ey(n,t,1);if(qn(n,i),i=Lt(),n=ql(n,1),n!==null)Vl(n,1,i),jt(n,i);else if(typeof r.componentDidCatch=="function"&&(un===null||!un.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function E1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(vt&n)===n&&(dt===4||dt===3&&(vt&62914560)===vt&&500>_t()-Jf?_i(t,0):Zf|=n),jt(t,e)}function C1(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=bi()===99?1:2:(_n===0&&(_n=zi),e=Zr(62914560&~_n),e===0&&(e=4194304))),n=Lt(),t=ql(t,e),t!==null&&(Vl(t,e,n),jt(t,n))}var Py;Py=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Jt=!0;else if((n&r)!==0)Jt=(t.flags&16384)!==0;else{switch(Jt=!1,e.tag){case 3:Gm(e),fc();break;case 5:Fm(e);break;case 1:xt(e.type)&&Ia(e);break;case 4:ud(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;We(Ha,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?Km(t,e,n):(We(je,je.current&1),e=wn(t,e,n),e!==null?e.sibling:null);We(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return Zm(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(je,je.current),r)break;return null;case 23:case 24:return e.lanes=0,hc(t,e,n)}return wn(t,e,n)}else Jt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ki(e,yt.current),pi(e,n),i=Gf(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)){var o=!0;Ia(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zf(e);var s=r.getDerivedStateFromProps;typeof s=="function"&&qa(e,r,s,t),i.updater=Gl,e.stateNode=i,i._reactInternals=e,ld(e,r,t,n),e=hd(null,e,r,!0,o,n)}else e.tag=0,It(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=R1(i),t=Xt(i,t),o){case 0:e=fd(null,e,i,t,n);break e;case 1:e=Hm(null,e,i,t,n);break e;case 11:e=jm(null,e,i,t,n);break e;case 14:e=Wm(null,e,i,Xt(i.type,t),r,n);break e}throw Error(L(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),fd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Hm(t,e,r,i,n);case 3:if(Gm(e),r=e.updateQueue,t===null||r===null)throw Error(L(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,ry(t,e),gs(e,r,null,n),r=e.memoizedState.element,r===i)fc(),e=wn(t,e,n);else{if(i=e.stateNode,(o=i.hydrate)&&(jn=hi(e.stateNode.containerInfo.firstChild),yn=e,o=dn=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],mi.push(o);for(n=ay(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else It(t,e,r,n),fc();e=e.child}return e;case 5:return Fm(e),t===null&&cd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,id(r,i)?s=null:o!==null&&id(r,o)&&(e.flags|=16),_y(t,e),It(t,e,s,n),e.child;case 6:return t===null&&cd(e),null;case 13:return Km(t,e,n);case 4:return ud(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),jm(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(We(Ha,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Ut(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!At.current){e=wn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&o)!==0){a.tag===1&&(u=Kn(-1,n&-n),u.tag=2,qn(a,u)),a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ny(a.return,n),l.lanes|=n;break}u=u.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,pi(e,n),i=zt(i,o.unstable_observedBits),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return i=e.type,o=Xt(i,e.pendingProps),o=Xt(i.type,o),Wm(t,e,i,o,r,n);case 15:return gy(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,xt(r)?(t=!0,Ia(e)):t=!1,pi(e,n),oy(e,r,i),ld(e,r,i,n),hd(null,e,r,!0,t,n);case 19:return Zm(t,e,n);case 23:return hc(t,e,n);case 24:return hc(t,e,n)}throw Error(L(156,e.tag))};function T1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,r){return new T1(t,e,n,r)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R1(t){if(typeof t=="function")return th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fl)return 11;if(t===$l)return 14}return 2}function sr(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xa(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")th(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fn:return vi(n.children,i,o,e);case lv:s=8,i|=16;break;case _f:s=8,i|=1;break;case Vo:return t=Vt(12,n,e,i|8),t.elementType=Vo,t.type=Vo,t.lanes=o,t;case Bo:return t=Vt(13,n,e,i),t.type=Bo,t.elementType=Bo,t.lanes=o,t;case Ma:return t=Vt(19,n,e,i),t.elementType=Ma,t.lanes=o,t;case Cf:return nh(n,i,o,e);case Vc:return t=Vt(24,n,e,i),t.elementType=Vc,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vf:s=10;break e;case yf:s=9;break e;case Fl:s=11;break e;case $l:s=14;break e;case wf:s=16,r=null;break e;case Sf:s=22;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Vt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=Vt(7,t,r,e),t.lanes=n,t}function nh(t,e,n,r){return t=Vt(23,t,r,e),t.elementType=Cf,t.lanes=n,t}function gc(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function _c(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I1(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.mutableSourceEagerHydrationData=null}function k1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function il(t,e,n,r){var i=e.current,o=Lt(),s=Yn(i);e:if(n){n=n._reactInternals;t:{if(jr(n)!==n||n.tag!==1)throw Error(L(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(xt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(L(171))}if(n.tag===1){var l=n.type;if(xt(l)){n=Yv(n,l,a);break e}}n=a}else n=ir;return e.context===null?e.context=n:e.pendingContext=n,e=Kn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),qn(i,e),Qn(i,s,o),s}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ag(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rh(t,e){ag(t,e),(t=t.alternate)&&ag(t,e)}function b1(){return null}function ih(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new I1(t,e,n!=null&&n.hydrate===!0),e=Vt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,zf(e),t[Bi]=n.current,Wv(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}ih.prototype.render=function(t){il(t,this._internalRoot,null,null)};ih.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;il(null,t,null,function(){e[Bi]=null})};function Fs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N1(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ih(t,0,e?{hydrate:!0}:void 0)}function Yl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var u=vc(s);a.call(u)}}il(e,s,t,i)}else{if(o=n._reactRootContainer=N1(n,r),s=o._internalRoot,typeof i=="function"){var l=i;i=function(){var u=vc(s);l.call(u)}}Iy(function(){il(e,s,t,i)})}return vc(s)}Cv=function(t){if(t.tag===13){var e=Lt();Qn(t,4,e),rh(t,4)}};bf=function(t){if(t.tag===13){var e=Lt();Qn(t,67108864,e),rh(t,67108864)}};Tv=function(t){if(t.tag===13){var e=Lt(),n=Yn(t);Qn(t,n,e),rh(t,n)}};Rv=function(t,e){return e()};Qc=function(t,e,n){switch(e){case"input":if(zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wl(r);if(!i)throw Error(L(90));cv(r),zc(r,i)}}}break;case"textarea":fv(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};Rf=Ry;yv=function(t,e,n,r,i){var o=ae;ae|=4;try{return Nr(98,t.bind(null,e,n,r,i))}finally{ae=o,ae===0&&(Wi(),mn())}};If=function(){(ae&49)===0&&(m1(),cr())};wv=function(t,e){var n=ae;ae|=2;try{return t(e)}finally{ae=n,ae===0&&(Wi(),mn())}};function Oy(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fs(e))throw Error(L(200));return k1(t,e,null,n)}var A1={Events:[Ds,ni,Wl,_v,vv,cr,{current:!1}]},wo={findFiberByHostInstance:vr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},x1={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ev(t),t===null?null:t.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||b1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{$f=da.inject(x1),Tr=da}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1;Wt.createPortal=Oy;Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):Error(L(268,Object.keys(t)));return t=Ev(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t,e){var n=ae;if((n&48)!==0)return t(e);ae|=1;try{if(t)return Nr(99,t.bind(null,e))}finally{ae=n,mn()}};Wt.hydrate=function(t,e,n){if(!Fs(e))throw Error(L(200));return Yl(null,t,e,!0,n)};Wt.render=function(t,e,n){if(!Fs(e))throw Error(L(200));return Yl(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Fs(t))throw Error(L(40));return t._reactRootContainer?(Iy(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[Bi]=null})}),!0):!1};Wt.unstable_batchedUpdates=Ry;Wt.unstable_createPortal=function(t,e){return Oy(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fs(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Yl(t,e,n,!1,r)};Wt.version="17.0.2";function Dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dy)}catch(t){console.error(t)}}Dy(),X_.exports=Wt;var Ly=X_.exports;function P1(t,e){if(t!=null)return t;throw new Error(e!=null?e:"Got unexpected null or undefined")}var Se=P1;function O1(t,e,{error:n}={}){return null}var D1=O1,L1=D1;function M1(t,e){const n=new Set(t);return n.add(e),n}function F1(t,e){const n=new Set(t);return n.delete(e),n}function $1(t,e,n){const r=new Map(t);return r.set(e,n),r}function U1(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function V1(t,e){const n=new Map(t);return n.delete(e),n}function B1(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var My={setByAddingToSet:M1,setByDeletingFromSet:F1,mapBySettingInMap:$1,mapByUpdatingInMap:U1,mapByDeletingFromMap:V1,mapByDeletingMultipleFromMap:B1};function*z1(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Fy=z1;const oh=new Map().set("recoil_hamt_2020",!0);function sh(t){var e;return(e=oh.get(t))!==null&&e!==void 0?e:!1}sh.setPass=t=>{oh.set(t,!0)};sh.setFail=t=>{oh.set(t,!1)};var Qe=sh;function j1(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var $y=j1;function Ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class ah{constructor(e){Ae(this,"key",void 0),this.key=e}}class Uy extends ah{}class Vy extends ah{}function W1(t){return t instanceof Uy||t instanceof Vy}var Ql={AbstractRecoilValue:ah,RecoilState:Uy,RecoilValueReadOnly:Vy,isRecoilValue:W1},H1=Ql.AbstractRecoilValue,G1=Ql.RecoilState,K1=Ql.RecoilValueReadOnly,q1=Ql.isRecoilValue,xr=Object.freeze({__proto__:null,AbstractRecoilValue:H1,RecoilState:G1,RecoilValueReadOnly:K1,isRecoilValue:q1});class By{}const Y1=new By;class Q1 extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const Pr=new Map,lh=new Map;function X1(t){return $y(t,e=>Se(lh.get(e)))}function Z1(t){if(Pr.has(t.key)){const n=`Duplicate atom key "${t.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}Pr.set(t.key,t);const e=t.set==null?new xr.RecoilValueReadOnly(t.key):new xr.RecoilState(t.key);return lh.set(t.key,e),e}class zy extends Error{}function J1(t){const e=Pr.get(t);if(e==null)throw new zy(`Missing definition for RecoilValue: "${t}""`);return e}function eT(t){return Pr.get(t)}const ol=new Map;function tT(t){var e;if(!Qe("recoil_memory_managament_2020"))return;const n=Pr.get(t);if(!(n==null||(e=n.shouldDeleteConfigOnRelease)===null||e===void 0)&&e.call(n)){var r;Pr.delete(t),(r=jy(t))===null||r===void 0||r(),ol.delete(t)}}function nT(t,e){!Qe("recoil_memory_managament_2020")||(e===void 0?ol.delete(t):ol.set(t,e))}function jy(t){return ol.get(t)}var on={nodes:Pr,recoilValues:lh,registerNode:Z1,getNode:J1,getNodeMaybe:eT,deleteNodeConfigIfPossible:tT,setConfigDeletionHandler:nT,getConfigDeletionHandler:jy,recoilValuesForKeys:X1,NodeMissingError:zy,DefaultValue:By,DEFAULT_VALUE:Y1,RecoilValueNotReady:Q1};class Wy{}function rT(){return new Wy}var Xl={RetentionZone:Wy,retentionZone:rT};const{setByAddingToSet:iT}=My,{getNode:Zl,getNodeMaybe:oT,recoilValuesForKeys:lg}=on,{RetentionZone:ug}=Xl,sT=Object.freeze(new Set);class aT extends Error{}function lT(t,e,n){if(!Qe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof ug)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!Qe("recoil_memory_managament_2020"))return;const o=t.getState().retention.nodesRetainedByZone;function s(a){const l=o.get(a);l&&l.delete(e),l&&l.size===0&&o.delete(a)}if(n instanceof ug)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function uh(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Zl(n),s=lT(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function uT(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function cT(t,e,n){return uh(t,e,n,"get"),Zl(n).get(t,e)}function Hy(t,e,n){return Zl(n).peek(t,e)}function dT(t,e,n){var r;const i=oT(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),Dt(Ge({},t),{atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:iT(t.dirtyAtoms,e)})}function fT(t,e,n,r){const i=Zl(n);if(i.set==null)throw new aT(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return uh(t,e,n,"set"),o(t,e,r)}function hT(t,e,n){var r,i,o;const s=t.getState(),a=t.getGraph(e.version),l=s.knownAtoms.has(n)?"atom":s.knownSelectors.has(n)?"selector":void 0,u=Fy(Gy(t,e,new Set([n])),c=>c!==n);return{loadable:Hy(t,e,n),isActive:s.knownAtoms.has(n)||s.knownSelectors.has(n),isSet:l==="selector"?!1:e.atomValues.has(n),isModified:e.dirtyAtoms.has(n),type:l,deps:lg((r=a.nodeDeps.get(n))!==null&&r!==void 0?r:[]),subscribers:{nodes:lg(u),components:$y((i=(o=s.nodeToComponentSubscriptions.get(n))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([c])=>({name:c}))}}}function Gy(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:sT;for(const u of l)r.has(u)||i.push(u)}return r}var Hi={getNodeLoadable:cT,peekNodeLoadable:Hy,setNodeValue:fT,cleanUpNode:uT,setUnvalidatedAtomValue_DEPRECATED:dT,peekNodeInfo:hT,getDownstreamNodes:Gy,initializeNodeIfNewToStore:uh};const{getDownstreamNodes:pT,getNodeLoadable:Ky,setNodeValue:mT}=Hi,{getNodeMaybe:qy}=on,{DefaultValue:ch,RecoilValueNotReady:gT}=on,{AbstractRecoilValue:_T,RecoilState:vT,RecoilValueReadOnly:yT,isRecoilValue:wT}=xr;function ST(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();return n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version),Ky(t,n,e)}function ET(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof ch?n.delete(i):n.set(i,r)}),n}function CT(t,e,{key:n},r){if(typeof r=="function"){const i=Ky(t,e,n);if(i.state==="loading")throw new gT(n);if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function TT(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=CT(t,e,i,o),a=mT(t,e,i.key,s);for(const[l,u]of a.entries())cg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;cg(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=qy(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else L1(`Unknown action ${n.type}`)}function cg(t,e,n){n.state==="hasValue"&&n.contents instanceof ch?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Yy(t,e){t.replaceState(n=>{const r=IT(n);for(const i of e)TT(t,r,i);return Qy(t,r),r})}function Jl(t,e){if(Zo.length){const n=Zo[Zo.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Yy(t,[e])}const Zo=[];function RT(){const t=new Map;return Zo.push(t),()=>{for(const[e,n]of t)Yy(e,n);Zo.pop()}}function IT(t){return Dt(Ge({},t),{atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)})}function Qy(t,e){const n=pT(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=qy(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function Xy(t,e,n){Jl(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function kT(t,e,n){if(n instanceof ch)return Xy(t,e,n);Jl(t,{type:"setLoadable",recoilValue:e,loadable:n})}function bT(t,e){Jl(t,{type:"markModified",recoilValue:e})}function NT(t,e,n){Jl(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}let AT=0;function xT(t,{key:e},n,r=null){const i=AT++,o=t.getState();return o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),Se(o.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]),{release:()=>{const s=t.getState(),a=s.nodeToComponentSubscriptions.get(e);a===void 0||!a.has(i)||(a.delete(i),a.size===0&&s.nodeToComponentSubscriptions.delete(e))}}}var Gi={RecoilValueReadOnly:yT,AbstractRecoilValue:_T,RecoilState:vT,getRecoilValueAsLoadable:ST,setRecoilValue:Xy,setRecoilValueLoadable:kT,markRecoilValueModified:bT,setUnvalidatedRecoilValue:NT,subscribeToRecoilValue:xT,isRecoilValue:wT,applyAtomValueWrites:ET,batchStart:RT,invalidateDownstreams_FOR_TESTING:Qy};const{unstable_batchedUpdates:PT}=Ly;var OT={unstable_batchedUpdates:PT};const{unstable_batchedUpdates:DT}=OT;var LT={unstable_batchedUpdates:DT};const{batchStart:MT}=Gi,{unstable_batchedUpdates:FT}=LT;let dh=FT;const $T=t=>{dh=t},UT=()=>dh,VT=t=>{dh(()=>{let e=()=>{};try{e=MT(),t()}finally{e()}})};var fh={getBatcher:UT,setBatcher:$T,batchUpdates:VT};function BT(t,e){e()}var zT={enqueueExecution:BT};function jT(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var sl=jT;function WT(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var al=WT;function HT(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function GT(t){return{nodeDeps:al(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:al(t.nodeToNodeSubscriptions,e=>new Set(e))}}function yc(t,e,n){const{nodeDeps:r,nodeToNodeSubscriptions:i}=e;t.forEach((o,s)=>{const a=r.get(s);if(a&&n&&a!==n.nodeDeps.get(s))return;r.set(s,new Set(o)),(a==null?o:sl(o,a)).forEach(u=>{i.has(u)||i.set(u,new Set),Se(i.get(u)).add(s)}),a&&sl(a,o).forEach(c=>{if(!i.has(c))return;const d=Se(i.get(c));d.delete(s),d.size===0&&i.delete(c)})})}function KT(t,e,n){var r,i,o,s;const a=e.getState();n===a.currentTree.version||n===((r=a.nextTree)===null||r===void 0?void 0:r.version)||((i=a.previousTree)===null||i===void 0||i.version);const l=e.getGraph(n);if(yc(t,l),n===((o=a.previousTree)===null||o===void 0?void 0:o.version)){const c=e.getGraph(a.currentTree.version);yc(t,c,l)}if(n===((s=a.previousTree)===null||s===void 0?void 0:s.version)||n===a.currentTree.version){var u;const c=(u=a.nextTree)===null||u===void 0?void 0:u.version;if(c!==void 0){const d=e.getGraph(c);yc(t,d,l)}}}function qT(t,e){t.forEach((n,r)=>{e.has(r)||e.set(r,new Set);const i=Se(e.get(r));n.forEach(o=>i.add(o))})}function YT(t,e,n){n.has(t)||n.set(t,new Set),Se(n.get(t)).add(e)}var $s={addToDependencyMap:YT,cloneGraph:GT,graph:HT,mergeDepsIntoDependencyMap:qT,saveDependencyMapToStore:KT};function QT(t,e){return e={exports:{}},t(e,e.exports),e.exports}var XT=QT(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(w){return function(){return w}},c=n.hash=function(C){var w=typeof C=="undefined"?"undefined":e(C);if(w==="number")return C;w!=="string"&&(C+="");for(var P=0,j=0,W=C.length;j<W;++j){var Y=C.charCodeAt(j);P=(P<<5)-P+Y|0}return P},d=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},h=function(w,P){return P>>>w&o},y=function(w){return 1<<w},_=function(w,P){return d(w&P-1)},T=function(w,P,j,W){var Y=W;if(!w){var oe=W.length;Y=new Array(oe);for(var ne=0;ne<oe;++ne)Y[ne]=W[ne]}return Y[P]=j,Y},f=function(w,P,j){var W=j.length-1,Y=0,oe=0,ne=j;if(w)Y=oe=P;else for(ne=new Array(W);Y<P;)ne[oe++]=j[Y++];for(++Y;Y<=W;)ne[oe++]=j[Y++];return w&&(ne.length=W),ne},p=function(w,P,j,W){var Y=W.length;if(w){for(var oe=Y;oe>=P;)W[oe--]=W[oe];return W[P]=j,W}for(var ne=0,re=0,pe=new Array(Y+1);ne<P;)pe[re++]=W[ne++];for(pe[P]=j;ne<Y;)pe[++re]=W[ne++];return pe},m=1,v=2,S=3,A=4,b={__hamt_isEmpty:!0},V=function(w){return w===b||w&&w.__hamt_isEmpty},U=function(w,P,j,W){return{type:m,edit:w,hash:P,key:j,value:W,_modify:Te}},M=function(w,P,j){return{type:v,edit:w,hash:P,children:j,_modify:Xe}},J=function(w,P,j){return{type:S,edit:w,mask:P,children:j,_modify:be}},we=function(w,P,j){return{type:A,edit:w,size:P,children:j,_modify:D}},le=function(w){return w===b||w.type===m||w.type===v},X=function(w,P,j,W,Y){for(var oe=[],ne=W,re=0,pe=0;ne;++pe)ne&1&&(oe[pe]=Y[re++]),ne>>>=1;return oe[P]=j,we(w,re+1,oe)},Ce=function(w,P,j,W){for(var Y=new Array(P-1),oe=0,ne=0,re=0,pe=W.length;re<pe;++re)if(re!==j){var Ue=W[re];Ue&&!V(Ue)&&(Y[oe++]=Ue,ne|=1<<re)}return J(w,ne,Y)},ee=function C(w,P,j,W,Y,oe){if(j===Y)return M(w,j,[oe,W]);var ne=h(P,j),re=h(P,Y);return J(w,y(ne)|y(re),ne===re?[C(w,P+r,j,W,Y,oe)]:ne<re?[W,oe]:[oe,W])},Be=function(w,P,j,W,Y,oe,ne,re){for(var pe=Y.length,Ue=0;Ue<pe;++Ue){var Tt=Y[Ue];if(j(ne,Tt.key)){var tt=Tt.value,$t=oe(tt);return $t===tt?Y:$t===l?(--re.value,f(w,Ue,Y)):T(w,Ue,U(P,W,ne,$t),Y)}}var Yt=oe();return Yt===l?Y:(++re.value,T(w,pe,U(P,W,ne,Yt),Y))},ye=function(w,P){return w===P.edit},Te=function(w,P,j,W,Y,oe,ne){if(P(oe,this.key)){var re=W(this.value);return re===this.value?this:re===l?(--ne.value,b):ye(w,this)?(this.value=re,this):U(w,Y,oe,re)}var pe=W();return pe===l?this:(++ne.value,ee(w,j,this.hash,this,Y,U(w,Y,oe,pe)))},Xe=function(w,P,j,W,Y,oe,ne){if(Y===this.hash){var re=ye(w,this),pe=Be(re,w,P,this.hash,this.children,W,oe,ne);return pe===this.children?this:pe.length>1?M(w,this.hash,pe):pe[0]}var Ue=W();return Ue===l?this:(++ne.value,ee(w,j,this.hash,this,Y,U(w,Y,oe,Ue)))},be=function(w,P,j,W,Y,oe,ne){var re=this.mask,pe=this.children,Ue=h(j,Y),Tt=y(Ue),tt=_(re,Tt),$t=re&Tt,Yt=$t?pe[tt]:b,qr=Yt._modify(w,P,j+r,W,Y,oe,ne);if(Yt===qr)return this;var Zs=ye(w,this),so=re,ao=void 0;if($t&&V(qr)){if(so&=~Tt,!so)return b;if(pe.length<=2&&le(pe[tt^1]))return pe[tt^1];ao=f(Zs,tt,pe)}else if(!$t&&!V(qr)){if(pe.length>=s)return X(w,Ue,qr,re,pe);so|=Tt,ao=p(Zs,tt,qr,pe)}else ao=T(Zs,tt,qr,pe);return Zs?(this.mask=so,this.children=ao,this):J(w,so,ao)},D=function(w,P,j,W,Y,oe,ne){var re=this.size,pe=this.children,Ue=h(j,Y),Tt=pe[Ue],tt=(Tt||b)._modify(w,P,j+r,W,Y,oe,ne);if(Tt===tt)return this;var $t=ye(w,this),Yt=void 0;if(V(Tt)&&!V(tt))++re,Yt=T($t,Ue,tt,pe);else if(!V(Tt)&&V(tt)){if(--re,re<=a)return Ce(w,re,Ue,pe);Yt=T($t,Ue,b,pe)}else Yt=T($t,Ue,tt,pe);return $t?(this.size=re,this.children=Yt,this):we(w,re,Yt)};b._modify=function(C,w,P,j,W,Y,oe){var ne=j();return ne===l?b:(++oe.value,U(C,W,Y,ne))};function R(C,w,P,j,W){this._editable=C,this._edit=w,this._config=P,this._root=j,this._size=W}R.prototype.setTree=function(C,w){return this._editable?(this._root=C,this._size=w,this):C===this._root?this:new R(this._editable,this._edit,this._config,C,w)};var k=n.tryGetHash=function(C,w,P,j){for(var W=j._root,Y=0,oe=j._config.keyEq;;)switch(W.type){case m:return oe(P,W.key)?W.value:C;case v:{if(w===W.hash)for(var ne=W.children,re=0,pe=ne.length;re<pe;++re){var Ue=ne[re];if(oe(P,Ue.key))return Ue.value}return C}case S:{var Tt=h(Y,w),tt=y(Tt);if(W.mask&tt){W=W.children[_(W.mask,tt)],Y+=r;break}return C}case A:{if(W=W.children[h(Y,w)],W){Y+=r;break}return C}default:return C}};R.prototype.tryGetHash=function(C,w,P){return k(C,w,P,this)};var O=n.tryGet=function(C,w,P){return k(C,P._config.hash(w),w,P)};R.prototype.tryGet=function(C,w){return O(C,w,this)};var H=n.getHash=function(C,w,P){return k(void 0,C,w,P)};R.prototype.getHash=function(C,w){return H(C,w,this)},n.get=function(C,w){return k(void 0,w._config.hash(C),C,w)},R.prototype.get=function(C,w){return O(w,C,this)};var g=n.has=function(C,w,P){return k(l,C,w,P)!==l};R.prototype.hasHash=function(C,w){return g(C,w,this)};var I=n.has=function(C,w){return g(w._config.hash(C),C,w)};R.prototype.has=function(C){return I(C,this)};var E=function(w,P){return w===P};n.make=function(C){return new R(0,0,{keyEq:C&&C.keyEq||E,hash:C&&C.hash||c},b,0)},n.empty=n.make();var F=n.isEmpty=function(C){return C&&!!V(C._root)};R.prototype.isEmpty=function(){return F(this)};var N=n.modifyHash=function(C,w,P,j){var W={value:j._size},Y=j._root._modify(j._editable?j._edit:NaN,j._config.keyEq,0,C,w,P,W);return j.setTree(Y,W.value)};R.prototype.modifyHash=function(C,w,P){return N(P,C,w,this)};var x=n.modify=function(C,w,P){return N(C,P._config.hash(w),w,P)};R.prototype.modify=function(C,w){return x(w,C,this)};var B=n.setHash=function(C,w,P,j){return N(u(P),C,w,j)};R.prototype.setHash=function(C,w,P){return B(C,w,P,this)};var de=n.set=function(C,w,P){return B(P._config.hash(C),C,w,P)};R.prototype.set=function(C,w){return de(C,w,this)};var he=u(l),K=n.removeHash=function(C,w,P){return N(he,C,w,P)};R.prototype.removeHash=R.prototype.deleteHash=function(C,w){return K(C,w,this)};var ce=n.remove=function(C,w){return K(w._config.hash(C),C,w)};R.prototype.remove=R.prototype.delete=function(C){return ce(C,this)};var te=n.beginMutation=function(C){return new R(C._editable+1,C._edit+1,C._config,C._root,C._size)};R.prototype.beginMutation=function(){return te(this)};var Re=n.endMutation=function(C){return C._editable=C._editable&&C._editable-1,C};R.prototype.endMutation=function(){return Re(this)};var pt=n.mutate=function(C,w){var P=te(w);return C(P),Re(P)};R.prototype.mutate=function(C){return pt(C,this)};var Pe=function(w){return w&&Kt(w[0],w[1],w[2],w[3],w[4])},Kt=function(w,P,j,W,Y){for(;j<w;){var oe=P[j++];if(oe&&!V(oe))return z(oe,W,[w,P,j,W,Y])}return Pe(Y)},z=function(w,P,j){switch(w.type){case m:return{value:P(w),rest:j};case v:case A:case S:var W=w.children;return Kt(W.length,W,0,P,j);default:return Pe(j)}},Q={done:!0};function G(C){this.v=C}G.prototype.next=function(){if(!this.v)return Q;var C=this.v;return this.v=Pe(C.rest),C},G.prototype[Symbol.iterator]=function(){return this};var fe=function(w,P){return new G(z(w._root,P))},lt=function(w){return[w.key,w.value]},qt=n.entries=function(C){return fe(C,lt)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return qt(this)};var ut=function(w){return w.key},to=n.keys=function(C){return fe(C,ut)};R.prototype.keys=function(){return to(this)};var no=function(w){return w.value},ro=n.values=R.prototype.values=function(C){return fe(C,no)};R.prototype.values=function(){return ro(this)};var fr=n.fold=function(C,w,P){var j=P._root;if(j.type===m)return C(w,j.value,j.key);for(var W=[j.children],Y=void 0;Y=W.pop();)for(var oe=0,ne=Y.length;oe<ne;){var re=Y[oe++];re&&re.type&&(re.type===m?w=C(w,re.value,re.key):W.push(re.children))}return w};R.prototype.fold=function(C,w){return fr(C,w,this)};var io=n.forEach=function(C,w){return fr(function(P,j,W){return C(j,W,w)},null,w)};R.prototype.forEach=function(C){return io(C,this)};var oo=n.count=function(C){return C._size};R.prototype.count=function(){return oo(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class ZT{constructor(e){Ae(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return ph(this)}toMap(){return new Map(this._map)}}class hh{constructor(e){if(Ae(this,"_hamt",XT.empty.beginMutation()),e instanceof hh){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return ph(this)}toMap(){return new Map(this._hamt)}}function ph(t){return Qe("recoil_hamt_2020")?new hh(t):new ZT(t)}var JT={persistentMap:ph},eR=JT.persistentMap,tR=Object.freeze({__proto__:null,persistentMap:eR});const{graph:nR}=$s,{persistentMap:dg}=tR;let rR=0;const Zy=()=>rR++;function Jy(){const t=Zy();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:dg(),nonvalidatedAtoms:dg()}}function iR(){const t=Jy();return{currentTree:t,nextTree:null,previousTree:null,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,nR()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var e0={makeEmptyTreeState:Jy,makeEmptyStoreState:iR,getNextTreeStateVersion:Zy};function oR(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var sR=oR;function aR(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var lR=aR;const{cleanUpNode:uR}=Hi,{deleteNodeConfigIfPossible:cR,getNode:t0}=on,{RetentionZone:n0}=Xl,r0=new Set;function i0(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof n0)for(const a of pR(n,s))i.add(a);else i.add(s);const o=dR(t,i);for(const s of o)hR(t,r,s)}function dR(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=fR(t,r,l,o,s);for(const _ of c){var d;if(t0(_).retainedBy==="recoilRoot"){s.add(_);continue}if(((d=n.retention.referenceCounts.get(_))!==null&&d!==void 0?d:0)>0){s.add(_);continue}if(o0(_).some(f=>n.retention.referenceCounts.get(f))){s.add(_);continue}const T=i.nodeToNodeSubscriptions.get(_);if(T&&lR(T,f=>s.has(f))){s.add(_);continue}o.add(_),u.add(_)}const h=new Set;for(const _ of u)for(const T of(y=i.nodeDeps.get(_))!==null&&y!==void 0?y:r0){var y;o.has(T)||h.add(T)}h.size&&a(h)}}function fR(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(Se(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),s.push(u)}}function hR(t,e,n){if(!Qe("recoil_memory_managament_2020"))return;uR(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=o0(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}cR(n)}function pR(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:r0}function o0(t){const e=t0(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof n0?[e]:e}function mR(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):i0(t,new Set([e]))}function gR(t,e,n){var r;if(!Qe("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?(i.delete(e),mR(t,e)):i.set(e,o)}function _R(t){if(!Qe("recoil_memory_managament_2020"))return;const e=t.getState();i0(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function vR(t){return t===void 0?"recoilRoot":t}var eu={updateRetainCount:gR,releaseScheduledRetainablesNow:_R,retainedByOptionWithDefault:vR};function*yR(t){for(const e of t)for(const n of e)yield n}var wR=yR;const SR=typeof window=="undefined",ER=typeof navigator!="undefined"&&navigator.product==="ReactNative";var s0={isSSR:SR,isReactNative:ER};const{isSSR:CR}=s0,{batchUpdates:wc}=fh,{initializeNodeIfNewToStore:TR,peekNodeInfo:RR}=Hi,{graph:IR}=$s,{DEFAULT_VALUE:kR,recoilValues:fg,recoilValuesForKeys:hg}=on,{AbstractRecoilValue:bR,getRecoilValueAsLoadable:NR,setRecoilValue:pg,setUnvalidatedRecoilValue:AR}=Gi,{getNextTreeStateVersion:xR,makeEmptyStoreState:PR}=e0;class tu{constructor(e){Ae(this,"_store",void 0),Ae(this,"_refCount",0),Ae(this,"getLoadable",n=>(this.checkRefCount_INTERNAL(),NR(this._store,n))),Ae(this,"getPromise",n=>(this.checkRefCount_INTERNAL(),this.getLoadable(n).toPromise())),Ae(this,"getNodes_UNSTABLE",n=>{if(this.checkRefCount_INTERNAL(),(n==null?void 0:n.isModified)===!0){if((n==null?void 0:n.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return hg(o.dirtyAtoms)}const r=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(n==null?void 0:n.isInitialized)==null?fg.values():n.isInitialized===!0?hg(wR([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):Fy(fg.values(),({key:o})=>!r.has(o)&&!i.has(o))}),Ae(this,"getInfo_UNSTABLE",({key:n})=>(this.checkRefCount_INTERNAL(),RR(this._store,this._store.getState().currentTree,n))),Ae(this,"map",n=>{this.checkRefCount_INTERNAL();const r=new kd(this);return n(r),Id(r.getStore_INTERNAL())}),Ae(this,"asyncMap",async n=>{this.checkRefCount_INTERNAL();const r=new kd(this);return await n(r),Id(r.getStore_INTERNAL())}),this._store={getState:()=>e,replaceState:n=>{e.currentTree=n(e.currentTree)},getGraph:n=>{const r=e.graphsByVersion;if(r.has(n))return Se(r.get(n));const i=IR();return r.set(n,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().nodeCleanupFunctions.keys())TR(this._store,e.currentTree,n,"get");this.retain(),this.autorelease()}retain(){if(!Qe("recoil_memory_managament_2020"))return()=>{};this._refCount++;let e=!1;return()=>{e||(e=!0,this.release())}}autorelease(){!Qe("recoil_memory_managament_2020")||CR||window.setTimeout(()=>this.release(),0)}release(){!Qe("recoil_memory_managament_2020")||(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){Qe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function a0(t,e,n=!1){const r=t.getState(),i=n?xR():e.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:Ge({},e.transactionMetadata),dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()}:e,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function OR(t){const e=new tu(PR());return t!=null?e.map(t):e}function Id(t,e="current"){const n=t.getState(),r=e==="current"?n.currentTree:Se(n.previousTree);return new tu(a0(t,r))}class kd extends tu{constructor(e){super(a0(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),Ae(this,"set",(n,r)=>{this.checkRefCount_INTERNAL(),wc(()=>{pg(this.getStore_INTERNAL(),n,r)})}),Ae(this,"reset",n=>{this.checkRefCount_INTERNAL(),wc(()=>pg(this.getStore_INTERNAL(),n,kR))}),Ae(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();wc(()=>{for(const[i,o]of n.entries())AR(r,new bR(i),o)})})}}var nu={Snapshot:tu,MutableSnapshot:kd,freshSnapshot:OR,cloneSnapshot:Id},DR=nu.Snapshot,LR=nu.MutableSnapshot,MR=nu.freshSnapshot,FR=nu.cloneSnapshot,mh=Object.freeze({__proto__:null,Snapshot:DR,MutableSnapshot:LR,freshSnapshot:MR,cloneSnapshot:FR});const{getNextTreeStateVersion:$R,makeEmptyStoreState:l0}=e0,{cleanUpNode:UR,getDownstreamNodes:VR,setNodeValue:BR,setUnvalidatedAtomValue_DEPRECATED:zR}=Hi,{graph:jR}=$s,{cloneGraph:WR}=$s,{applyAtomValueWrites:HR}=Gi,{releaseScheduledRetainablesNow:GR}=eu,{freshSnapshot:KR}=mh,{useCallback:qR,useContext:u0,useEffect:bd,useMemo:YR,useRef:Sc,useState:QR}=Ze;function So(){throw new Error("This component must be used inside a <RecoilRoot> component.")}const XR=Object.freeze({getState:So,replaceState:So,getGraph:So,subscribeToTransactions:So,addTransactionMetadata:So});let Nd=!1;function mg(t){if(Nd)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");if(t.nextTree===null){const e=t.currentTree.version,n=$R();t.nextTree=Dt(Ge({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,WR(Se(t.graphsByVersion.get(e))))}}const c0=Ze.createContext({current:XR}),d0=()=>u0(c0),f0=Ze.createContext(null);function ZR(){return u0(f0)}function h0(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[o,s]of e.nodeTransactionSubscriptions)if(r.has(o))for(const[a,l]of s)l(t);for(const[o,s]of e.transactionSubscriptions)s(t);const i=VR(t,n,r);for(const o of i){const s=e.nodeToComponentSubscriptions.get(o);if(s)for(const[a,[l,u]]of s)u(n)}e.suspendedComponentResolvers.forEach(o=>o())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function JR({setNotifyBatcherOfChange:t}){const e=d0(),[n,r]=QR([]);return t(()=>r({})),bd(()=>{zT.enqueueExecution("Batcher",()=>{const i=e.current.getState(),{nextTree:o}=i;if(o===null)return;i.previousTree=i.currentTree,i.currentTree=o,i.nextTree=null,h0(e.current);const s=Se(i.previousTree).version;i.graphsByVersion.delete(s),i.previousTree=null,Qe("recoil_memory_managament_2020")&&GR(e.current)})}),bd(()=>()=>{t(()=>{})},[t]),null}function eI(t,e){const n=l0();return e({set:(r,i)=>{const o=n.currentTree,s=BR(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree=Dt(Ge({},o),{dirtyAtoms:sR(o.dirtyAtoms,a),atomValues:HR(o.atomValues,s),nonvalidatedAtoms:l})},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=zR(n.currentTree,o,i)})}}),n}function tI(t){return KR().map(t).getStore_INTERNAL().getState()}let gg=0;function nI({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){var i;let o;const s=f=>{const p=o.current.graphsByVersion;if(p.has(f))return Se(p.get(f));const m=jR();return p.set(f,m),m},a=(f,p)=>{if(p==null){const{transactionSubscriptions:m}=_.current.getState(),v=gg++;return m.set(v,f),{release:()=>{m.delete(v)}}}else{const{nodeTransactionSubscriptions:m}=_.current.getState();m.has(p)||m.set(p,new Map);const v=gg++;return Se(m.get(p)).set(v,f),{release:()=>{const S=m.get(p);S&&(S.delete(v),S.size===0&&m.delete(p))}}}},l=f=>{mg(_.current.getState());for(const p of Object.keys(f))Se(_.current.getState().nextTree).transactionMetadata[p]=f[p]},u=f=>{const p=_.current.getState();mg(p);const m=Se(p.nextTree);let v;try{Nd=!0,v=f(m)}finally{Nd=!1}v!==m&&(p.nextTree=v,Se(c.current)())},c=Sc(null),d=qR(f=>{c.current=f},[c]),h=(i=Ze.createMutableSource)!==null&&i!==void 0?i:Ze.unstable_createMutableSource,y=n!=null?n:{getState:()=>o.current,replaceState:u,getGraph:s,subscribeToTransactions:a,addTransactionMetadata:l},_=Sc(y);o=Sc(t!=null?eI(y,t):e!=null?tI(e):l0());const T=YR(()=>h?h(o,()=>o.current.currentTree.version):null,[h,o]);return bd(()=>()=>{for(const f of _.current.getState().knownAtoms)UR(_.current,f)},[]),Ze.createElement(c0.Provider,{value:_},Ze.createElement(f0.Provider,{value:T},Ze.createElement(JR,{setNotifyBatcherOfChange:d}),r))}var ru={useStoreRef:d0,useRecoilMutableSource:ZR,RecoilRoot:nI,sendEndOfBatchNotifications_FOR_TESTING:h0};function rI(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var iI=rI;function oI(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var sI=oI;function aI(t,e){if(!t)throw new Error(e)}var lI=aI,ll=lI;function uI(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var cI=uI,Ec;const p0=(Ec=Ze.useMutableSource)!==null&&Ec!==void 0?Ec:Ze.unstable_useMutableSource;function dI(){return p0&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var fI={mutableSourceExists:dI,useMutableSource:p0};function hI(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var pI=hI;const{useRef:mI}=Ze;function gI(){return mI(),"<component name not available>"}var gh=gI;const{batchUpdates:_h}=fh,{DEFAULT_VALUE:iu,getNode:m0,nodes:_I}=on,{useRecoilMutableSource:vI,useStoreRef:Ht}=ru,{AbstractRecoilValue:vh,getRecoilValueAsLoadable:Jo,setRecoilValue:Ai,setRecoilValueLoadable:yI,setUnvalidatedRecoilValue:wI,subscribeToRecoilValue:yh}=Gi,{updateRetainCount:Eo}=eu,{RetentionZone:SI}=Xl,{Snapshot:JF,cloneSnapshot:ws}=mh,{setByAddingToSet:EI}=My,{isSSR:ul}=s0,{mutableSourceExists:CI,useMutableSource:TI}=fI,{useCallback:nn,useEffect:bn,useMemo:RI,useRef:Zn,useState:wh}=Ze,g0=12e4;function _0(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{n.current.getState().suspendedComponentResolvers.add(i)}):t.state==="hasError"?t.contents:new Error(`Invalid value of loadable atom "${e.key}"`)}function II(){const t=Ht(),[e,n]=wh([]),r=Zn(new Set);r.current=new Set;const i=Zn(new Set),o=Zn(new Map),s=nn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=gh();return bn(()=>{const l=t.current;function u(c,d){!o.current.has(d)||n([])}sl(r.current,i.current).forEach(c=>{if(o.current.has(c))return;const d=yh(l,new vh(c),y=>{u(y,c)},a);o.current.set(c,d),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u(l.getState(),c)}):u(l.getState(),c)}),sl(i.current,r.current).forEach(c=>{s(c)}),i.current=r.current}),bn(()=>{const l=o.current;return()=>l.forEach((u,c)=>s(c))},[s]),RI(()=>{function l(_){return T=>{Ai(t.current,_,T)}}function u(_){return()=>Ai(t.current,_,iu)}function c(_){return r.current.has(_.key)||(r.current=EI(r.current,_.key)),Jo(t.current,_)}function d(_){const T=c(_);return _0(T,_,t)}function h(_){return[d(_),l(_)]}function y(_){return[c(_),l(_)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:y,getSetRecoilState:l,getResetRecoilState:u}},[r,t])}const kI={current:0};function bI(t){const e=Ht(),n=nn(()=>{const u=e.current,c=u.getState().currentTree;return Jo(u,t,c)},[e,t]),r=nn(()=>n(),[n]),i=gh(),o=nn((u,c)=>{const d=e.current;return yh(d,t,()=>{if(!Qe("recoil_suppress_rerender_in_callback"))return c();const y=n();l.current.is(y)||c()},i).release},[e,t,i,n]),s=vI(),a=TI(s,r,o),l=Zn(a);return bn(()=>{l.current=a}),a}function NI(t){const e=Ht(),[n,r]=wh([]),i=gh();bn(()=>{const a=e.current,l=a.getState(),u=yh(a,t,d=>{var h;if(!Qe("recoil_suppress_rerender_in_callback"))return r([]);const y=Jo(a,t,a.getState().currentTree);!((h=s.current)===null||h===void 0)&&h.is(y)||r(y)},i);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,r([])});else{var c;if(!Qe("recoil_suppress_rerender_in_callback"))return r([]);const d=Jo(a,t,a.getState().currentTree);!((c=s.current)===null||c===void 0)&&c.is(d)||r(d)}return u.release},[i,t,e]);const o=Jo(e.current,t),s=Zn(o);return bn(()=>{s.current=o}),o}function Sh(t){return Qe("recoil_memory_managament_2020")&&E0(t),CI()?bI(t):NI(t)}function v0(t){const e=Ht(),n=Sh(t);return _0(n,t,e)}function Eh(t){const e=Ht();return nn(n=>{Ai(e.current,t,n)},[e,t])}function AI(t){const e=Ht();return nn(()=>{Ai(e.current,t,iu)},[e,t])}function xI(t){return[v0(t),Eh(t)]}function PI(t){return[Sh(t),Eh(t)]}function ou(t){const e=Ht();bn(()=>e.current.subscribeToTransactions(t).release,[t,e])}function _g(t){const e=t.atomValues.toMap(),n=al(iI(e,(r,i)=>{const s=m0(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return cI(t.nonvalidatedAtoms.toMap(),n)}function OI(t){ou(nn(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=_g(r),o=_g(n),s=al(_I,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=sI(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:Ge({},r.transactionMetadata)})},[t]))}function DI(t){ou(nn(e=>{const n=ws(e,"current"),r=ws(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function y0(t){const e=Zn();return bn(()=>{e.current=t}),e.current}function LI(){const t=Ht(),[e,n]=wh(()=>ws(t.current)),r=y0(e),i=Zn();return bn(()=>(i.current&&!ul&&window.clearTimeout(i.current),e.retain()),[e]),ou(nn(o=>n(ws(o)),[])),r!==e&&!ul&&(i.current&&(r==null||r.release(),window.clearTimeout(i.current)),e.retain(),i.current=window.setTimeout(()=>{e.release(),i.current=null},g0)),e}function w0(){const t=Ht();return nn(e=>{var n;const r=t.current.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;_h(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&m0(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{yI(t.current,new vh(u),o.atomValues.has(u)?Se(o.atomValues.get(u)):iu)}),t.current.replaceState(u=>Dt(Ge({},u),{stateID:e.getID_INTERNAL()}))})},[t])}function MI(){const t=Ht();return(e,n={})=>{_h(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>wI(t.current,new vh(i),r))})}}class S0{}const FI=new S0;function $I(t,e){const n=Ht(),r=w0();return nn((...i)=>{function o(u,c){Ai(n.current,u,c)}function s(u){Ai(n.current,u,iu)}const a=ws(n.current);let l=FI;return _h(()=>{const u="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw new Error(u);const c=t({set:o,reset:s,snapshot:a,gotoSnapshot:r});if(typeof c!="function")throw new Error(u);l=c(...i)}),l instanceof S0&&ll(!1),l},e!=null?[...e,n]:void 0)}function E0(t){if(!!Qe("recoil_memory_managament_2020"))return UI(t)}function UI(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof SI?s:s.key),r=Ht();bn(()=>{if(!Qe("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!ul)window.clearTimeout(i.current),i.current=null;else for(const a of n)Eo(s,a,1);return()=>{for(const a of n)Eo(s,a,-1)}},[r,...n]);const i=Zn(),o=y0(n);if(!ul&&(o===void 0||!pI(o,n))){const s=r.current;for(const a of n)Eo(s,a,1);if(o)for(const a of o)Eo(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Eo(s,a,-1)},g0)}}var VI={recoilComponentGetRecoilValueCount_FOR_TESTING:kI,useGotoRecoilSnapshot:w0,useRecoilCallback:$I,useRecoilInterface:II,useRecoilSnapshot:LI,useRecoilState:xI,useRecoilStateLoadable:PI,useRecoilTransactionObserver:DI,useRecoilValue:v0,useRecoilValueLoadable:Sh,useRetain:E0,useResetRecoilState:AI,useSetRecoilState:Eh,useSetUnvalidatedAtomValues:MI,useTransactionObservation_DEPRECATED:OI,useTransactionSubscription_DEPRECATED:ou};const{peekNodeInfo:BI}=Hi,{useStoreRef:zI}=ru;function jI(){const t=zI();return({key:e})=>BI(t.current,t.current.getState().currentTree,e)}var WI=jI;const{RecoilRoot:HI,useStoreRef:GI}=ru,{useMemo:KI}=Ze;function qI(){const t=GI().current;return KI(()=>{function e({children:n}){return Ze.createElement(HI,{store_INTERNAL:t},n)}return e},[t])}var YI=qI;function QI(t){return!!t&&typeof t.then=="function"}var Ye=QI;class C0{}const XI=new C0,Ch={getValue(){if(this.state==="loading")throw this.contents.then(({__value:t})=>t);if(this.state!=="hasValue")throw this.contents;return this.contents},toPromise(){return this.state==="hasValue"?Promise.resolve(this.contents):this.state==="hasError"?Promise.reject(this.contents):this.contents.then(({__value:t})=>t)},valueMaybe(){return this.state==="hasValue"?this.contents:void 0},valueOrThrow(){if(this.state!=="hasValue")throw new Error(`Loadable expected value, but in "${this.state}" state`);return this.contents},errorMaybe(){return this.state==="hasError"?this.contents:void 0},errorOrThrow(){if(this.state!=="hasError")throw new Error(`Loadable expected error, but in "${this.state}" state`);return this.contents},promiseMaybe(){return this.state==="loading"?this.contents.then(({__value:t})=>t):void 0},promiseOrThrow(){if(this.state!=="loading")throw new Error(`Loadable expected promise, but in "${this.state}" state`);return this.contents.then(({__value:t})=>t)},is(t){return t.state===this.state&&t.contents===this.contents},map(t){if(this.state==="hasError")return this;if(this.state==="hasValue")try{const n=t(this.contents);return Ye(n)?yi(n):Th(n)}catch(n){return Ye(n)?yi(n.next(()=>t(this.contents))):Rh(n)}if(this.state==="loading")return yi(this.contents.then(t).catch(n=>{if(Ye(n))return n.then(()=>t(this.contents));throw n}));throw new Error("Invalid Loadable state")}};function Th(t){return Object.freeze(Ge({state:"hasValue",contents:t},Ch))}function Rh(t){return Object.freeze(Ge({state:"hasError",contents:t},Ch))}function yi(t){return Object.freeze(Ge({state:"loading",contents:t},Ch))}function ZI(){return yi(new Promise(()=>{}))}function JI(t){return t.every(e=>e.state==="hasValue")?Th(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Rh(Se(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):yi(Promise.all(t.map(e=>e.contents)).then(e=>({__value:e})))}var Ih={loadableWithValue:Th,loadableWithError:Rh,loadableWithPromise:yi,loadableLoading:ZI,loadableAll:JI,Canceled:C0,CANCELED:XI};function Qt(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ye(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Qt(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Qt(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Qt(o,e)]=s;return Qt(i,e,n)}return t instanceof Set?Qt(Array.from(t).sort((i,o)=>Qt(i,e).localeCompare(Qt(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Qt(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Qt(i,e)}:${Qt(t[i],e,i)}`).join(",")}}`}function ek(t,e={allowFunctions:!1}){return Qt(t,e)}var su=ek;class tk{constructor(e){var n,r,i;Ae(this,"_numLeafs",void 0),Ae(this,"_root",void 0),Ae(this,"_onHit",void 0),Ae(this,"_onSet",void 0),Ae(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){return T0(this.root(),r=>this._mapNodeValue(e(r)),{onNodeVisit:r=>{n==null||n.onNodeVisit(r),r.type==="leaf"&&this._onHit(r)}})}set(e,n,r){let i;const o=Ad(this.root(),e.map(([s,a])=>[s,this._mapNodeValue(a)]),null,n,null,{onNodeVisit:s=>{r==null||r.onNodeVisit(s),s.type==="leaf"&&(i=s)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Se(i))}delete(e){if(!this.root())return!1;const n=Se(this.root());return nk(n,e,e.parent)?e===n||n.type==="branch"&&!n.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=I0(e),!0):!1}clear(){this._numLeafs=0,this._root=null}}const T0=(t,e,n)=>{var r;if(t==null)return;if(n==null||(r=n.onNodeVisit)===null||r===void 0||r.call(n,t),t.type==="leaf")return t;const i=e(t.nodeKey);return T0(t.branches.get(i),e,n)},Ad=(t,e,n,r,i,o)=>{var s;let a;if(t==null)if(e.length===0)a={type:"leaf",value:r,parent:n,branchKey:i};else{const[l,...u]=e,[c,d]=l;a={type:"branch",nodeKey:c,parent:n,branches:new Map,branchKey:i},a.branches.set(d,Ad(null,u,a,r,d,o))}else if(a=t,e.length){const[l,...u]=e,[c,d]=l;t.type==="branch"&&t.nodeKey===c||ll(!1),t.branches.set(d,Ad(t.branches.get(d),u,t,r,d,o))}return o==null||(s=o.onNodeVisit)===null||s===void 0||s.call(o,a),a},nk=(t,e,n)=>n?(n.branches.delete(e.branchKey),R0(t,n,n.parent)):t===e,R0=(t,e,n)=>n?(e.branches.size===0&&n.branches.delete(e.branchKey),R0(t,n,n.parent)):t===e,I0=t=>t.type==="leaf"?1:Array.from(t.branches.values()).reduce((e,n)=>e+I0(n),0);var rk={TreeCache:tk},ik=rk.TreeCache,k0=Object.freeze({__proto__:null,TreeCache:ik});class ok{constructor(e){var n;Ae(this,"_maxSize",void 0),Ae(this,"_size",void 0),Ae(this,"_head",void 0),Ae(this,"_tail",void 0),Ae(this,"_map",void 0),Ae(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Se(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var sk={LRUCache:ok},ak=sk.LRUCache,b0=Object.freeze({__proto__:null,LRUCache:ak});const{LRUCache:lk}=b0,{TreeCache:uk}=k0;function ck(t,e=n=>n){const n=new lk({maxSize:t}),r=new uk({mapNodeValue:e,onHit:i=>{n.set(i,!0)},onSet:i=>{const o=n.tail();n.set(i,!0),o&&r.size()>t&&r.delete(o.key)}});return r}var dk=ck;const{TreeCache:fk}=k0,fa={equality:"reference",eviction:"none",maxSize:1/0};function hk({equality:t=fa.equality,eviction:e=fa.eviction,maxSize:n=fa.maxSize}=fa){const r=pk(t);return mk(e,n,r)}function pk(t){switch(t){case"reference":return e=>e;case"value":return e=>su(e)}throw new Error(`Unrecognized equality policy ${t}`)}function mk(t,e,n){switch(t){case"none":return new fk({mapNodeValue:n});case"lru":return dk(Se(e),n)}throw new Error(`Unrecognized eviction policy ${t}`)}var gk=hk;function _k(t){return()=>null}var vk={startPerfBlock:_k};const{CANCELED:Co,Canceled:yk,loadableWithError:To,loadableWithPromise:wk,loadableWithValue:Cc}=Ih,{getNodeLoadable:vg,peekNodeLoadable:Sk,setNodeValue:Ek}=Hi,{saveDependencyMapToStore:Ck}=$s,{DEFAULT_VALUE:Tk,RecoilValueNotReady:Rk,getConfigDeletionHandler:Ik,registerNode:yg}=on,{isRecoilValue:kk}=xr,{AbstractRecoilValue:bk}=xr,{setRecoilValueLoadable:Nk}=Gi,{retainedByOptionWithDefault:Ak}=eu,{startPerfBlock:xk}=vk,Ro=[],ha=new Map,Pk=(()=>{let t=0;return()=>t++})();function Ok(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function Dk(t){const{key:e,get:n,cachePolicy_UNSTABLE:r}=t,i=t.set!=null?t.set:void 0,o=gk(r!=null?r:{equality:"reference",eviction:"none"}),s=Ak(t.retainedBy_UNSTABLE),a=new Map;let l=0;function u(){return!Qe("recoil_memory_managament_2020")||l>0}function c(g){return a.has(g)||a.set(g,Ok()),Se(a.get(g))}function d(g){return l++,g.getState().knownSelectors.add(e),()=>{l--,g.getState().knownSelectors.delete(e),a.delete(g)}}function h(){return Ik(e)!==void 0&&!u()}function y(g,I,E){if(I.state==="loading"){let F=ha.get(E);F==null&&ha.set(E,F=new Set),F.add(g)}}function _(g,I){const E=ha.get(I);if(E!==void 0){for(const F of E)Nk(F,new bk(e),g);ha.delete(I)}}function T(g,I,E){if(I.atomValues.has(E))return Se(I.atomValues.get(E));const F=vg(g,I,E),N=g.getState().knownSelectors.has(E);return F.state!=="loading"&&N&&I.atomValues.set(E,F),F}function f(g,I,E,F,N){return I.then(x=>{if(!u())return Be(g,N),Co;const B=Cc(x);return be(E,V(F),B),v(g,E,new Set(F.keys()),N),m(g,B,N),{__value:x,__key:e}}).catch(x=>{if(!u())return Be(g,N),Co;if(ye(g,N)&&ee(F,g,N),Ye(x))return p(g,x,E,F,N);const B=To(x);throw be(E,V(F),B),v(g,E,new Set(F.keys()),N),m(g,B,N),x})}function p(g,I,E,F,N){return I.then(x=>{if(!u())return Be(g,N),Co;if(x instanceof yk)return Co;const{__key:B,__value:de}=x!=null?x:{};let he=!0;B!=null&&(E.atomValues.set(B,Cc(de)),he=!1);const[K,ce]=A(g,E,N,he);if(ye(g,N)&&ee(ce,g,N),Te(K),K.state!=="loading"&&(be(E,V(ce),K),v(g,E,new Set(ce.keys()),N),m(g,K,N)),K.state==="hasError")throw K.contents;return K.state==="hasValue"?{__value:K.contents,__key:e}:K.contents}).catch(x=>{if(!u())return Be(g,N),Co;const B=To(x);throw be(E,V(F),To(x)),v(g,E,new Set(F.keys()),N),m(g,B,N),x})}function m(g,I,E){ye(g,E)&&(X(I,g),_(I,E))}function v(g,I,E,F){var N,x,B,de;if(ye(g,F)||I.version===((N=g.getState())===null||N===void 0||(x=N.currentTree)===null||x===void 0?void 0:x.version)||I.version===((B=g.getState())===null||B===void 0||(de=B.nextTree)===null||de===void 0?void 0:de.version)){var he,K,ce;Ck(new Map([[e,E]]),g,(he=(K=g.getState())===null||K===void 0||(ce=K.nextTree)===null||ce===void 0?void 0:ce.version)!==null&&he!==void 0?he:g.getState().currentTree.version)}}function S(g,I,E,F,N){E.add(F),v(g,I,E,N)}function A(g,I,E,F=!1){const N=xk(e);let x,B=!1,de;const he=new Map,K=new Set;v(g,I,K,E);function ce(te){const{key:Re}=te;S(g,I,K,Re,E);const pt=F?vg(g,I,Re):T(g,I,Re);if(he.set(Re,pt),pt.state==="hasValue")return pt.contents;throw pt.contents}try{x=n({get:ce}),x=kk(x)?ce(x):x,Ye(x)?x=f(g,x,I,he,E).finally(N):N()}catch(te){x=te,Ye(x)?x=p(g,x,I,he,E).finally(N):(B=!0,N())}return B?de=To(x):Ye(x)?de=wk(x):de=Cc(x),Te(de),[de,he]}function b(g,I){const E=new Set,F=c(g),N=o.get(x=>(typeof x!="string"&&ll(!1),T(g,I,x).contents),{onNodeVisit:x=>{x.type==="branch"&&x.nodeKey!==e&&typeof x.nodeKey=="string"&&E.add(x.nodeKey)}});return N&&v(g,I,E,F.latestExecutionId),N}function V(g){return Array.from(g.entries()).map(([I,E])=>[I,E.contents])}function U(g,I){const E=Pk(),[F,N]=A(g,I,E);return X(F,g,N,E,I),Ce(I,V(N),F),y(g,F,E),F}function M(g,I){const E=b(g,I);if(E!=null)return X(E,g),E;const F=J(g,I);if(F){const N=F;return y(g,Se(N.latestLoadable),Se(N.latestExecutionId)),Se(N.latestLoadable)}return U(g,I)}function J(g,I){var E;const[,F]=(E=Array.from(a.entries()).find(([,N])=>N.latestLoadable!=null&&N.latestExecutionId!=null&&!le(g,I)))!==null&&E!==void 0?E:[];return F}const we=new Map;function le(g,I){var E,F;const N=c(g),x=(E=N.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&E!==void 0?E:new Map,B=Array(((F=we.get(I.version))!==null&&F!==void 0?F:new Map).entries()),de=we.has(I.version)&&B.length===x.size&&B.every(([he,K])=>x.get(he)===K);return x==null||I.version===N.stateVersion||de?!1:(we.set(I.version,new Map(x)),Array.from(x).some(([he,K])=>{const ce=T(g,I,he);return ce.contents!==K.contents&&!(K.state==="loading"&&ce.state!=="loading")}))}function X(g,I,E,F,N){const x=c(I);g.state==="loading"?(x.depValuesDiscoveredSoFarDuringAsyncWork=E,x.latestExecutionId=F,x.latestLoadable=g,x.stateVersion=N==null?void 0:N.version):(x.depValuesDiscoveredSoFarDuringAsyncWork=null,x.latestExecutionId=null,x.latestLoadable=null,x.stateVersion=null)}function Ce(g,I,E){E.state!=="loading"&&be(g,I,E)}function ee(g,I,E){const F=c(I);ye(I,E)&&(F.depValuesDiscoveredSoFarDuringAsyncWork=g)}function Be(g,I){ye(g,I)&&a.delete(g)}function ye(g,I){const E=c(g);return I===E.latestExecutionId}function Te(g){g.state!=="loading"&&(g.contents,void 0)}function Xe(g){}function be(g,I,E){g.atomValues.set(e,E),o.set(I,E)}function D(g){if(Ro.includes(e)){const I=`Recoil selector has circular dependencies: ${Ro.slice(Ro.indexOf(e)).join(" \u2192 ")}`;return To(new Error(I))}Ro.push(e);try{return g()}finally{Ro.pop()}}function R(g,I){return o.get(F=>{typeof F!="string"&&ll(!1);const N=Sk(g,I,F);return N==null?void 0:N.contents})}function k(g,I){return D(()=>M(g,I))}function O(g){g.atomValues.delete(e)}if(i!=null){let g=function(I,E,F){let N=!1;const x=new Map;function B({key:ce}){if(N)throw new Error("Recoil: Async selector sets are not currently supported.");const te=T(I,E,ce);if(te.state==="hasValue")return te.contents;throw te.state==="loading"?new Rk(ce):te.contents}function de(ce,te){if(N)throw new Error("Recoil: Async selector sets are not currently supported.");const Re=typeof te=="function"?te(B(ce)):te;Ek(I,E,ce.key,Re).forEach((Pe,Kt)=>x.set(Kt,Pe))}function he(ce){de(ce,Tk)}const K=i({set:de,get:B,reset:he},F);if(K!==void 0)throw Ye(K)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return N=!0,x};var H=g;return yg({key:e,peek:R,get:k,set:g,init:d,invalidate:O,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})}else return yg({key:e,peek:R,get:k,init:d,invalidate:O,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})}var cl=Dk;const{loadableWithError:wg,loadableWithPromise:Sg,loadableWithValue:Io}=Ih,{DEFAULT_VALUE:Mn,DefaultValue:oi,getConfigDeletionHandler:N0,registerNode:Lk,setConfigDeletionHandler:Mk}=on,{isRecoilValue:Fk}=xr,{markRecoilValueModified:$k,setRecoilValue:Eg,setRecoilValueLoadable:Uk}=Gi,{retainedByOptionWithDefault:Vk}=eu;function Bk(t){const{key:e,persistence_UNSTABLE:n}=t,r=Vk(t.retainedBy_UNSTABLE);let i=0,o=Ye(t.default)?Sg(t.default.then(f=>(o=Io(f),{__key:e,__value:f})).catch(f=>{throw o=wg(f),f})):Io(t.default),s;const a=new Map;function l(f,p){const m=p.then(v=>{var S,A;return((A=((S=f.getState().nextTree)!==null&&S!==void 0?S:f.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===m&&Eg(f,T,v),{__key:e,__value:v}}).catch(v=>{var S,A;throw((A=((S=f.getState().nextTree)!==null&&S!==void 0?S:f.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===m&&Uk(f,T,wg(v)),v});return m}function u(f,p,m){i++;const v=f.getState().knownAtoms.has(e);if(f.getState().knownAtoms.add(e),o.state==="loading"){const U=()=>{var M;((M=f.getState().nextTree)!==null&&M!==void 0?M:f.getState().currentTree).atomValues.has(e)||$k(f,T)};o.contents.then(U).catch(U)}let S=Mn,A=null;if(t.effects_UNSTABLE!=null&&!v){let U=!0;const M=le=>X=>{if(U){const Ce=S instanceof oi||Ye(S)?o.state==="hasValue"?o.contents:Mn:S;S=typeof X=="function"?X(Ce):X}else{if(Ye(X))throw new Error("Setting atoms to async values is not implemented.");typeof X!="function"&&(A={effect:le,value:X}),Eg(f,T,typeof X=="function"?Ce=>{const ee=X(Ce);return A={effect:le,value:ee},ee}:X)}},J=le=>()=>M(le)(Mn),we=le=>X=>{f.subscribeToTransactions(Ce=>{var ee;let{currentTree:Be,previousTree:ye}=Ce.getState();ye||(ye=Be);const Te=Be.atomValues.get(e);if(Te==null||Te.state==="hasValue"){var Xe,be,D;const R=Te!=null?Te.contents:Mn,k=(Xe=ye.atomValues.get(e))!==null&&Xe!==void 0?Xe:o,O=k.state==="hasValue"?k.contents:Mn;(((be=A)===null||be===void 0?void 0:be.effect)!==le||((D=A)===null||D===void 0?void 0:D.value)!==R)&&X(R,O)}((ee=A)===null||ee===void 0?void 0:ee.effect)===le&&(A=null)},e)};for(const le of(b=t.effects_UNSTABLE)!==null&&b!==void 0?b:[]){var b;const X=le({node:T,trigger:m,setSelf:M(le),resetSelf:J(le),onSet:we(le)});X!=null&&a.set(f,X)}U=!1}if(!(S instanceof oi)){var V;const U=Ye(S)?Sg(l(f,S)):Io(S);p.atomValues.set(e,U),(V=f.getState().nextTree)===null||V===void 0||V.atomValues.set(e,U)}return()=>{var U;i--,(U=a.get(f))===null||U===void 0||U(),a.delete(f),f.getState().knownAtoms.delete(e)}}function c(f,p){var m,v,S;return(m=(v=p.atomValues.get(e))!==null&&v!==void 0?v:(S=s)===null||S===void 0?void 0:S[1])!==null&&m!==void 0?m:o}function d(f,p){if(p.atomValues.has(e))return Se(p.atomValues.get(e));if(p.nonvalidatedAtoms.has(e)){if(s!=null)return s;if(n==null)return o;const m=p.nonvalidatedAtoms.get(e),v=n.validator(m,Mn);return s=v instanceof oi?o:Io(v),s}else return o}function h(){s=void 0}function y(f,p,m){if(p.atomValues.has(e)){const v=Se(p.atomValues.get(e));if(v.state==="hasValue"&&m===v.contents)return new Map}else if(!p.nonvalidatedAtoms.has(e)&&m instanceof oi)return new Map;return s=void 0,new Map().set(e,Io(m))}function _(){return N0(e)!==void 0&&i<=0}const T=Lk({key:e,peek:c,get:d,set:y,init:u,invalidate:h,shouldDeleteConfigOnRelease:_,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return T}function A0(t){const r=t,{default:e}=r,n=qu(r,["default"]);return Fk(e)?zk(Dt(Ge({},n),{default:e})):Bk(Dt(Ge({},n),{default:e}))}function zk(t){const e=A0(Dt(Ge({},t),{default:Mn,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:Dt(Ge({},t.persistence_UNSTABLE),{validator:r=>r instanceof oi?r:Se(t.persistence_UNSTABLE).validator(r,Mn)}),effects_UNSTABLE:t.effects_UNSTABLE})),n=cl({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof oi?t.default:i},set:({set:r},i)=>r(e,i),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Mk(n.key,N0(t.key)),n}var xd=A0;class jk{constructor(e){var n;Ae(this,"_map",void 0),Ae(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Wk={MapCache:jk},Hk=Wk.MapCache,Gk=Object.freeze({__proto__:null,MapCache:Hk});const{LRUCache:Kk}=b0,{MapCache:qk}=Gk,pa={equality:"reference",eviction:"none",maxSize:1/0};function Yk({equality:t=pa.equality,eviction:e=pa.eviction,maxSize:n=pa.maxSize}=pa){const r=Qk(t);return Xk(e,n,r)}function Qk(t){switch(t){case"reference":return e=>e;case"value":return e=>su(e)}throw new Error(`Unrecognized equality policy ${t}`)}function Xk(t,e,n){switch(t){case"none":return new qk({mapKey:n});case"lru":return new Kk({mapKey:n,maxSize:Se(e)})}throw new Error(`Unrecognized eviction policy ${t}`)}var x0=Yk;const{setConfigDeletionHandler:Zk}=on;let Jk=0;function eb(t){var e;const n=x0((e=t.cachePolicyForParams_UNSTABLE)!==null&&e!==void 0?e:{equality:"value",eviction:"none"});return r=>{var i;const o=n.get(r);if(o!=null)return o;const s=`${t.key}__selectorFamily/${(i=su(r,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${Jk++}`,a=d=>t.get(r)(d),l=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(r):t.retainedBy_UNSTABLE;let c;if(t.set!=null){const d=t.set;c=cl({key:s,get:a,set:(y,_)=>d(r)(y,_),cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else c=cl({key:s,get:a,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return n.set(r,c),Zk(c.key,()=>{n.delete(r)}),c}}var xn=eb;const{DEFAULT_VALUE:tb,DefaultValue:nb,setConfigDeletionHandler:rb}=on;function ib(t){var e;const n=x0((e=t.cachePolicyForParams_UNSTABLE)!==null&&e!==void 0?e:{equality:"value",eviction:"none"}),r={key:t.key,default:tb,persistence_UNSTABLE:t.persistence_UNSTABLE};let i;i=xd(r);const o=xn({key:`${t.key}__atomFamily/Default`,get:s=>({get:a})=>{const l=a(typeof i=="function"?i(s):i);return l instanceof nb?typeof t.default=="function"?t.default(s):t.default:l},dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:t.retainedBy_UNSTABLE});return s=>{var a;const l=n.get(s);if(l!=null)return l;const h=t,{cachePolicyForParams_UNSTABLE:u}=h,c=qu(h,["cachePolicyForParams_UNSTABLE"]),d=xd(Dt(Ge({},c),{key:`${t.key}__${(a=su(s))!==null&&a!==void 0?a:"void"}`,default:o(s),retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects_UNSTABLE:typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):t.effects_UNSTABLE}));return n.set(s,d),rb(d.key,()=>{n.delete(s)}),d}}var ob=ib;const sb=xn({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ab(t){return sb(t)}var lb=ab;const ub=xn({key:"__error",get:t=>()=>{throw new Error(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function cb(t){return ub(t)}var db=cb;function fb(t){return t}var hb=fb;const{loadableWithError:P0,loadableWithPromise:O0,loadableWithValue:D0}=Ih;function au(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function pb(t){return t!=null&&!Ye(t)}function lu(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function kh(t){return t!=null&&typeof t=="object"&&t.hasOwnProperty("__value")?t.__value:t}function Pd(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>Dt(Ge({},n),{[r]:e[i]}),{})}function wi(t,e,n){const r=n.map((i,o)=>i==null?D0(e[o]):Ye(i)?O0(i):P0(i));return Pd(t,r)}function mb(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const gb=xn({key:"__waitForNone",get:t=>({get:e})=>{const n=lu(t),[r,i]=au(e,n);return wi(t,r,i)}}),_b=xn({key:"__waitForAny",get:t=>({get:e})=>{const n=lu(t),[r,i]=au(e,n);return i.some(o=>!Ye(o))?wi(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())Ye(a)&&a.then(l=>{r[s]=kh(l),i[s]=void 0,o(wi(t,r,i))}).catch(l=>{i[s]=l,o(wi(t,r,i))})})}}),vb=xn({key:"__waitForAll",get:t=>({get:e})=>{const n=lu(t),[r,i]=au(e,n);if(i.every(s=>s==null))return Pd(t,r);const o=i.find(pb);if(o!=null)throw o;return Promise.all(i).then(s=>Pd(t,mb(r,s).map(kh)))}}),yb=xn({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=lu(t),[r,i]=au(e,n);return i.every(o=>!Ye(o))?wi(t,r,i):Promise.all(i.map((o,s)=>Ye(o)?o.then(a=>{r[s]=kh(a),i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>wi(t,r,i))}}),wb=xn({key:"__noWait",get:t=>({get:e})=>{try{return D0(e(t))}catch(n){return Ye(n)?O0(n):P0(n)}}});var Sb={waitForNone:gb,waitForAny:_b,waitForAll:vb,waitForAllSettled:yb,noWait:wb};const{batchUpdates:Eb,setBatcher:Cb}=fh,{DefaultValue:Tb}=on,{RecoilRoot:Rb}=ru,{isRecoilValue:Ib}=xr,{retentionZone:kb}=Xl,{freshSnapshot:bb}=mh,{useGotoRecoilSnapshot:Nb,useRecoilCallback:Ab,useRecoilSnapshot:xb,useRecoilState:Pb,useRecoilStateLoadable:Ob,useRecoilTransactionObserver:Db,useRecoilValue:Lb,useRecoilValueLoadable:Mb,useResetRecoilState:Fb,useRetain:$b,useSetRecoilState:Ub,useSetUnvalidatedAtomValues:Vb,useTransactionObservation_DEPRECATED:Bb}=VI,{noWait:zb,waitForAll:jb,waitForAllSettled:Wb,waitForAny:Hb,waitForNone:Gb}=Sb;var bh={DefaultValue:Tb,RecoilRoot:Rb,useRecoilBridgeAcrossReactRoots_UNSTABLE:YI,atom:xd,selector:cl,retentionZone:kb,atomFamily:ob,selectorFamily:xn,constSelector:lb,errorSelector:db,readOnlySelector:hb,useRecoilValue:Lb,useRecoilValueLoadable:Mb,useRecoilState:Pb,useRecoilStateLoadable:Ob,useSetRecoilState:Ub,useResetRecoilState:Fb,useGetRecoilValueInfo_UNSTABLE:WI,useRetain:$b,useRecoilCallback:Ab,useGotoRecoilSnapshot:Nb,useRecoilSnapshot:xb,useRecoilTransactionObserver_UNSTABLE:Db,useTransactionObservation_UNSTABLE:Bb,useSetUnvalidatedAtomValues_UNSTABLE:Vb,noWait:zb,waitForNone:Gb,waitForAny:Hb,waitForAll:jb,waitForAllSettled:Wb,isRecoilValue:Ib,batchUpdates:Eb,setBatcher:Cb,snapshot_UNSTABLE:bb},Kb=bh.RecoilRoot,uu=bh.atom,cu=bh.useRecoilState,Nh={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),xh=Symbol.for("react.portal"),du=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),pu=Symbol.for("react.provider"),mu=Symbol.for("react.context"),qb=Symbol.for("react.server_context"),gu=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),vu=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),wu=Symbol.for("react.lazy"),Yb=Symbol.for("react.offscreen"),Qb=Symbol.for("react.module.reference");function Gt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ah:switch(t=t.type,t){case du:case hu:case fu:case _u:case vu:return t;default:switch(t=t&&t.$$typeof,t){case qb:case mu:case gu:case wu:case yu:case pu:return t;default:return e}}case xh:return e}}}Ie.ContextConsumer=mu;Ie.ContextProvider=pu;Ie.Element=Ah;Ie.ForwardRef=gu;Ie.Fragment=du;Ie.Lazy=wu;Ie.Memo=yu;Ie.Portal=xh;Ie.Profiler=hu;Ie.StrictMode=fu;Ie.Suspense=_u;Ie.SuspenseList=vu;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(t){return Gt(t)===mu};Ie.isContextProvider=function(t){return Gt(t)===pu};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah};Ie.isForwardRef=function(t){return Gt(t)===gu};Ie.isFragment=function(t){return Gt(t)===du};Ie.isLazy=function(t){return Gt(t)===wu};Ie.isMemo=function(t){return Gt(t)===yu};Ie.isPortal=function(t){return Gt(t)===xh};Ie.isProfiler=function(t){return Gt(t)===hu};Ie.isStrictMode=function(t){return Gt(t)===fu};Ie.isSuspense=function(t){return Gt(t)===_u};Ie.isSuspenseList=function(t){return Gt(t)===vu};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===du||t===hu||t===fu||t===_u||t===vu||t===Yb||typeof t=="object"&&t!==null&&(t.$$typeof===wu||t.$$typeof===yu||t.$$typeof===pu||t.$$typeof===mu||t.$$typeof===gu||t.$$typeof===Qb||t.getModuleId!==void 0)};Ie.typeOf=Gt;Nh.exports=Ie;function Xb(t){function e(R,k,O,H,g){for(var I=0,E=0,F=0,N=0,x,B,de=0,he=0,K,ce=K=x=0,te=0,Re=0,pt=0,Pe=0,Kt=O.length,z=Kt-1,Q,G="",fe="",lt="",qt="",ut;te<Kt;){if(B=O.charCodeAt(te),te===z&&E+N+F+I!==0&&(E!==0&&(B=E===47?10:47),N=F=I=0,Kt++,z++),E+N+F+I===0){if(te===z&&(0<Re&&(G=G.replace(h,"")),0<G.trim().length)){switch(B){case 32:case 9:case 59:case 13:case 10:break;default:G+=O.charAt(te)}B=59}switch(B){case 123:for(G=G.trim(),x=G.charCodeAt(0),K=1,Pe=++te;te<Kt;){switch(B=O.charCodeAt(te)){case 123:K++;break;case 125:K--;break;case 47:switch(B=O.charCodeAt(te+1)){case 42:case 47:e:{for(ce=te+1;ce<z;++ce)switch(O.charCodeAt(ce)){case 47:if(B===42&&O.charCodeAt(ce-1)===42&&te+2!==ce){te=ce+1;break e}break;case 10:if(B===47){te=ce+1;break e}}te=ce}}break;case 91:B++;case 40:B++;case 34:case 39:for(;te++<z&&O.charCodeAt(te)!==B;);}if(K===0)break;te++}switch(K=O.substring(Pe,te),x===0&&(x=(G=G.replace(d,"").trim()).charCodeAt(0)),x){case 64:switch(0<Re&&(G=G.replace(h,"")),B=G.charCodeAt(1),B){case 100:case 109:case 115:case 45:Re=k;break;default:Re=Be}if(K=e(k,Re,K,B,g+1),Pe=K.length,0<Te&&(Re=n(Be,G,pt),ut=a(3,K,Re,k,X,le,Pe,B,g,H),G=Re.join(""),ut!==void 0&&(Pe=(K=ut.trim()).length)===0&&(B=0,K="")),0<Pe)switch(B){case 115:G=G.replace(b,s);case 100:case 109:case 45:K=G+"{"+K+"}";break;case 107:G=G.replace(m,"$1 $2"),K=G+"{"+K+"}",K=ee===1||ee===2&&o("@"+K,3)?"@-webkit-"+K+"@"+K:"@"+K;break;default:K=G+K,H===112&&(K=(fe+=K,""))}else K="";break;default:K=e(k,n(k,G,pt),K,H,g+1)}lt+=K,K=pt=Re=ce=x=0,G="",B=O.charCodeAt(++te);break;case 125:case 59:if(G=(0<Re?G.replace(h,""):G).trim(),1<(Pe=G.length))switch(ce===0&&(x=G.charCodeAt(0),x===45||96<x&&123>x)&&(Pe=(G=G.replace(" ",":")).length),0<Te&&(ut=a(1,G,k,R,X,le,fe.length,H,g,H))!==void 0&&(Pe=(G=ut.trim()).length)===0&&(G="\0\0"),x=G.charCodeAt(0),B=G.charCodeAt(1),x){case 0:break;case 64:if(B===105||B===99){qt+=G+O.charAt(te);break}default:G.charCodeAt(Pe-1)!==58&&(fe+=i(G,x,B,G.charCodeAt(2)))}pt=Re=ce=x=0,G="",B=O.charCodeAt(++te)}}switch(B){case 13:case 10:E===47?E=0:1+x===0&&H!==107&&0<G.length&&(Re=1,G+="\0"),0<Te*be&&a(0,G,k,R,X,le,fe.length,H,g,H),le=1,X++;break;case 59:case 125:if(E+N+F+I===0){le++;break}default:switch(le++,Q=O.charAt(te),B){case 9:case 32:if(N+I+E===0)switch(de){case 44:case 58:case 9:case 32:Q="";break;default:B!==32&&(Q=" ")}break;case 0:Q="\\0";break;case 12:Q="\\f";break;case 11:Q="\\v";break;case 38:N+E+I===0&&(Re=pt=1,Q="\f"+Q);break;case 108:if(N+E+I+Ce===0&&0<ce)switch(te-ce){case 2:de===112&&O.charCodeAt(te-3)===58&&(Ce=de);case 8:he===111&&(Ce=he)}break;case 58:N+E+I===0&&(ce=te);break;case 44:E+F+N+I===0&&(Re=1,Q+="\r");break;case 34:case 39:E===0&&(N=N===B?0:N===0?B:N);break;case 91:N+E+F===0&&I++;break;case 93:N+E+F===0&&I--;break;case 41:N+E+I===0&&F--;break;case 40:if(N+E+I===0){if(x===0)switch(2*de+3*he){case 533:break;default:x=1}F++}break;case 64:E+F+N+I+ce+K===0&&(K=1);break;case 42:case 47:if(!(0<N+I+F))switch(E){case 0:switch(2*B+3*O.charCodeAt(te+1)){case 235:E=47;break;case 220:Pe=te,E=42}break;case 42:B===47&&de===42&&Pe+2!==te&&(O.charCodeAt(Pe+2)===33&&(fe+=O.substring(Pe,te+1)),Q="",E=0)}}E===0&&(G+=Q)}he=de,de=B,te++}if(Pe=fe.length,0<Pe){if(Re=k,0<Te&&(ut=a(2,fe,Re,R,X,le,Pe,H,g,H),ut!==void 0&&(fe=ut).length===0))return qt+fe+lt;if(fe=Re.join(",")+"{"+fe+"}",ee*Ce!==0){switch(ee!==2||o(fe,2)||(Ce=0),Ce){case 111:fe=fe.replace(S,":-moz-$1")+fe;break;case 112:fe=fe.replace(v,"::-webkit-input-$1")+fe.replace(v,"::-moz-$1")+fe.replace(v,":-ms-input-$1")+fe}Ce=0}}return qt+fe+lt}function n(R,k,O){var H=k.trim().split(f);k=H;var g=H.length,I=R.length;switch(I){case 0:case 1:var E=0;for(R=I===0?"":R[0]+" ";E<g;++E)k[E]=r(R,k[E],O).trim();break;default:var F=E=0;for(k=[];E<g;++E)for(var N=0;N<I;++N)k[F++]=r(R[N]+" ",H[E],O).trim()}return k}function r(R,k,O){var H=k.charCodeAt(0);switch(33>H&&(H=(k=k.trim()).charCodeAt(0)),H){case 38:return k.replace(p,"$1"+R.trim());case 58:return R.trim()+k.replace(p,"$1"+R.trim());default:if(0<1*O&&0<k.indexOf("\f"))return k.replace(p,(R.charCodeAt(0)===58?"":"$1")+R.trim())}return R+k}function i(R,k,O,H){var g=R+";",I=2*k+3*O+4*H;if(I===944){R=g.indexOf(":",9)+1;var E=g.substring(R,g.length-1).trim();return E=g.substring(0,R).trim()+E+";",ee===1||ee===2&&o(E,1)?"-webkit-"+E+E:E}if(ee===0||ee===2&&!o(g,1))return g;switch(I){case 1015:return g.charCodeAt(10)===97?"-webkit-"+g+g:g;case 951:return g.charCodeAt(3)===116?"-webkit-"+g+g:g;case 963:return g.charCodeAt(5)===110?"-webkit-"+g+g:g;case 1009:if(g.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+g+g;case 978:return"-webkit-"+g+"-moz-"+g+g;case 1019:case 983:return"-webkit-"+g+"-moz-"+g+"-ms-"+g+g;case 883:if(g.charCodeAt(8)===45)return"-webkit-"+g+g;if(0<g.indexOf("image-set(",11))return g.replace(we,"$1-webkit-$2")+g;break;case 932:if(g.charCodeAt(4)===45)switch(g.charCodeAt(5)){case 103:return"-webkit-box-"+g.replace("-grow","")+"-webkit-"+g+"-ms-"+g.replace("grow","positive")+g;case 115:return"-webkit-"+g+"-ms-"+g.replace("shrink","negative")+g;case 98:return"-webkit-"+g+"-ms-"+g.replace("basis","preferred-size")+g}return"-webkit-"+g+"-ms-"+g+g;case 964:return"-webkit-"+g+"-ms-flex-"+g+g;case 1023:if(g.charCodeAt(8)!==99)break;return E=g.substring(g.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+E+"-webkit-"+g+"-ms-flex-pack"+E+g;case 1005:return _.test(g)?g.replace(y,":-webkit-")+g.replace(y,":-moz-")+g:g;case 1e3:switch(E=g.substring(13).trim(),k=E.indexOf("-")+1,E.charCodeAt(0)+E.charCodeAt(k)){case 226:E=g.replace(A,"tb");break;case 232:E=g.replace(A,"tb-rl");break;case 220:E=g.replace(A,"lr");break;default:return g}return"-webkit-"+g+"-ms-"+E+g;case 1017:if(g.indexOf("sticky",9)===-1)break;case 975:switch(k=(g=R).length-10,E=(g.charCodeAt(k)===33?g.substring(0,k):g).substring(R.indexOf(":",7)+1).trim(),I=E.charCodeAt(0)+(E.charCodeAt(7)|0)){case 203:if(111>E.charCodeAt(8))break;case 115:g=g.replace(E,"-webkit-"+E)+";"+g;break;case 207:case 102:g=g.replace(E,"-webkit-"+(102<I?"inline-":"")+"box")+";"+g.replace(E,"-webkit-"+E)+";"+g.replace(E,"-ms-"+E+"box")+";"+g}return g+";";case 938:if(g.charCodeAt(5)===45)switch(g.charCodeAt(6)){case 105:return E=g.replace("-items",""),"-webkit-"+g+"-webkit-box-"+E+"-ms-flex-"+E+g;case 115:return"-webkit-"+g+"-ms-flex-item-"+g.replace(U,"")+g;default:return"-webkit-"+g+"-ms-flex-line-pack"+g.replace("align-content","").replace(U,"")+g}break;case 973:case 989:if(g.charCodeAt(3)!==45||g.charCodeAt(4)===122)break;case 931:case 953:if(J.test(R)===!0)return(E=R.substring(R.indexOf(":")+1)).charCodeAt(0)===115?i(R.replace("stretch","fill-available"),k,O,H).replace(":fill-available",":stretch"):g.replace(E,"-webkit-"+E)+g.replace(E,"-moz-"+E.replace("fill-",""))+g;break;case 962:if(g="-webkit-"+g+(g.charCodeAt(5)===102?"-ms-"+g:"")+g,O+H===211&&g.charCodeAt(13)===105&&0<g.indexOf("transform",10))return g.substring(0,g.indexOf(";",27)+1).replace(T,"$1-webkit-$2")+g}return g}function o(R,k){var O=R.indexOf(k===1?":":"{"),H=R.substring(0,k!==3?O:10);return O=R.substring(O+1,R.length-1),Xe(k!==2?H:H.replace(M,"$1"),O,k)}function s(R,k){var O=i(k,k.charCodeAt(0),k.charCodeAt(1),k.charCodeAt(2));return O!==k+";"?O.replace(V," or ($1)").substring(4):"("+k+")"}function a(R,k,O,H,g,I,E,F,N,x){for(var B=0,de=k,he;B<Te;++B)switch(he=ye[B].call(c,R,de,O,H,g,I,E,F,N,x)){case void 0:case!1:case!0:case null:break;default:de=he}if(de!==k)return de}function l(R){switch(R){case void 0:case null:Te=ye.length=0;break;default:if(typeof R=="function")ye[Te++]=R;else if(typeof R=="object")for(var k=0,O=R.length;k<O;++k)l(R[k]);else be=!!R|0}return l}function u(R){return R=R.prefix,R!==void 0&&(Xe=null,R?typeof R!="function"?ee=1:(ee=2,Xe=R):ee=0),u}function c(R,k){var O=R;if(33>O.charCodeAt(0)&&(O=O.trim()),D=O,O=[D],0<Te){var H=a(-1,k,O,O,X,le,0,0,0,0);H!==void 0&&typeof H=="string"&&(k=H)}var g=e(Be,O,k,0,0);return 0<Te&&(H=a(-2,g,O,O,X,le,g.length,0,0,0),H!==void 0&&(g=H)),D="",Ce=0,le=X=1,g}var d=/^\0+/g,h=/[\0\r\f]/g,y=/: */g,_=/zoo|gra/,T=/([,: ])(transform)/g,f=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,S=/:(read-only)/g,A=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,U=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,J=/stretch|:\s*\w+\-(?:conte|avail)/,we=/([^-])(image-set\()/,le=1,X=1,Ce=0,ee=1,Be=[],ye=[],Te=0,Xe=null,be=0,D="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var Zb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Jb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var eN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Cg=Jb(function(t){return eN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),L0={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=typeof Symbol=="function"&&Symbol.for,Ph=at?Symbol.for("react.element"):60103,Oh=at?Symbol.for("react.portal"):60106,Su=at?Symbol.for("react.fragment"):60107,Eu=at?Symbol.for("react.strict_mode"):60108,Cu=at?Symbol.for("react.profiler"):60114,Tu=at?Symbol.for("react.provider"):60109,Ru=at?Symbol.for("react.context"):60110,Dh=at?Symbol.for("react.async_mode"):60111,Iu=at?Symbol.for("react.concurrent_mode"):60111,ku=at?Symbol.for("react.forward_ref"):60112,bu=at?Symbol.for("react.suspense"):60113,tN=at?Symbol.for("react.suspense_list"):60120,Nu=at?Symbol.for("react.memo"):60115,Au=at?Symbol.for("react.lazy"):60116,nN=at?Symbol.for("react.block"):60121,rN=at?Symbol.for("react.fundamental"):60117,iN=at?Symbol.for("react.responder"):60118,oN=at?Symbol.for("react.scope"):60119;function Ft(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ph:switch(t=t.type,t){case Dh:case Iu:case Su:case Cu:case Eu:case bu:return t;default:switch(t=t&&t.$$typeof,t){case Ru:case ku:case Au:case Nu:case Tu:return t;default:return e}}case Oh:return e}}}function M0(t){return Ft(t)===Iu}ke.AsyncMode=Dh;ke.ConcurrentMode=Iu;ke.ContextConsumer=Ru;ke.ContextProvider=Tu;ke.Element=Ph;ke.ForwardRef=ku;ke.Fragment=Su;ke.Lazy=Au;ke.Memo=Nu;ke.Portal=Oh;ke.Profiler=Cu;ke.StrictMode=Eu;ke.Suspense=bu;ke.isAsyncMode=function(t){return M0(t)||Ft(t)===Dh};ke.isConcurrentMode=M0;ke.isContextConsumer=function(t){return Ft(t)===Ru};ke.isContextProvider=function(t){return Ft(t)===Tu};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ph};ke.isForwardRef=function(t){return Ft(t)===ku};ke.isFragment=function(t){return Ft(t)===Su};ke.isLazy=function(t){return Ft(t)===Au};ke.isMemo=function(t){return Ft(t)===Nu};ke.isPortal=function(t){return Ft(t)===Oh};ke.isProfiler=function(t){return Ft(t)===Cu};ke.isStrictMode=function(t){return Ft(t)===Eu};ke.isSuspense=function(t){return Ft(t)===bu};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Su||t===Iu||t===Cu||t===Eu||t===bu||t===tN||typeof t=="object"&&t!==null&&(t.$$typeof===Au||t.$$typeof===Nu||t.$$typeof===Tu||t.$$typeof===Ru||t.$$typeof===ku||t.$$typeof===rN||t.$$typeof===iN||t.$$typeof===oN||t.$$typeof===nN)};ke.typeOf=Ft;L0.exports=ke;var Lh=L0.exports,sN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Mh={};Mh[Lh.ForwardRef]=lN;Mh[Lh.Memo]=F0;function Tg(t){return Lh.isMemo(t)?F0:Mh[t.$$typeof]||sN}var uN=Object.defineProperty,cN=Object.getOwnPropertyNames,Rg=Object.getOwnPropertySymbols,dN=Object.getOwnPropertyDescriptor,fN=Object.getPrototypeOf,Ig=Object.prototype;function $0(t,e,n){if(typeof e!="string"){if(Ig){var r=fN(e);r&&r!==Ig&&$0(t,r,n)}var i=cN(e);Rg&&(i=i.concat(Rg(e)));for(var o=Tg(t),s=Tg(e),a=0;a<i.length;++a){var l=i[a];if(!aN[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=dN(e,l);try{uN(t,l,u)}catch{}}}}return t}var hN=$0;function Sn(){return(Sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var kg=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},Od=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!Nh.exports.typeOf(t)},dl=Object.freeze([]),Jn=Object.freeze({});function Ss(t){return typeof t=="function"}function bg(t){return t.displayName||t.name||"Component"}function Fh(t){return t&&typeof t.styledComponentId=="string"}var xi=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",$h=typeof window!="undefined"&&"HTMLElement"in window,pN=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function Us(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var mN=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;n>=s;)(s<<=1)<0&&Us(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),s=o+i,a=o;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Pa=new Map,fl=new Map,es=1,ma=function(t){if(Pa.has(t))return Pa.get(t);for(;fl.has(es);)es++;var e=es++;return Pa.set(t,e),fl.set(e,t),e},gN=function(t){return fl.get(t)},_N=function(t,e){e>=es&&(es=e+1),Pa.set(t,e),fl.set(e,t)},vN="style["+xi+'][data-styled-version="5.3.5"]',yN=new RegExp("^"+xi+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),wN=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},SN=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(yN);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(_N(u,l),wN(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},EN=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},U0=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(xi))return c}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(xi,"active"),r.setAttribute("data-styled-version","5.3.5");var s=EN();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},CN=function(){function t(n){var r=this.element=U0(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var l=o[s];if(l.ownerNode===i)return l}Us(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),TN=function(){function t(n){var r=this.element=U0(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),RN=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),Ng=$h,IN={isServer:!$h,useCSSOMInjection:!pN},V0=function(){function t(n,r,i){n===void 0&&(n=Jn),r===void 0&&(r={}),this.options=Sn({},IN,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&$h&&Ng&&(Ng=!1,function(o){for(var s=document.querySelectorAll(vN),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(xi)!=="active"&&(SN(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return ma(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Sn({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,s=r.target,n=i?new RN(s):o?new CN(s):new TN(s),new mN(n)));var n,r,i,o,s},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(ma(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(ma(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(ma(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",s=0;s<i;s++){var a=gN(s);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(s);if(l&&u&&l.size){var c=xi+".g"+s+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(h){h.length>0&&(d+=h+",")}),o+=""+u+c+'{content:"'+d+`"}/*!sc*/
`}}}return o}(this)},t}(),kN=/(a)(d)/gi,Ag=function(t){return String.fromCharCode(t+(t>25?39:97))};function Dd(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=Ag(e%52)+n;return(Ag(e%52)+n).replace(kN,"$1-$2")}var si=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},B0=function(t){return si(5381,t)};function bN(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ss(n)&&!Fh(n))return!1}return!0}var NN=B0("5.3.5"),AN=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&bN(e),this.componentId=n,this.baseHash=si(NN,n),this.baseStyle=r,V0.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=Pi(this.rules,e,n,r).join(""),a=Dd(si(this.baseHash,s)>>>0);if(!n.hasNameForId(i,a)){var l=r(s,"."+a,void 0,i);n.insertRules(i,a,l)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=si(this.baseHash,r.hash),d="",h=0;h<u;h++){var y=this.rules[h];if(typeof y=="string")d+=y;else if(y){var _=Pi(y,e,n,r),T=Array.isArray(_)?_.join(""):_;c=si(c,T+h),d+=T}}if(d){var f=Dd(c>>>0);if(!n.hasNameForId(i,f)){var p=r(d,"."+f,void 0,i);n.insertRules(i,f,p)}o.push(f)}}return o.join(" ")},t}(),xN=/^\s*\/\/.*$/gm,PN=[":","[",".","#"];function ON(t){var e,n,r,i,o=t===void 0?Jn:t,s=o.options,a=s===void 0?Jn:s,l=o.plugins,u=l===void 0?dl:l,c=new Xb(a),d=[],h=function(T){function f(p){if(p)try{T(p+"}")}catch{}}return function(p,m,v,S,A,b,V,U,M,J){switch(p){case 1:if(M===0&&m.charCodeAt(0)===64)return T(m+";"),"";break;case 2:if(U===0)return m+"/*|*/";break;case 3:switch(U){case 102:case 112:return T(v[0]+m),"";default:return m+(J===0?"/*|*/":"")}case-2:m.split("/*|*/}").forEach(f)}}}(function(T){d.push(T)}),y=function(T,f,p){return f===0&&PN.indexOf(p[n.length])!==-1||p.match(i)?T:"."+e};function _(T,f,p,m){m===void 0&&(m="&");var v=T.replace(xN,""),S=f&&p?p+" "+f+" { "+v+" }":v;return e=m,n=f,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(p||!f?"":f,S)}return c.use([].concat(u,[function(T,f,p){T===2&&p.length&&p[0].lastIndexOf(n)>0&&(p[0]=p[0].replace(r,y))},h,function(T){if(T===-2){var f=d;return d=[],f}}])),_.hash=u.length?u.reduce(function(T,f){return f.name||Us(15),si(T,f.name)},5381).toString():"",_}var z0=Ze.createContext();z0.Consumer;var j0=Ze.createContext(),DN=(j0.Consumer,new V0),Ld=ON();function LN(){return Z.exports.useContext(z0)||DN}function MN(){return Z.exports.useContext(j0)||Ld}var FN=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Ld);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.toString=function(){return Us(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=Ld),this.name+e.hash},t}(),$N=/([A-Z])/,UN=/([A-Z])/g,VN=/^ms-/,BN=function(t){return"-"+t.toLowerCase()};function xg(t){return $N.test(t)?t.replace(UN,BN).replace(VN,"-ms-"):t}var Pg=function(t){return t==null||t===!1||t===""};function Pi(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],s=0,a=t.length;s<a;s+=1)(i=Pi(t[s],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(Pg(t))return"";if(Fh(t))return"."+t.styledComponentId;if(Ss(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Pi(l,e,n,r)}var u;return t instanceof FN?n?(t.inject(n,r),t.getName(r)):t:Od(t)?function c(d,h){var y,_,T=[];for(var f in d)d.hasOwnProperty(f)&&!Pg(d[f])&&(Array.isArray(d[f])&&d[f].isCss||Ss(d[f])?T.push(xg(f)+":",d[f],";"):Od(d[f])?T.push.apply(T,c(d[f],f)):T.push(xg(f)+": "+(y=f,(_=d[f])==null||typeof _=="boolean"||_===""?"":typeof _!="number"||_===0||y in Zb?String(_).trim():_+"px")+";"));return h?[h+" {"].concat(T,["}"]):T}(t):t.toString()}var Og=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function zN(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ss(t)||Od(t)?Og(Pi(kg(dl,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:Og(Pi(kg(t,n)))}var jN=function(t,e,n){return n===void 0&&(n=Jn),t.theme!==n.theme&&t.theme||e||n.theme},WN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HN=/(^-|-$)/g;function Tc(t){return t.replace(WN,"-").replace(HN,"")}var GN=function(t){return Dd(B0(t)>>>0)};function ga(t){return typeof t=="string"&&!0}var Md=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},KN=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function qN(t,e,n){var r=t[n];Md(e)&&Md(r)?W0(r,e):t[n]=e}function W0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(Md(s))for(var a in s)KN(a)&&qN(t,s[a],a)}return t}var H0=Ze.createContext();H0.Consumer;var Rc={};function G0(t,e,n){var r=Fh(t),i=!ga(t),o=e.attrs,s=o===void 0?dl:o,a=e.componentId,l=a===void 0?function(m,v){var S=typeof m!="string"?"sc":Tc(m);Rc[S]=(Rc[S]||0)+1;var A=S+"-"+GN("5.3.5"+S+Rc[S]);return v?v+"-"+A:A}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(m){return ga(m)?"styled."+m:"Styled("+bg(m)+")"}(t):u,d=e.displayName&&e.componentId?Tc(e.displayName)+"-"+e.componentId:e.componentId||l,h=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,y=e.shouldForwardProp;r&&t.shouldForwardProp&&(y=e.shouldForwardProp?function(m,v,S){return t.shouldForwardProp(m,v,S)&&e.shouldForwardProp(m,v,S)}:t.shouldForwardProp);var _,T=new AN(n,d,r?t.componentStyle:void 0),f=T.isStatic&&s.length===0,p=function(m,v){return function(S,A,b,V){var U=S.attrs,M=S.componentStyle,J=S.defaultProps,we=S.foldedComponentIds,le=S.shouldForwardProp,X=S.styledComponentId,Ce=S.target,ee=function(H,g,I){H===void 0&&(H=Jn);var E=Sn({},g,{theme:H}),F={};return I.forEach(function(N){var x,B,de,he=N;for(x in Ss(he)&&(he=he(E)),he)E[x]=F[x]=x==="className"?(B=F[x],de=he[x],B&&de?B+" "+de:B||de):he[x]}),[E,F]}(jN(A,Z.exports.useContext(H0),J)||Jn,A,U),Be=ee[0],ye=ee[1],Te=function(H,g,I,E){var F=LN(),N=MN(),x=g?H.generateAndInjectStyles(Jn,F,N):H.generateAndInjectStyles(I,F,N);return x}(M,V,Be),Xe=b,be=ye.$as||A.$as||ye.as||A.as||Ce,D=ga(be),R=ye!==A?Sn({},A,{},ye):A,k={};for(var O in R)O[0]!=="$"&&O!=="as"&&(O==="forwardedAs"?k.as=R[O]:(le?le(O,Cg,be):!D||Cg(O))&&(k[O]=R[O]));return A.style&&ye.style!==A.style&&(k.style=Sn({},A.style,{},ye.style)),k.className=Array.prototype.concat(we,X,Te!==X?Te:null,A.className,ye.className).filter(Boolean).join(" "),k.ref=Xe,Z.exports.createElement(be,k)}(_,m,v,f)};return p.displayName=c,(_=Ze.forwardRef(p)).attrs=h,_.componentStyle=T,_.displayName=c,_.shouldForwardProp=y,_.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):dl,_.styledComponentId=d,_.target=r?t.target:t,_.withComponent=function(m){var v=e.componentId,S=function(b,V){if(b==null)return{};var U,M,J={},we=Object.keys(b);for(M=0;M<we.length;M++)U=we[M],V.indexOf(U)>=0||(J[U]=b[U]);return J}(e,["componentId"]),A=v&&v+"-"+(ga(m)?m:Tc(bg(m)));return G0(m,Sn({},S,{attrs:h,componentId:A}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=r?W0({},t.defaultProps,m):m}}),_.toString=function(){return"."+_.styledComponentId},i&&hN(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Fd=function(t){return function e(n,r,i){if(i===void 0&&(i=Jn),!Nh.exports.isValidElementType(r))return Us(1,String(r));var o=function(){return n(r,i,zN.apply(void 0,arguments))};return o.withConfig=function(s){return e(n,r,Sn({},i,{},s))},o.attrs=function(s){return e(n,r,Sn({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(G0,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){Fd[t]=Fd(t)});var qe=Fd,xu={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=Z.exports,QN=Symbol.for("react.element"),XN=Symbol.for("react.fragment"),ZN=Object.prototype.hasOwnProperty,JN=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eA={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ZN.call(e,r)&&!eA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QN,type:t,key:o,ref:s,props:i,_owner:JN.current}}Pu.Fragment=XN;Pu.jsx=K0;Pu.jsxs=K0;xu.exports=Pu;const se=xu.exports.jsx,kt=xu.exports.jsxs,Ou=xu.exports.Fragment;function tA({position:t,name:e}){return kt(nA,{style:{top:t.y,left:t.x},children:[se("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",width:"16",height:"16",children:se("g",{id:"_x3C_Group_x3E__20_",children:se("g",{children:se("path",{d:"M90.998,512c-1.934,0-3.882-0.366-5.742-1.143c-5.61-2.314-9.258-7.793-9.258-13.857V15    c0-6.064,3.647-11.543,9.258-13.857c5.625-2.329,12.056-1.025,16.348,3.252l330,331c4.292,4.292,5.581,10.737,3.252,16.348    c-2.314,5.61-7.793,9.258-13.857,9.258H247.209L101.604,507.606C98.733,510.477,94.895,512,90.998,512z"})})})}),e]})}const nA=qe.div`
  position: fixed;
  z-index: 1000;
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw Ki(e)},Ki=function(t){return new Error("Firebase Database ("+q0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Uh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw Error();const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Q0=function(t){const e=Y0(t);return Uh.encodeByteArray(e,!0)},X0=function(t){return Q0(t).replace(/\./g,"")},$d=function(t){try{return Uh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){return Z0(void 0,t)}function Z0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oA(n)||(t[n]=Z0(t[n],e[n]));return t}function oA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vh(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function sA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ew(){return q0.NODE_ADMIN===!0}function lA(){return typeof indexedDB=="object"}function uA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cA,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dA(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qi(i,a,r)}}function dA(t,e){return t.replace(fA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return JSON.parse(t)}function ot(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Es($d(o[0])||""),n=Es($d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},hA=function(t){const e=tw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pA=function(t){const e=tw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ud(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Dg(o)&&Dg(s)){if(!pl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function gA(t,e){const n=new _A(t,e);return n.subscribe.bind(n)}class _A{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ic),i.error===void 0&&(i.error=Ic),i.complete===void 0&&(i.complete=Ic);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ic(){}function Bh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var o;r(`${e}: ${(o=i.target.error)===null||o===void 0?void 0:o.message}`)}})}class Lg{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n){return new nw(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new rw(this._db.createObjectStore(e,n))}close(){this._db.close()}}class nw{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new rw(this._transaction.objectStore(e))}}class rw{constructor(e){this._store=e}index(e){return new Mg(this._store.index(e))}createIndex(e,n,r){return new Mg(this._store.createIndex(e,n,r))}get(e){const n=this._store.get(e);return Fo(n,"Error reading from IndexedDB")}put(e,n){const r=this._store.put(e,n);return Fo(r,"Error writing to IndexedDB")}delete(e){const n=this._store.delete(e);return Fo(n,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return Fo(e,"Error clearing IndexedDB object store")}}class Mg{constructor(e){this._index=e}get(e){const n=this._index.get(e);return Fo(n,"Error reading from IndexedDB")}}function wA(t,e,n){return new Promise((r,i)=>{try{const o=indexedDB.open(t,e);o.onsuccess=s=>{r(new Lg(s.target.result))},o.onerror=s=>{var a;i(`Error opening indexedDB: ${(a=s.target.error)===null||a===void 0?void 0:a.message}`)},o.onupgradeneeded=s=>{n(new Lg(o.result),s.oldVersion,s.newVersion,new nw(o.transaction))}}catch(o){i(`Error opening indexedDB: ${o.message}`)}})}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Du;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(t){return t===pr?void 0:t}function CA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const RA={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},IA=Ne.INFO,kA={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},bA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zh{constructor(e){this.name=e,this._logLevel=IA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vd="@firebase/app",Fg="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new zh("@firebase/app"),xA="@firebase/app-compat",PA="@firebase/analytics-compat",OA="@firebase/analytics",DA="@firebase/app-check-compat",LA="@firebase/app-check",MA="@firebase/auth",FA="@firebase/auth-compat",$A="@firebase/database",UA="@firebase/database-compat",VA="@firebase/functions",BA="@firebase/functions-compat",zA="@firebase/installations",jA="@firebase/installations-compat",WA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",KA="@firebase/performance-compat",qA="@firebase/remote-config",YA="@firebase/remote-config-compat",QA="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",JA="@firebase/firestore-compat",ex="firebase",tx="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="[DEFAULT]",nx={[Vd]:"fire-core",[xA]:"fire-core-compat",[OA]:"fire-analytics",[PA]:"fire-analytics-compat",[LA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[FA]:"fire-auth-compat",[$A]:"fire-rtdb",[UA]:"fire-rtdb-compat",[VA]:"fire-fn",[BA]:"fire-fn-compat",[zA]:"fire-iid",[jA]:"fire-iid-compat",[WA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[KA]:"fire-perf-compat",[qA]:"fire-rc",[YA]:"fire-rc-compat",[QA]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[JA]:"fire-fst-compat","fire-js":"fire-js",[ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new Map,Bd=new Map;function rx(t,e){try{t.container.addComponent(e)}catch(n){jh.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Di(t){const e=t.name;if(Bd.has(e))return jh.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,t);for(const n of ml.values())rx(n,t);return!0}function Wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Dr=new Vs("app","Firebase",ix);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=tx;function sx(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:iw,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Dr.create("bad-app-name",{appName:String(r)});const i=ml.get(r);if(i){if(pl(t,i.options)&&pl(n,i.config))return i;throw Dr.create("duplicate-app",{appName:r})}const o=new TA(r);for(const a of Bd.values())o.addComponent(a);const s=new ox(t,n,o);return ml.set(r,s),s}function ow(t=iw){const e=ml.get(t);if(!e)throw Dr.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=nx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jh.warn(a.join(" "));return}Di(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebase-heartbeat-database",lx=1,Cs="firebase-heartbeat-store";let kc=null;function sw(){return kc||(kc=wA(ax,lx,(t,e)=>{switch(e){case 0:t.createObjectStore(Cs)}}).catch(t=>{throw Dr.create("storage-open",{originalErrorMessage:t.message})})),kc}async function ux(t){try{return(await sw()).transaction(Cs).objectStore(Cs).get(aw(t))}catch(e){throw Dr.create("storage-get",{originalErrorMessage:e.message})}}async function $g(t,e){try{const r=(await sw()).transaction(Cs,"readwrite");return await r.objectStore(Cs).put(e,aw(t)),r.complete}catch(n){throw Dr.create("storage-set",{originalErrorMessage:n.message})}}function aw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=1024,dx=30*24*60*60*1e3;class fx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new px(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ug();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=dx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ug(),{heartbeatsToSend:n,unsentEntries:r}=hx(this._heartbeatsCache.heartbeats),i=X0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ug(){return new Date().toISOString().substring(0,10)}function hx(t,e=cx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Vg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class px{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ux(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $g(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $g(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vg(t){return X0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){Di(new Or("platform-logger",e=>new NA(e),"PRIVATE")),Di(new Or("heartbeat",e=>new fx(e),"PRIVATE")),er(Vd,Fg,t),er(Vd,Fg,"esm2017"),er("fire-js","")}mx("");var gx="firebase",_x="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(gx,_x,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Qi(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Xi(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function vx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function yx(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vx(arguments[e]));return t}function lw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wx=lw,uw=new Vs("auth","Firebase",lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new zh("@firebase/auth");function Oa(t,...e){Bg.logLevel<=Ne.ERROR&&Bg.error(`Auth (${Bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw Gh(t,...e)}function fn(t,...e){return Gh(t,...e)}function cw(t,e,n){const r=Object.assign(Object.assign({},wx()),{[e]:n});return new Vs("auth","Firebase",r).create(e,{appName:t.name})}function Sx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),cw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uw.create(t,...e)}function ue(t,e,...n){if(!t)throw Gh(e,...n)}function En(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oa(e),new Error(e)}function Nn(t,e){t||En(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Map;function Cn(t){Nn(t instanceof Function,"Expected a class definition");let e=zg.get(t);return e?(Nn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zg.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){const n=Wh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(pl(o,e!=null?e:{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function Cx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tx(){return jg()==="http:"||jg()==="https:"}function jg(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tx()||sA()||"connection"in navigator)?navigator.onLine:!0}function Ix(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nn(n>e,"Short delay should be less than long delay!"),this.isMobile=Vh()||J0()}get(){return Rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e){Nn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new zs(3e4,6e4);function Nx(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mu(t,e,n,r,i={}){return fw(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Yi(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),dw.fetch()(hw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function fw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kx),e);try{const i=new xx(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw bc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cw(t,c,u);pn(t,c)}}catch(i){if(i instanceof qi)throw i;pn(t,"network-request-failed")}}async function Ax(t,e,n,r,i={}){const o=await Mu(t,e,n,r,i);return"mfaPendingCredential"in o&&pn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function hw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Kh(t.config,i):`${t.config.apiScheme}://${i}`}class xx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),bx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e){return Mu(t,"POST","/v1/accounts:delete",e)}async function Ox(t,e){return Mu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dx(t,e=!1){const n=dr(t),r=await n.getIdToken(e),i=qh(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ts(Nc(i.auth_time)),issuedAtTime:ts(Nc(i.iat)),expirationTime:ts(Nc(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nc(t){return Number(t)*1e3}function qh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oa("JWT malformed, contained fewer than 3 sections"),null;try{const i=$d(n);return i?JSON.parse(i):(Oa("Failed to decode base64 JWT payload"),null)}catch(i){return Oa("Caught error parsing JWT payload as JSON",i),null}}function Lx(t){const e=qh(t);return ue(e,"internal-error"),ue(typeof e.exp!="undefined","internal-error"),ue(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qi&&Mx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ts(this.lastLoginAt),this.creationTime=ts(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ts(t,Ox(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Vx(o.providerUserInfo):[],a=Ux(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pw(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function $x(t){const e=dr(t);await gl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ux(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vx(t){return t.map(e=>{var{providerId:n}=e,r=Hh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(t,e){const n=await fw(t,{},async()=>{const r=Yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=hw(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken!="undefined","internal-error"),ue(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Lx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Bx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Rs;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return En("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,e){ue(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ts(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dx(this,e)}reload(){return $x(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ts(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,f=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:S,isAnonymous:A,providerData:b,stsTokenManager:V}=n;ue(v&&V,e,"internal-error");const U=Rs.fromJSON(this.name,V);ue(typeof v=="string",e,"internal-error"),Dn(d,e.name),Dn(h,e.name),ue(typeof S=="boolean",e,"internal-error"),ue(typeof A=="boolean",e,"internal-error"),Dn(y,e.name),Dn(_,e.name),Dn(T,e.name),Dn(f,e.name),Dn(p,e.name),Dn(m,e.name);const M=new Rr({uid:v,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:A,photoURL:_,phoneNumber:y,tenantId:T,stsTokenManager:U,createdAt:p,lastLoginAt:m});return b&&Array.isArray(b)&&(M.providerData=b.map(J=>Object.assign({},J))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rs;i.updateFromServerResponse(n);const o=new Rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gl(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mw.type="NONE";const Wg=mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e,n){return`firebase:${t}:${e}:${n}`}class Si{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Da(this.userKey,i.apiKey,o),this.fullPersistenceKey=Da("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Si(Cn(Wg),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Cn(Wg);const s=Da(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Rr._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Si(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Si(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Sw(e))return"Webos";if(Yh(e))return"Safari";if((e.includes("chrome/")||_w(e))&&!e.includes("edge/"))return"Chrome";if(yw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gw(t=wt()){return/firefox\//i.test(t)}function Yh(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _w(t=wt()){return/crios\//i.test(t)}function vw(t=wt()){return/iemobile/i.test(t)}function yw(t=wt()){return/android/i.test(t)}function ww(t=wt()){return/blackberry/i.test(t)}function Sw(t=wt()){return/webos/i.test(t)}function Fu(t=wt()){return/iphone|ipad|ipod/i.test(t)}function zx(t=wt()){var e;return Fu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jx(){return aA()&&document.documentMode===10}function Ew(t=wt()){return Fu(t)||yw(t)||Sw(t)||ww(t)||/windows phone/i.test(t)||vw(t)}function Wx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e=[]){let n;switch(t){case"Browser":n=Hg(wt());break;case"Worker":n=`${Hg(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bs}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gg(this),this.idTokenSubscription=new Gg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Si.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var n;let r=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=r==null?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!i||i===o)&&(s==null?void 0:s.user)&&(r=s.user)}return r?r._redirectEventId?(ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)):this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gl(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ix()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dr(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Si.create(this,[Cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Qh(t){return dr(t)}class Gg{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return En("not implemented")}_getIdTokenResponse(e){return En("not implemented")}_linkToIdToken(e,n){return En("not implemented")}_getReauthenticationResolver(e){return En("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(t,e){return Ax(t,"POST","/v1/accounts:signInWithIdp",Nx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="http://localhost";class Lr extends Tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Hh(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Lr(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ei(e,n)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Xh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends js{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.FACEBOOK_SIGN_IN_METHOD="facebook.com";$n.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends js{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:vn.PROVIDER_ID,signInMethod:vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vn.credentialFromTaggedObject(e)}static credentialFromError(e){return vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vn.credential(n,r)}catch{return null}}}vn.GOOGLE_SIGN_IN_METHOD="google.com";vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends js{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Un.credential(e.oauthAccessToken)}catch{return null}}}Un.GITHUB_SIGN_IN_METHOD="github.com";Un.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends js{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.TWITTER_SIGN_IN_METHOD="twitter.com";Vn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Rr._fromIdTokenResponse(e,r,i),s=Kg(r);return new Li({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Kg(r);return new Li({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Kg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends qi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_l.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _l(e,n,r,i)}}function Rw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_l._fromErrorAndOperation(t,o,e,r):o})}async function Kx(t,e,n=!1){const r=await Ts(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Li._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ts(t,Rw(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=qh(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),Li._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e,n=!1){const r="signIn",i=await Rw(t,r,e),o=await Li._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}const vl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vl,"1"),this.storage.removeItem(vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){const t=wt();return Yh(t)||Fu(t)}const Xx=1e3,Zx=10;class kw extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Qx()&&Wx(),this.fallbackToPolling=Ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);jx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kw.type="LOCAL";const Jx=kw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bw.type="SESSION";const Nw=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $u(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await eP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Zh("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function nP(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return typeof hn().WorkerGlobalScope!="undefined"&&typeof hn().importScripts=="function"}async function rP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oP(){return Aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",sP=1,yl="firebaseLocalStorage",Pw="fbase_key";class Ws{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uu(t,e){return t.transaction([yl],e?"readwrite":"readonly").objectStore(yl)}function aP(){const t=indexedDB.deleteDatabase(xw);return new Ws(t).toPromise()}function jd(){const t=indexedDB.open(xw,sP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yl,{keyPath:Pw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yl)?e(r):(r.close(),await aP(),e(await jd()))})})}async function qg(t,e,n){const r=Uu(t,!0).put({[Pw]:e,value:n});return new Ws(r).toPromise()}async function lP(t,e){const n=Uu(t,!1).get(e),r=await new Ws(n).toPromise();return r===void 0?null:r.value}function Yg(t,e){const n=Uu(t,!0).delete(e);return new Ws(n).toPromise()}const uP=800,cP=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jd();return await qg(e,vl,"1"),await Yg(e,vl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Uu(i,!1).getAll();return new Ws(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const dP=Ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function hP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=fn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",fP().appendChild(r)})}function pP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new zs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){return e?Cn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mP(t){return Yx(t.auth,new Jh(t),t.bypassAuthState)}function gP(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),qx(n,new Jh(t),t.bypassAuthState)}async function _P(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Kx(n,new Jh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mP;case"linkViaPopup":case"linkViaRedirect":return _P;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:pn(this.auth,"internal-error")}}resolve(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new zs(2e3,1e4);async function yP(t,e,n){const r=Qh(t);Sx(t,e,Xh);const i=Dw(r,n);return new Sr(r,"signInViaPopup",e,i).executeNotNull()}class Sr extends Lw{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sr.currentPopupAction&&Sr.currentPopupAction.cancel(),Sr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Nn(this.filter.length===1,"Popup operations only handle one event");const e=Zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,vP.get())};e()}}Sr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="pendingRedirect",Ac=new Map;class SP extends Lw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const r=await EP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(t,e){const n=TP(e),r=CP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CP(t){return Cn(t._redirectPersistence)}function TP(t){return Da(wP,t.config.apiKey,t.name)}async function RP(t,e,n=!1){const r=Qh(t),i=Dw(r,e),s=await new SP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=10*60*1e3;class kP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Mw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qg(e))}saveEventToCache(e){this.cachedEventUids.add(Qg(e)),this.lastProcessedEventTime=Date.now()}}function Qg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e={}){return Mu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function PP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NP(t);for(const n of e)try{if(OP(n))return}catch{}pn(t,"unauthorized-domain")}function OP(t){const e=zd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!xP.test(n))return!1;if(AP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new zs(3e4,6e4);function Xg(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LP(t){return new Promise((e,n)=>{var r,i,o;function s(){Xg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xg(),n(fn(t,"network-request-failed"))},timeout:DP.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)s();else{const a=pP("iframefcb");return hn()[a]=()=>{gapi.load?s():n(fn(t,"network-request-failed"))},hP(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw La=null,e})}let La=null;function MP(t){return La=La||LP(t),La}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new zs(5e3,15e3),$P="__/auth/iframe",UP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kh(e,UP):`https://${t.config.authDomain}/${$P}`,r={apiKey:e.apiKey,appName:t.name,v:Bs},i=BP.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yi(r).slice(1)}`}async function jP(t){const e=await MP(t),n=hn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:zP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=fn(t,"network-request-failed"),a=hn().setTimeout(()=>{o(s)},FP.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,GP=600,KP="_blank",qP="http://localhost";class Zg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YP(t,e,n,r=HP,i=GP){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},WP),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wt().toLowerCase();n&&(a=_w(u)?KP:n),gw(u)&&(e=e||qP,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,_])=>`${h}${y}=${_},`,"");if(zx(u)&&a!=="_self")return QP(e||"",a),new Zg(null);const d=window.open(e||"",a,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new Zg(d)}function QP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="__/auth/handler",ZP="emulator/auth/handler";function Jg(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bs,eventId:i};if(e instanceof Xh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ud(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(e instanceof js){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${JP(t)}?${Yi(a).slice(1)}`}function JP({config:t}){return t.emulator?Kh(t,ZP):`https://${t.authDomain}/${XP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nw,this._completeRedirectFn=RP}async _openPopup(e,n,r,i){var o;Nn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=Jg(e,n,r,zd(),i);return YP(e,s,Zh())}async _openRedirect(e,n,r,i){return await this._originValidation(e),nP(Jg(e,n,r,zd(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Nn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jP(e),r=new kP(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xc,{type:xc},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[xc];s!==void 0&&n(!!s),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ew()||Yh()||Fu()}}const tO=eO;var e_="@firebase/auth",t_="0.19.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iO(t){Di(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{ue(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cw(t)},c=new Hx(a,l,u);return Cx(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Di(new Or("auth-internal",e=>{const n=Qh(e.getProvider("auth").getImmediate());return(r=>new nO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(e_,t_,rO(t)),er(e_,t_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t=ow()){const e=Wh(t,"auth");return e.isInitialized()?e.getImmediate():Ex(t,{popupRedirectResolver:tO,persistence:[dP,Jx,Nw]})}iO("Browser");const n_="@firebase/database",r_="0.12.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw="";function oO(t){Fw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Es(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sO(e)}}catch{}return new aO},Er=$w("localStorage"),Wd=$w("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new zh("@firebase/database"),lO=function(){let t=1;return function(){return t++}}(),Uw=function(t){const e=yA(t),n=new mA;n.update(e);const r=n.digest();return Uh.encodeByteArray(r)},Hs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Hs.apply(null,r):typeof r=="object"?e+=ot(r):e+=r,e+=" "}return e};let Ir=null,i_=!0;const uO=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ci.logLevel=Ne.VERBOSE,Ir=Ci.log.bind(Ci),e&&Wd.set("logging_enabled",!0)):typeof t=="function"?Ir=t:(Ir=null,Wd.remove("logging_enabled"))},gt=function(...t){if(i_===!0&&(i_=!1,Ir===null&&Wd.get("logging_enabled")===!0&&uO(!0)),Ir){const e=Hs.apply(null,t);Ir(e)}},Gs=function(t){return function(...e){gt(t,...e)}},Hd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Hs(...t);Ci.error(e)},Mr=function(...t){const e=`FIREBASE FATAL ERROR: ${Hs(...t)}`;throw Ci.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+Hs(...t);Ci.warn(e)},cO=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mi="[MIN_NAME]",Fr="[MAX_NAME]",Zi=function(t,e){if(t===e)return 0;if(t===Mi||e===Fr)return-1;if(e===Mi||t===Fr)return 1;{const n=o_(t),r=o_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},fO=function(t,e){return t===e?0:t<e?-1:1},ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ot(e))},tp=function(t){if(typeof t!="object"||t===null)return ot(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ot(e[r]),n+=":",n+=tp(t[e[r]]);return n+="}",n},Bw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zw=function(t){$(!Vw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},hO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const gO=new RegExp("^-?(0*)\\d{1,10}$"),_O=-2147483648,vO=2147483647,o_=function(t){if(gO.test(t)){const e=Number(t);if(e>=_O&&e<=vO)return e}return null},Ji=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},yO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(t,e){const n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Gd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="5",jw="v",Ww="s",Hw="r",Gw="f",Kw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qw="ls",EO="p",Kd="ac",Yw="websocket",Qw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,i,o=!1,s="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Er.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Er.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Xw(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===Yw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TO(t)&&(n.ns=t.namespace);const i=[];return Ot(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.counters_={}}incrementCounter(e,n=1){Pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={},Oc={};function rp(t){const e=t.toString();return Pc[e]||(Pc[e]=new RO),Pc[e]}function IO(t,e){const n=t.toString();return Oc[n]||(Oc[n]=e()),Oc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ji(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="start",bO="close",NO="pLPCommand",AO="pRTLPCB",Zw="id",Jw="pw",eS="ser",xO="cb",PO="seg",OO="ts",DO="d",LO="dframe",tS=1870,nS=30,MO=tS-nS,FO=25e3,$O=3e4;class ai{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gs(e),this.stats_=rp(n),this.urlFn=l=>(this.appCheckToken&&(l[Kd]=this.appCheckToken),Xw(n,Qw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($O)),dO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ip((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===s_)this.id=a,this.password=l;else if(s===bO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[s_]="t",r[eS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jw]=np,this.transportSessionId&&(r[Ww]=this.transportSessionId),this.lastSessionId&&(r[qw]=this.lastSessionId),this.applicationId&&(r[EO]=this.applicationId),this.appCheckToken&&(r[Kd]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Kw.test(location.hostname)&&(r[Hw]=Gw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ai.forceAllow_=!0}static forceDisallow(){ai.forceDisallow_=!0}static isAvailable(){return ai.forceAllow_?!0:!ai.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!hO()&&!pO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Q0(n),i=Bw(r,MO);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[LO]="t",r[Zw]=e,r[Jw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ip{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lO(),window[NO+this.uniqueCallbackIdentifier]=e,window[AO+this.uniqueCallbackIdentifier]=n,this.myIFrame=ip.createIFrame_();let o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Zw]=this.myID,e[Jw]=this.myPW,e[eS]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nS+r.length<=tS;){const s=this.pendingSegs.shift();r=r+"&"+PO+i+"="+s.seg+"&"+OO+i+"="+s.ts+"&"+DO+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FO)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=16384,VO=45e3;let wl=null;typeof MozWebSocket!="undefined"?wl=MozWebSocket:typeof WebSocket!="undefined"&&(wl=WebSocket);class Zt{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gs(this.connId),this.stats_=rp(n),this.connURL=Zt.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i){const o={};return o[jw]=np,typeof location!="undefined"&&location.hostname&&Kw.test(location.hostname)&&(o[Hw]=Gw),n&&(o[Ww]=n),r&&(o[qw]=r),i&&(o[Kd]=i),Xw(e,Yw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Er.set("previous_websocket_failure",!0);try{if(!ew()){const r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new wl(this.connURL,[],r)}}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&wl!==null&&!Zt.forceDisallow_}static previouslyFailed(){return Er.isInMemoryStorage||Er.get("previous_websocket_failure")===!0}markConnectionHealthy(){Er.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Es(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Bw(n,UO);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ai,Zt]}initTransports_(e){const n=Zt&&Zt.isAvailable();let r=n&&!Zt.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zt];else{const i=this.transports_=[];for(const o of op.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=6e4,zO=5e3,jO=10*1024,WO=100*1024,Dc="t",a_="d",HO="s",l_="r",GO="e",u_="o",c_="a",d_="n",f_="p",KO="h";class qO{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gs("c:"+this.id+":"),this.transportManager_=new op(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dc in e){const n=e[Dc];n===c_?this.upgradeIfSecondaryHealthy_():n===l_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===u_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ko("t",e),r=ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:f_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:c_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ko("t",e),r=ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ko(Dc,e);if(a_ in e){const r=e[a_];if(n===KO)this.onHandshake_(r);else if(n===d_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HO?this.onConnectionShutdown_(r):n===l_?this.onReset_(r):n===GO?Hd("Server Error: "+r):n===u_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),np!==r&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:f_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends iS{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Vh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sl}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=32,p_=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new xe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ar(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function oS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function Je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new xe(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){const n=me(t),r=me(e);if(n===null)return e;if(n===r)return bt(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sp(t,e){if(ar(t)!==ar(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function en(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ar(t)>ar(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QO{constructor(e,n){this.errorPrefix_=n,this.parts_=sS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lu(this.parts_[r]);lS(this)}}function XO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lu(e),lS(t)}function ZO(t){const e=t.parts_.pop();t.byteLength_-=Lu(e),t.parts_.length>0&&(t.byteLength_-=1)}function lS(t){if(t.byteLength_>p_)throw new Error(t.errorPrefix_+"has a key path longer than "+p_+" bytes ("+t.byteLength_+").");if(t.parts_.length>h_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+h_+") or object contains a cycle "+mr(t))}function mr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends iS{constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ap}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=1e3,JO=60*5*1e3,eD=3*1e3,m_=30*1e3,tD=1.3,nD=3e4,rD="server_kill",g_=3;class In extends rS{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=In.nextPersistentConnectionId_++,this.log_=Gs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bo,this.maxReconnectDelay_=JO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ew())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ap.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(ot(o)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Du,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:s=>{const a=s.d;s.s==="ok"?(this.onDataUpdate_(r.p,a,!1,null),n.resolve(a)):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const s=this.outstandingGets_[o];s===void 0||i!==s||(delete this.outstandingGets_[o],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},eD),this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;In.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Pn(e,"w")){const r=Oi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=m_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ot(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Hd("Unrecognized action received from server: "+ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nD&&(this.reconnectDelay_=bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+In.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new qO(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Pt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(rD)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Pt(d),l())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ud(this.interruptReasons_)&&(this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>tp(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new xe(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=g_&&(this.reconnectDelay_=m_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=g_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fw.replace(/\./g,"-")]=1,Vh()?e["framework.cordova"]=1:J0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sl.getInstance().currentlyOnline();return Ud(this.interruptReasons_)&&e}}In.nextPersistentConnectionId_=0;In.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ge(Mi,e),i=new ge(Mi,n);return this.compare(r,i)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a;class uS extends Vu{static get __EMPTY_NODE(){return _a}static set __EMPTY_NODE(e){_a=e}compare(e,n){return Zi(e.name,n.name)}isDefinedOn(e){throw Ki("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Fr,_a)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,_a)}toString(){return".key"}}const Ti=new uS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:it.RED,this.left=i!=null?i:Nt.EMPTY_NODE,this.right=o!=null?o:Nt.EMPTY_NODE}copy(e,n,r,i,o){return new it(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class iD{copy(e,n,r,i,o){return this}insert(e,n,r){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,n=Nt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new va(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new va(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new va(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new va(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new iD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){return Zi(t.name,e.name)}function lp(t,e){return Zi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd;function sD(t){qd=t}const cS=function(t){return typeof t=="number"?"number:"+zw(t):"string:"+t},dS=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pn(e,".sv"),"Priority must be a string or number.")}else $(t===qd||t.isEmpty(),"priority of unexpected type.");$(t===qd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __;class rt{constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dS(this.priorityNode_)}static set __childrenNodeConstructor(e){__=e}static get __childrenNodeConstructor(){return __}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:me(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=me(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||ar(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=zw(this.value_):e+=this.value_,this.lazyHash_=Uw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=rt.VALUE_TYPE_ORDER.indexOf(n),o=rt.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fS,hS;function aD(t){fS=t}function lD(t){hS=t}class uD extends Vu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Zi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Fr,new rt("[PRIORITY-POST]",hS))}makePost(e,n){const r=fS(e);return new ge(n,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new uD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=Math.log(2);class dD{constructor(e){const n=o=>parseInt(Math.log(o)/cD,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const El=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new it(h,d.node,it.BLACK,null,null);{const y=parseInt(c/2,10)+l,_=i(l,y),T=i(y+1,u);return d=t[y],h=n?n(d):d,new it(h,d.node,it.BLACK,_,T)}},o=function(l){let u=null,c=null,d=t.length;const h=function(_,T){const f=d-_,p=d;d-=_;const m=i(f+1,p),v=t[f],S=n?n(v):v;y(new it(S,v.node,T,null,m))},y=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<l.count;++_){const T=l.nextBitIsOne(),f=Math.pow(2,l.count-(_+1));T?h(f,it.BLACK):(h(f,it.BLACK),h(f,it.RED))}return c},s=new dD(t.length),a=o(s);return new Nt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;const Qr={};class Tn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(Qr&&He,"ChildrenNode.ts has not been loaded"),Lc=Lc||new Tn({".priority":Qr},{".priority":He}),Lc}get(e){const n=Oi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return Pn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ge.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=El(r,e.getCompare()):a=Qr;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Tn(c,u)}addToIndexes(e,n){const r=hl(this.indexes_,(i,o)=>{const s=Oi(this.indexSet_,o);if($(s,"Missing index implementation for "+o),i===Qr)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(ge.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),El(a,s.getCompare())}else return Qr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ge(e.name,a))),l.insert(e,e.node)}});return new Tn(r,this.indexSet_)}removeFromIndexes(e,n){const r=hl(this.indexes_,i=>{if(i===Qr)return i;{const o=n.get(e.name);return o?i.remove(new ge(e.name,o)):i}});return new Tn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class ie{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dS(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return No||(No=new ie(new Nt(lp),null,Tn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||No}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?No:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ge(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?No:this.priorityNode_;return new ie(i,s,o)}}updateChild(e,n){const r=me(e);if(r===null)return n;{$(me(e)!==".priority"||ar(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Le(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(He,(s,a)=>{n[s]=a.val(e),r++,o&&ie.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cS(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Uw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new ge(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ge(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ge.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ks?-1:0}withIndex(e){if(e===Ti||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ti||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),i=n.getIterator(He);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ti?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fD extends ie{constructor(){super(new Nt(lp),ie.EMPTY_NODE,Tn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const Ks=new fD;Object.defineProperties(ge,{MIN:{value:new ge(Mi,ie.EMPTY_NODE)},MAX:{value:new ge(Fr,Ks)}});uS.__EMPTY_NODE=ie.EMPTY_NODE;rt.__childrenNodeConstructor=ie;sD(Ks);lD(Ks);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=!0;function ft(t,e=null){if(t===null)return ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,ft(e))}if(!(t instanceof Array)&&hD){const n=[];let r=!1;if(Ot(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=ft(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ge(s,l)))}}),n.length===0)return ie.EMPTY_NODE;const o=El(n,oD,s=>s.name,lp);if(r){const s=El(n,He.getCompare());return new ie(o,ft(e),new Tn({".priority":s},{".priority":He}))}else return new ie(o,ft(e),Tn.Default)}else{let n=ie.EMPTY_NODE;return Ot(t,(r,i)=>{if(Pn(t,r)&&r.substring(0,1)!=="."){const o=ft(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ft(e))}}aD(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD extends Vu{constructor(e){super(),this.indexPath_=e,$(!_e(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Zi(e.name,n.name):o}makePost(e,n){const r=ft(e),i=ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(n,i)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,Ks);return new ge(Fr,e)}toString(){return sS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends Vu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Zi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,n){const r=ft(e);return new ge(n,r)}toString(){return".value"}}const gD=new mD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){return{type:"value",snapshotNode:t}}function Fi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ks(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _D(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Is(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Fi(n,r)):s.trackChildChange(ks(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(i,o)=>{n.hasChild(i)||r.trackChildChange(Is(i,o))}),n.isLeafNode()||n.forEachChild(He,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ks(i,o,s))}else r.trackChildChange(Fi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.indexedFilter_=new up(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bs.getStartPost_(e),this.endPost_=bs.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,o,s){return this.matches(new ge(n,r))||(r=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ie.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ie.EMPTY_NODE);const o=this;return n.forEachChild(He,(s,a)=>{o.matches(new ge(s,a))||(i=i.updateImmediateChild(s,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.rangedFilter_=new bs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ge(n,r))||(r=ie.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ie.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),s++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ie.EMPTY_NODE);let o,s,a,l;if(this.reverse_){l=i.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,y)=>d(y,h)}else l=i.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,c=!1;for(;l.hasNext();){const d=l.getNext();!c&&a(o,d)<=0&&(c=!0),c&&u<this.limit_&&a(d,s)<=0?u++:i=i.updateImmediateChild(d.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,y)=>d(y,h)}else s=this.index_.getCompare();const a=e;$(a.numChildren()===this.limit_,"");const l=new ge(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const y=h==null?1:s(h,l);if(c&&!r.isEmpty()&&y>=0)return o!=null&&o.trackChildChange(ks(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Is(n,d));const T=a.updateImmediateChild(n,ie.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Fi(h.name,h.node)),T.updateImmediateChild(h.name,h.node)):T}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(Is(u.name,u.node)),o.trackChildChange(Fi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mi}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new cp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yD(t){return t.loadsAllData()?new up(t.getIndex()):t.hasLimit()?new vD(t):new bs(t)}function v_(t){const e={};if(t.isDefault())return e;let n;return t.index_===He?n="$priority":t.index_===gD?n="$value":t.index_===Ti?n="$key":($(t.index_ instanceof pD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ot(n),t.startSet_&&(e.startAt=ot(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+ot(t.indexStartName_))),t.endSet_&&(e.endAt=ot(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+ot(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function y_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends rS{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Gs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Cl.getListenId_(e,r),a={};this.listens_[s]=a;const l=v_(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),Oi(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Cl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=v_(e._queryParams),r=e._path.toString(),i=new Du;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yi(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Es(a.responseText)}catch{Pt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Pt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return{value:null,children:new Map}}function mS(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=me(e);t.children.has(r)||t.children.set(r,Tl());const i=t.children.get(r);e=Le(e),mS(i,e,n)}}function Yd(t,e,n){t.value!==null?n(e,t.value):SD(t,(r,i)=>{const o=new xe(e.toString()+"/"+r);Yd(i,o,n)})}function SD(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=10*1e3,CD=30*1e3,TD=5*60*1e3;class RD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ED(e);const r=w_+(CD-w_)*Math.random();ns(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ot(e,(i,o)=>{o>0&&Pn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*TD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function gS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=gS()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new Rl(Ee(),n,this.revert)}}else return $(me(this.path)===e,"operationForChild called for unrelated child."),new Rl(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.source=e,this.path=n,this.type=tn.LISTEN_COMPLETE}operationForChild(e){return _e(this.path)?new Ns(this.source,Ee()):new Ns(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tn.OVERWRITE}operationForChild(e){return _e(this.path)?new $r(this.source,Ee(),this.snap.getImmediateChild(e)):new $r(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tn.MERGE}operationForChild(e){if(_e(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new $r(this.source,Ee(),n.value):new As(this.source,Ee(),n)}else return $(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new As(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kD(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(_D(s.childName,s.snapshotNode))}),Ao(t,i,"child_removed",e,r,n),Ao(t,i,"child_added",e,r,n),Ao(t,i,"child_moved",o,r,n),Ao(t,i,"child_changed",e,r,n),Ao(t,i,"value",e,r,n),i}function Ao(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>ND(t,a,l)),s.forEach(a=>{const l=bD(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function bD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ND(t,e,n){if(e.childName==null||n.childName==null)throw Ki("Should only compare child_ events.");const r=new ge(e.childName,e.snapshotNode),i=new ge(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e){return{eventCache:t,serverCache:e}}function rs(t,e,n,r){return Bu(new Ur(e,n,r),t.serverCache)}function _S(t,e,n,r){return Bu(t.eventCache,new Ur(e,n,r))}function Qd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Vr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;const AD=()=>(Mc||(Mc=new Nt(fO)),Mc);class Fe{constructor(e,n=AD()){this.value=e,this.children=n}static fromObject(e){let n=new Fe(null);return Ot(e,(r,i)=>{n=n.set(new xe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(_e(e))return null;{const r=me(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Le(e),n);return o!=null?{path:Je(new xe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const n=me(e),r=this.children.get(n);return r!==null?r.subtree(Le(e)):new Fe(null)}}set(e,n){if(_e(e))return new Fe(n,this.children);{const r=me(e),o=(this.children.get(r)||new Fe(null)).set(Le(e),n),s=this.children.insert(r,o);return new Fe(this.value,s)}}remove(e){if(_e(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=me(e),r=this.children.get(n);if(r){const i=r.remove(Le(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Fe(null):new Fe(this.value,o)}else return this}}get(e){if(_e(e))return this.value;{const n=me(e),r=this.children.get(n);return r?r.get(Le(e)):null}}setTree(e,n){if(_e(e))return n;{const r=me(e),o=(this.children.get(r)||new Fe(null)).setTree(Le(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Fe(this.value,s)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(_e(e))return null;{const o=me(e),s=this.children.get(o);return s?s.findOnPath_(Le(e),Je(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,r){if(_e(e))return this;{this.value&&r(n,this.value);const i=me(e),o=this.children.get(i);return o?o.foreachOnPath_(Le(e),Je(n,i),r):new Fe(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new Fe(null))}}function is(t,e,n){if(_e(e))return new rn(new Fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=bt(i,e);return o=o.updateChild(s,n),new rn(t.writeTree_.set(i,o))}else{const i=new Fe(n),o=t.writeTree_.setTree(e,i);return new rn(o)}}}function S_(t,e,n){let r=t;return Ot(n,(i,o)=>{r=is(r,Je(e,i),o)}),r}function E_(t,e){if(_e(e))return rn.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new rn(n)}}function Xd(t,e){return Hr(t,e)!=null}function Hr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function C_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,i)=>{e.push(new ge(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ge(r,i.value))}),e}function tr(t,e){if(_e(e))return t;{const n=Hr(t,e);return n!=null?new rn(new Fe(n)):new rn(t.writeTree_.subtree(e))}}function Zd(t){return t.writeTree_.isEmpty()}function $i(t,e){return vS(Ee(),t.writeTree_,e)}function vS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?($(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=vS(Je(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){return ES(e,t)}function xD(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=is(t.visibleWrites,e,n)),t.lastWriteId=r}function PD(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function OD(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&DD(a,r.path)?i=!1:en(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return LD(t),!0;if(r.snap)t.visibleWrites=E_(t.visibleWrites,r.path);else{const a=r.children;Ot(a,l=>{t.visibleWrites=E_(t.visibleWrites,Je(r.path,l))})}return!0}else return!1}function DD(t,e){if(t.snap)return en(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&en(Je(t.path,n),e))return!0;return!1}function LD(t){t.visibleWrites=yS(t.allWrites,MD,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MD(t){return t.visible}function yS(t,e,n){let r=rn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)en(n,s)?(a=bt(n,s),r=is(r,a,o.snap)):en(s,n)&&(a=bt(s,n),r=is(r,Ee(),o.snap.getChild(a)));else if(o.children){if(en(n,s))a=bt(n,s),r=S_(r,a,o.children);else if(en(s,n))if(a=bt(s,n),_e(a))r=S_(r,Ee(),o.children);else{const l=Oi(o.children,me(a));if(l){const u=l.getChild(Le(a));r=is(r,Ee(),u)}}}else throw Ki("WriteRecord should have .snap or .children")}}return r}function wS(t,e,n,r,i){if(!r&&!i){const o=Hr(t.visibleWrites,e);if(o!=null)return o;{const s=tr(t.visibleWrites,e);if(Zd(s))return n;if(n==null&&!Xd(s,Ee()))return null;{const a=n||ie.EMPTY_NODE;return $i(s,a)}}}else{const o=tr(t.visibleWrites,e);if(!i&&Zd(o))return n;if(!i&&n==null&&!Xd(o,Ee()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(en(u.path,e)||en(e,u.path))},a=yS(t.allWrites,s,e),l=n||ie.EMPTY_NODE;return $i(a,l)}}}function FD(t,e,n){let r=ie.EMPTY_NODE;const i=Hr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(He,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=tr(t.visibleWrites,e);return n.forEachChild(He,(s,a)=>{const l=$i(tr(o,new xe(s)),a);r=r.updateImmediateChild(s,l)}),C_(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=tr(t.visibleWrites,e);return C_(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function $D(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Je(e,n);if(Xd(t.visibleWrites,o))return null;{const s=tr(t.visibleWrites,o);return Zd(s)?i.getChild(n):$i(s,i.getChild(n))}}function UD(t,e,n,r){const i=Je(e,n),o=Hr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=tr(t.visibleWrites,i);return $i(s,r.getNode().getImmediateChild(n))}else return null}function VD(t,e){return Hr(t.visibleWrites,e)}function BD(t,e,n,r,i,o,s){let a;const l=tr(t.visibleWrites,e),u=Hr(l,Ee());if(u!=null)a=u;else if(n!=null)a=$i(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let y=h.getNext();for(;y&&c.length<i;)d(y,r)!==0&&c.push(y),y=h.getNext();return c}else return[]}function zD(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Il(t,e,n,r){return wS(t.writeTree,t.treePath,e,n,r)}function pp(t,e){return FD(t.writeTree,t.treePath,e)}function T_(t,e,n,r){return $D(t.writeTree,t.treePath,e,n,r)}function kl(t,e){return VD(t.writeTree,Je(t.treePath,e))}function jD(t,e,n,r,i,o){return BD(t.writeTree,t.treePath,e,n,r,i,o)}function mp(t,e,n){return UD(t.writeTree,t.treePath,e,n)}function SS(t,e){return ES(Je(t.treePath,e),t.writeTree)}function ES(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ks(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Is(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Fi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ks(r,e.snapshotNode,i.oldSnap));else throw Ki("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const CS=new HD;class gp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ur(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vr(this.viewCache_),o=jD(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return{filter:t}}function KD(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function qD(t,e,n,r,i){const o=new WD;let s,a;if(n.type===tn.OVERWRITE){const u=n;u.source.fromUser?s=Jd(t,e,u.path,u.snap,r,i,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!_e(u.path),s=bl(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===tn.MERGE){const u=n;u.source.fromUser?s=QD(t,e,u.path,u.children,r,i,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=ef(t,e,u.path,u.children,r,i,a,o))}else if(n.type===tn.ACK_USER_WRITE){const u=n;u.revert?s=JD(t,e,u.path,r,i,o):s=XD(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===tn.LISTEN_COMPLETE)s=ZD(t,e,n.path,r,o);else throw Ki("Unknown operation type: "+n.type);const l=o.getChanges();return YD(e,s,l),{viewCache:s,changes:l}}function YD(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pS(Qd(e)))}}function TS(t,e,n,r,i,o){const s=e.eventCache;if(kl(r,n)!=null)return e;{let a,l;if(_e(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Vr(e),c=u instanceof ie?u:ie.EMPTY_NODE,d=pp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=Il(r,Vr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=me(n);if(u===".priority"){$(ar(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=T_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=Le(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=T_(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(u).updateChild(c,h):d=s.getNode().getImmediateChild(u)}else d=mp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return rs(e,a,s.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function bl(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(_e(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),y,null)}else{const y=me(n);if(!l.isCompleteForPath(n)&&ar(n)>1)return e;const _=Le(n),f=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?u=c.updatePriority(l.getNode(),f):u=c.updateChild(l.getNode(),y,f,_,CS,null)}const d=_S(e,u,l.isFullyInitialized()||_e(n),c.filtersNodes()),h=new gp(i,d,o);return TS(t,d,n,i,h,a)}function Jd(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new gp(i,e,o);if(_e(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=rs(e,u,!0,t.filter.filtersNodes());else{const d=me(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=rs(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Le(n),y=a.getNode().getImmediateChild(d);let _;if(_e(h))_=r;else{const T=c.getCompleteChild(d);T!=null?oS(h)===".priority"&&T.getChild(aS(h)).isEmpty()?_=T:_=T.updateChild(h,r):_=ie.EMPTY_NODE}if(y.equals(_))l=e;else{const T=t.filter.updateChild(a.getNode(),d,_,h,c,s);l=rs(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function R_(t,e){return t.eventCache.isCompleteForChild(e)}function QD(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Je(n,l);R_(e,me(c))&&(a=Jd(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Je(n,l);R_(e,me(c))||(a=Jd(t,a,c,u,i,o,s))}),a}function I_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ef(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;_e(n)?u=r:u=new Fe(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),_=I_(t,y,h);l=bl(t,l,new xe(d),_,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const y=!e.serverCache.isCompleteForChild(d)&&h.value===void 0;if(!c.hasChild(d)&&!y){const _=e.serverCache.getNode().getImmediateChild(d),T=I_(t,_,h);l=bl(t,l,new xe(d),T,i,o,s,a)}}),l}function XD(t,e,n,r,i,o,s){if(kl(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(_e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bl(t,e,n,l.getNode().getChild(n),i,o,a,s);if(_e(n)){let u=new Fe(null);return l.getNode().forEachChild(Ti,(c,d)=>{u=u.set(new xe(c),d)}),ef(t,e,n,u,i,o,a,s)}else return e}else{let u=new Fe(null);return r.foreach((c,d)=>{const h=Je(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),ef(t,e,n,u,i,o,a,s)}}function ZD(t,e,n,r,i){const o=e.serverCache,s=_S(e,o.getNode(),o.isFullyInitialized()||_e(n),o.isFiltered());return TS(t,s,n,r,CS,i)}function JD(t,e,n,r,i,o){let s;if(kl(r,n)!=null)return e;{const a=new gp(r,e,i),l=e.eventCache.getNode();let u;if(_e(n)||me(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Il(r,Vr(e));else{const d=e.serverCache.getNode();$(d instanceof ie,"serverChildren would be complete if leaf node"),c=pp(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=me(n);let d=mp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Le(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ie.EMPTY_NODE,Le(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Il(r,Vr(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||kl(r,Ee())!=null,rs(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new up(r.getIndex()),o=yD(r);this.processor_=GD(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(ie.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),c=new Ur(l,s.isFullyInitialized(),i.filtersNodes()),d=new Ur(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bu(d,c),this.eventGenerator_=new ID(this.query_)}get query(){return this.query_}}function tL(t){return t.viewCache_.serverCache.getNode()}function nL(t,e){const n=Vr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function k_(t){return t.eventRegistrations_.length===0}function rL(t,e){t.eventRegistrations_.push(e)}function b_(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function N_(t,e,n,r){e.type===tn.MERGE&&e.source.queryId!==null&&($(Vr(t.viewCache_),"We should always have a full cache before handling merges"),$(Qd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=qD(t.processor_,i,e,n,r);return KD(t.processor_,o.viewCache),$(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,RS(t,o.changes,o.viewCache.eventCache.getNode(),null)}function iL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(o,s)=>{r.push(Fi(o,s))}),n.isFullyInitialized()&&r.push(pS(n.getNode())),RS(t,r,n.getNode(),e)}function RS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return kD(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;class oL{constructor(){this.views=new Map}}function sL(t){$(!Nl,"__referenceConstructor has already been defined"),Nl=t}function aL(){return $(Nl,"Reference.ts has not been loaded"),Nl}function lL(t){return t.views.size===0}function _p(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return $(o!=null,"SyncTree gave us an op for an invalid query."),N_(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(N_(s,e,n,r));return o}}function uL(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Il(n,i?r:null),l=!1;a?l=!0:r instanceof ie?(a=pp(n,r),l=!1):(a=ie.EMPTY_NODE,l=!1);const u=Bu(new Ur(a,l,!1),new Ur(r,i,!1));return new eL(e,u)}return s}function cL(t,e,n,r,i,o){const s=uL(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),rL(s,n),iL(s,n)}function dL(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=lr(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(b_(u,n,r)),k_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(b_(l,n,r)),k_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!lr(t)&&o.push(new(aL())(e._repo,e._path)),{removed:o,events:s}}function IS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ri(t,e){let n=null;for(const r of t.views.values())n=n||nL(r,e);return n}function kS(t,e){if(e._queryParams.loadsAllData())return zu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function bS(t,e){return kS(t,e)!=null}function lr(t){return zu(t)!=null}function zu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al;function fL(t){$(!Al,"__referenceConstructor has already been defined"),Al=t}function hL(){return $(Al,"Reference.ts has not been loaded"),Al}let pL=1;class A_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=zD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NS(t,e,n,r,i){return xD(t.pendingWriteTree_,e,n,r,i),i?qs(t,new $r(gS(),e,n)):[]}function Cr(t,e,n=!1){const r=PD(t.pendingWriteTree_,e);if(OD(t.pendingWriteTree_,e)){let o=new Fe(null);return r.snap!=null?o=o.set(Ee(),!0):Ot(r.children,s=>{o=o.set(new xe(s),!0)}),qs(t,new Rl(r.path,o,n))}else return[]}function ju(t,e,n){return qs(t,new $r(dp(),e,n))}function mL(t,e,n){const r=Fe.fromObject(n);return qs(t,new As(dp(),e,r))}function gL(t,e){return qs(t,new Ns(dp(),e))}function _L(t,e,n){const r=yp(t,n);if(r){const i=wp(r),o=i.path,s=i.queryId,a=bt(o,e),l=new Ns(fp(s),a);return Sp(t,o,l)}else return[]}function tf(t,e,n,r){const i=e._path,o=t.syncPointTree_.get(i);let s=[];if(o&&(e._queryIdentifier==="default"||bS(o,e))){const a=dL(o,e,n,r);lL(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const l=a.removed;s=a.events;const u=l.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(i,(d,h)=>lr(h));if(u&&!c){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const h=wL(d);for(let y=0;y<h.length;++y){const _=h[y],T=_.query,f=PS(t,_);t.listenProvider_.startListening(os(T),xl(t,T),f.hashFn,f.onComplete)}}}!c&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(os(e),null):l.forEach(d=>{const h=t.queryToTagMap.get(Wu(d));t.listenProvider_.stopListening(os(d),h)})),SL(t,l)}return s}function vL(t,e,n,r){const i=yp(t,r);if(i!=null){const o=wp(i),s=o.path,a=o.queryId,l=bt(s,e),u=new $r(fp(a),l,n);return Sp(t,s,u)}else return[]}function yL(t,e,n,r){const i=yp(t,r);if(i){const o=wp(i),s=o.path,a=o.queryId,l=bt(s,e),u=Fe.fromObject(n),c=new As(fp(a),l,u);return Sp(t,s,c)}else return[]}function x_(t,e,n){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(d,h)=>{const y=bt(d,r);i=i||Ri(h,y),o=o||lr(h)});let s=t.syncPointTree_.get(r);s?(o=o||lr(s),i=i||Ri(s,Ee())):(s=new oL,t.syncPointTree_=t.syncPointTree_.set(r,s));let a;i!=null?a=!0:(a=!1,i=ie.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,y)=>{const _=Ri(y,Ee());_&&(i=i.updateImmediateChild(h,_))}));const l=bS(s,e);if(!l&&!e._queryParams.loadsAllData()){const d=Wu(e);$(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=EL();t.queryToTagMap.set(d,h),t.tagToQueryMap.set(h,d)}const u=hp(t.pendingWriteTree_,r);let c=cL(s,e,n,u,i,a);if(!l&&!o){const d=kS(s,e);c=c.concat(CL(t,e,d))}return c}function vp(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=bt(s,e),u=Ri(a,l);if(u)return u});return wS(i,e,o,n,!0)}function qs(t,e){return AS(e,t.syncPointTree_,null,hp(t.pendingWriteTree_,Ee()))}function AS(t,e,n,r){if(_e(t.path))return xS(t,e,n,r);{const i=e.get(Ee());n==null&&i!=null&&(n=Ri(i,Ee()));let o=[];const s=me(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=SS(r,s);o=o.concat(AS(a,l,u,c))}return i&&(o=o.concat(_p(i,t,r,n))),o}}function xS(t,e,n,r){const i=e.get(Ee());n==null&&i!=null&&(n=Ri(i,Ee()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=SS(r,s),c=t.operationForChild(s);c&&(o=o.concat(xS(c,a,l,u)))}),i&&(o=o.concat(_p(i,t,r,n))),o}function PS(t,e){const n=e.query,r=xl(t,n);return{hashFn:()=>(tL(e)||ie.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_L(t,n._path,r):gL(t,n._path);{const o=mO(i,n);return tf(t,n,null,o)}}}}function xl(t,e){const n=Wu(e);return t.queryToTagMap.get(n)}function Wu(t){return t._path.toString()+"$"+t._queryIdentifier}function yp(t,e){return t.tagToQueryMap.get(e)}function wp(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function Sp(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=hp(t.pendingWriteTree_,e);return _p(r,n,i,null)}function wL(t){return t.fold((e,n,r)=>{if(n&&lr(n))return[zu(n)];{let i=[];return n&&(i=IS(n)),Ot(r,(o,s)=>{i=i.concat(s)}),i}})}function os(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hL())(t._repo,t._path):t}function SL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Wu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function EL(){return pL++}function CL(t,e,n){const r=e._path,i=xl(t,e),o=PS(t,n),s=t.listenProvider_.startListening(os(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)$(!lr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!_e(u)&&c&&lr(c))return[zu(c).query];{let h=[];return c&&(h=h.concat(IS(c).map(y=>y.query))),Ot(d,(y,_)=>{h=h.concat(_)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(os(c),xl(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ep(n)}node(){return this.node_}}class Cp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new Cp(this.syncTree_,n)}node(){return vp(this.syncTree_,this.path_)}}const TL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},P_=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return RL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return IL(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},RL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},IL=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},kL=function(t,e,n,r){return Tp(e,new Cp(n,t),r)},OS=function(t,e,n){return Tp(t,new Ep(e),n)};function Tp(t,e,n){const r=t.getPriority().val(),i=P_(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=P_(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new rt(a,ft(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new rt(i))),s.forEachChild(He,(a,l)=>{const u=Tp(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ip(t,e){let n=e instanceof xe?e:new xe(e),r=t,i=me(n);for(;i!==null;){const o=Oi(r.node.children,i)||{children:{},childCount:0};r=new Rp(i,r,o),n=Le(n),i=me(n)}return r}function eo(t){return t.node.value}function DS(t,e){t.node.value=e,nf(t)}function LS(t){return t.node.childCount>0}function bL(t){return eo(t)===void 0&&!LS(t)}function Hu(t,e){Ot(t.node.children,(n,r)=>{e(new Rp(n,t,r))})}function MS(t,e,n,r){n&&!r&&e(t),Hu(t,i=>{MS(i,e,!0,r)}),n&&r&&e(t)}function NL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ys(t){return new xe(t.parent===null?t.name:Ys(t.parent)+"/"+t.name)}function nf(t){t.parent!==null&&AL(t.parent,t.name,t)}function AL(t,e,n){const r=bL(n),i=Pn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,nf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,nf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/[\[\].#$\/\u0000-\u001F\u007F]/,PL=/[\[\].#$\u0000-\u001F\u007F]/,Fc=10*1024*1024,FS=function(t){return typeof t=="string"&&t.length!==0&&!xL.test(t)},$S=function(t){return typeof t=="string"&&t.length!==0&&!PL.test(t)},OL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$S(t)},DL=function(t,e,n,r){r&&e===void 0||kp(Bh(t,"value"),e,n)},kp=function(t,e,n){const r=n instanceof xe?new QO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+mr(r));if(typeof e=="function")throw new Error(t+"contains a function "+mr(r)+" with contents = "+e.toString());if(Vw(e))throw new Error(t+"contains "+e.toString()+" "+mr(r));if(typeof e=="string"&&e.length>Fc/3&&Lu(e)>Fc)throw new Error(t+"contains a string greater than "+Fc+" utf8 bytes "+mr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ot(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!FS(s)))throw new Error(t+" contains an invalid key ("+s+") "+mr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XO(r,s),kp(t,a,r),ZO(r)}),i&&o)throw new Error(t+' contains ".value" child '+mr(r)+" in addition to actual children.")}},US=function(t,e,n,r){if(!(r&&n===void 0)&&!$S(n))throw new Error(Bh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),US(t,e,n,r)},VS=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ML=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!FS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OL(n))throw new Error(Bh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!sp(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function BS(t,e,n){bp(t,n),zS(t,r=>sp(r,e))}function An(t,e,n){bp(t,n),zS(t,r=>en(r,e)||en(e,r))}function zS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?($L(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $L(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ir&&gt("event: "+n.toString()),Ji(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="repo_interrupt",VL=25;class BL{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tl(),this.transactionQueueTree_=new Rp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zL(t,e,n){if(t.stats_=rp(t.repoInfo_),t.forceRestClient_||yO())t.server_=new Cl(t.repoInfo_,(r,i,o,s)=>{O_(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>D_(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new In(t.repoInfo_,e,(r,i,o,s)=>{O_(t,r,i,o,s)},r=>{D_(t,r)},r=>{WL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IO(t.repoInfo_,()=>new RD(t.stats_,t.server_)),t.infoData_=new wD,t.infoSyncTree_=new A_({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ju(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ap(t,"connected",!1),t.serverSyncTree_=new A_({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);An(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function jL(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Np(t){return TL({timestamp:jL(t)})}function O_(t,e,n,r,i){t.dataUpdateCount++;const o=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=hl(n,u=>ft(u));s=yL(t.serverSyncTree_,o,l,i)}else{const l=ft(n);s=vL(t.serverSyncTree_,o,l,i)}else if(r){const l=hl(n,u=>ft(u));s=mL(t.serverSyncTree_,o,l)}else{const l=ft(n);s=ju(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Gu(t,o)),An(t.eventQueue_,a,s)}function D_(t,e){Ap(t,"connected",e),e===!1&&GL(t)}function WL(t,e){Ot(e,(n,r)=>{Ap(t,n,r)})}function Ap(t,e,n){const r=new xe("/.info/"+e),i=ft(n);t.infoData_.updateSnapshot(r,i);const o=ju(t.infoSyncTree_,r,i);An(t.eventQueue_,r,o)}function jS(t){return t.nextWriteId_++}function HL(t,e,n,r,i){xp(t,"set",{path:e.toString(),value:n,priority:r});const o=Np(t),s=ft(n,r),a=vp(t.serverSyncTree_,e),l=OS(s,a,o),u=jS(t),c=NS(t.serverSyncTree_,e,l,u,!0);bp(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(h,y)=>{const _=h==="ok";_||Pt("set at "+e+" failed: "+h);const T=Cr(t.serverSyncTree_,u,!_);An(t.eventQueue_,e,T),YL(t,i,h,y)});const d=qS(t,e);Gu(t,d),An(t.eventQueue_,d,[])}function GL(t){xp(t,"onDisconnectEvents");const e=Np(t),n=Tl();Yd(t.onDisconnect_,Ee(),(i,o)=>{const s=kL(i,o,t.serverSyncTree_,e);mS(n,i,s)});let r=[];Yd(n,Ee(),(i,o)=>{r=r.concat(ju(t.serverSyncTree_,i,o));const s=qS(t,i);Gu(t,s)}),t.onDisconnect_=Tl(),An(t.eventQueue_,Ee(),r)}function KL(t,e,n){let r;me(e._path)===".info"?r=x_(t.infoSyncTree_,e,n):r=x_(t.serverSyncTree_,e,n),BS(t.eventQueue_,e._path,r)}function L_(t,e,n){let r;me(e._path)===".info"?r=tf(t.infoSyncTree_,e,n):r=tf(t.serverSyncTree_,e,n),BS(t.eventQueue_,e._path,r)}function qL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UL)}function xp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function YL(t,e,n,r){e&&Ji(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function WS(t,e,n){return vp(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function Pp(t,e=t.transactionQueueTree_){if(e||Ku(t,e),eo(e)){const n=GS(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&QL(t,Ys(e),n)}else LS(e)&&Hu(e,n=>{Pp(t,n)})}function QL(t,e,n){const r=n.map(u=>u.currentWriteId),i=WS(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=bt(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{xp(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Cr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ku(t,Ip(t.transactionQueueTree_,e)),Pp(t,t.transactionQueueTree_),An(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Ji(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Gu(t,e)}},s)}function Gu(t,e){const n=HS(t,e),r=Ys(n),i=GS(t,n);return XL(t,i,r),r}function XL(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=bt(n,l.path);let c=!1,d;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Cr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=VL)c=!0,d="maxretry",i=i.concat(Cr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=WS(t,l.path,s);l.currentInputSnapshot=h;const y=e[a].update(h.val());if(y!==void 0){kp("transaction failed: Data returned ",y,l.path);let _=ft(y);typeof y=="object"&&y!=null&&Pn(y,".priority")||(_=_.updatePriority(h.getPriority()));const f=l.currentWriteId,p=Np(t),m=OS(_,h,p);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=m,l.currentWriteId=jS(t),s.splice(s.indexOf(f),1),i=i.concat(NS(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Cr(t.serverSyncTree_,f,!0))}else c=!0,d="nodata",i=i.concat(Cr(t.serverSyncTree_,l.currentWriteId,!0))}An(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ku(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ji(r[a]);Pp(t,t.transactionQueueTree_)}function HS(t,e){let n,r=t.transactionQueueTree_;for(n=me(e);n!==null&&eo(r)===void 0;)r=Ip(r,n),e=Le(e),n=me(e);return r}function GS(t,e){const n=[];return KS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function KS(t,e,n){const r=eo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hu(e,i=>{KS(t,i,n)})}function Ku(t,e){const n=eo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DS(e,n.length>0?n:void 0)}Hu(e,r=>{Ku(t,r)})}function qS(t,e){const n=Ys(HS(t,e)),r=Ip(t.transactionQueueTree_,e);return NL(r,i=>{$c(t,i)}),$c(t,r),MS(r,i=>{$c(t,i)}),n}function $c(t,e){const n=eo(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?($(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):($(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Cr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?DS(e,void 0):n.length=o+1,An(t.eventQueue_,Ys(e),i);for(let s=0;s<r.length;s++)Ji(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function JL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const M_=function(t,e){const n=eM(t),r=n.namespace;n.domain==="firebase.com"&&Mr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cO();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new CO(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new xe(n.pathString)}},eM=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=ZL(t.substring(c,d)));const h=JL(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ot(this.snapshot.exportVal())}}class QS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return _e(this._path)?null:oS(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const e=y_(this._queryParams),n=tp(e);return n==="{}"?"default":n}get _queryObject(){return y_(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof Op))return!1;const n=this._repo===e._repo,r=sp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YO(this._path)}}class On extends Op{constructor(e,n){super(e,n,new cp,!1)}get parent(){const e=aS(this._path);return e===null?null:new On(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),r=Pl(this.ref,e);return new xs(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new xs(i,Pl(this.ref,r),He)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gr(t,e){return t=dr(t),t._checkNotDeleted("ref"),e!==void 0?Pl(t._root,e):t._root}function Pl(t,e){return t=dr(t),me(t._path)===null?LL("child","path",e,!1):US("child","path",e,!1),new On(t._repo,Je(t._path,e))}function nM(t){return VS("remove",t._path),Qs(t,null)}function Qs(t,e){t=dr(t),VS("set",t._path),DL("set",e,t._path,!1);const n=new Du;return HL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Dp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new YS("value",this,new xs(e.snapshotNode,new On(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new QS(this,e,n):null}matches(e){return e instanceof Dp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Lp{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new QS(this,e,n):null}createEvent(e,n){$(e.childName!=null,"Child events should have a childName.");const r=Pl(new On(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new YS(e.type,this,new xs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Lp?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function rM(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{L_(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new tM(n,o||void 0),a=e==="value"?new Dp(s):new Lp(e,s);return KL(t._repo,t,a),()=>L_(t._repo,t,a)}function XS(t,e,n,r){return rM(t,"value",e,n,r)}sL(On);fL(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="FIREBASE_DATABASE_EMULATOR_HOST",rf={};let oM=!1;function sM(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=M_(o,i),a=s.repoInfo,l,u;typeof process!="undefined"&&(u=process.env[iM]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=M_(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Gd(Gd.OWNER):new SO(t.name,t.options,e);ML("Invalid Firebase Database URL",s),_e(s.path)||Mr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=lM(a,t,c,new wO(t.name,n));return new uM(d,t)}function aM(t,e){const n=rf[e];(!n||n[t.key]!==t)&&Mr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qL(t),delete n[t.key]}function lM(t,e,n,r){let i=rf[e.name];i||(i={},rf[e.name]=i);let o=i[t.toURLString()];return o&&Mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BL(t,oM,n,r),i[t.toURLString()]=o,o}class uM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mr("Cannot call "+e+" on a deleted database.")}}function cM(t=ow(),e){return Wh(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){oO(Bs),Di(new Or("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return sM(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),er(n_,r_,t),er(n_,r_,"esm2017")}In.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};In.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dM();const fM=new vn,hM={apiKey:"AIzaSyA4s7hwizpOZ5IvEYM4mhRhujcfHcSXZC4",authDomain:"pixel-app-26bde.firebaseapp.com",databaseURL:"https://pixel-app-26bde-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pixel-app-26bde",storageBucket:"pixel-app-26bde.appspot.com",messagingSenderId:"884972653162",appId:"1:884972653162:web:9a56d881f2837e22809813"},pM=sx(hM);function Mp(){const[t,e]=Z.exports.useState(void 0);return Z.exports.useEffect(()=>ep().onAuthStateChanged(e),[]),{user:t,loginStatusKnown:t!==void 0}}function mM(){const t=ep();yP(t,fM)}function gM(){ep().signOut()}const Kr=cM(pM),_M=Gr(Kr,"cursors"),vM=Gr(Kr,"artboards");function ZS(t){return Fp()[t]}function yM(t,e){const n=Gr(Kr,`cursors/${e.uid}`);Qs(n,Ge({name:e.displayName,id:e.uid,lastSeen:Date.now()},t))}function wM(){const[t,e]=Z.exports.useState({});return Z.exports.useEffect(()=>{return XS(_M,n);function n(r){const i=r.val();e(i!=null?i:{})}},[]),t}function Fp(){const[t,e]=Z.exports.useState({});return Z.exports.useEffect(()=>{return XS(vM,n);function n(r){const i=r.val();e(i!=null?i:{})}},[]),t}function SM(t){nM(Gr(Kr,"artboards/"+t))}function JS(t){Qs(Gr(Kr,"artboards/"+t.id),t)}function F_(t,e){Qs(Gr(Kr,`artboards/${t}/position`),e)}function $_(t,e){Qs(Gr(Kr,`artboards/${t}/imageData`),e)}function EM(){const t=wM(),{user:e}=Mp();return Z.exports.useEffect(()=>{!e||window.addEventListener("mousemove",n=>{yM({x:n.pageX,y:n.pageY},e)})},[e]),se(Ou,{children:Object.entries(t).filter(([n,{id:r,lastSeen:i}])=>r!==(e==null?void 0:e.uid)&&Date.now()-i<5e3).map(([n,r])=>se(tA,{position:r,name:r.name},n))})}function CM(){return kt(RM,{children:[se("h1",{children:"pixel app"}),se(TM,{onClick:mM,children:"Log In With Google"})]})}const TM=qe.button`
  background-color: #4285f4;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  user-select: none;
  cursor: pointer;
`,RM=qe.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  color: #242422;
  height: 100%;
  width: 100%;
`;let eE=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=n[t]&63;r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r<63?e+="_":e+="-"}return e};const li=qe.button`
  background-color: #353540;
  color: #fdfbfb;
  border: none;
  padding: 4px 8px;
  height: 24px;
  border-radius: 4px;
  cursor: pointer;
`,of=qe.input`
  width: 50px;
  height: 24px;
`;function IM({add:t}){const[e,n]=Z.exports.useState(32),[r,i]=Z.exports.useState(32);return kt(kM,{children:[se(of,{type:"number",value:e,onChange:o=>n(Number(o.target.value))}),se(of,{type:"number",value:r,onChange:o=>i(Number(o.target.value))}),se(li,{onClick:()=>t(e,r),children:"Add artboard"})]})}const kM=qe.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  justify-content: space-between;
`;var kr=(t=>(t[t.Pencil=0]="Pencil",t[t.Rectangle=1]="Rectangle",t[t.RectangleOutline=2]="RectangleOutline",t))(kr||{});const bM=uu({key:"currentArtboard",default:null});function $p(){return cu(bM)}const NM=uu({key:"currentColor",default:"#000000"});function tE(){return cu(NM)}const AM=uu({key:"currentTool",default:0});function nE(){return cu(AM)}const xM=uu({key:"scale",default:8});function Up(){return cu(xM)}function PM(t){const e=ZS(t);return e==null?void 0:e.imageData}function OM(t){const e=ZS(t);return e==null?void 0:e.position}const DM=["#cb8175","#e2a97e","#f0cf8e","#f6edcd","#a8c8a6","#6d8d8a","#655057","#000000"];function LM(){const[t,e]=tE();return se(MM,{children:DM.map(n=>se(FM,{color:n,selected:n===t,onClick:()=>e(n)},n))})}const MM=qe.div`
  display: flex;
  flex-direction: row;
`,FM=qe.div`
  width: 25px;
  height: 25px;
  border: 2px solid ${t=>t.selected?"black":t.color};
  background-color: ${t=>t.color};
`,$o=qe.div`
  border-bottom: 1px solid #e0e0e0;
  width: 100%;
`;function $M(){const[,t]=nE(),[e,n]=Up(),[r]=$p(),{user:i}=Mp();return i?kt(BM,{children:[se(Uo,{children:se(IM,{add:VM})}),se($o,{}),se(Uo,{children:kt(zM,{children:["scale"," ",se(of,{type:"number",value:e,onChange:o=>n(Number(o.target.value))})]})}),se($o,{}),se(Uo,{children:se(LM,{})}),se($o,{}),kt(Uo,{children:[se(li,{onClick:()=>t(kr.Pencil),children:"pencil"}),se(li,{onClick:()=>t(kr.Rectangle),children:"rectangle fill"}),se(li,{onClick:()=>t(kr.RectangleOutline),children:"rectangle outline"})]}),r&&se(UM,{}),se(jM,{}),se($o,{}),kt(HM,{children:[kt(GM,{children:[se(WM,{referrerPolicy:"no-referrer",width:50,height:50,src:i.photoURL,alt:"user"}),kt("div",{children:["Logged in as",se("br",{}),se("strong",{children:i.displayName})]})]}),se(li,{onClick:gM,children:"Log Out"})]})]}):null}function UM(){const[t,e]=$p(),n=Fp(),r=n==null?void 0:n[t];return kt(Ou,{children:[se($o,{}),kt(Uo,{children:[se(KM,{children:r==null?void 0:r.name}),se(li,{onClick:i,children:"delete board"})]})]});function i(){SM(r.id),e(null)}}function VM(t,e){JS({id:eE(),name:"artboard",width:t,height:e,position:{x:0,y:0}})}const BM=qe.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 250px;
  background-color: white;
  box-sizing: border-box;
  height: 100%;
`,zM=qe.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  justify-content: space-between;
`,jM=qe.div`
  display: flex;
  flex: 1;
`,WM=qe.img`
  width: 50px;
  height: 50px;
  border-radius: 5px;
`,HM=qe.div`
  display: flex;
  flex-direction: column;
  margin: 16px;
  gap: 16px;
`,GM=qe.section`
  display: flex;
  gap: 16px;
  width: 100%;
  align-items: center;
`,Uo=qe.section`
  display: flex;
  flex-direction: column;
  margin: 16px;
  gap: 16px;
`,KM=qe.h3`
  margin-bottom: 0;
  margin-top: 0;
`;var rE={exports:{}},qM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YM=qM,QM=YM;function iE(){}function oE(){}oE.resetWarningCache=iE;var XM=function(){function t(r,i,o,s,a,l){if(l!==QM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oE,resetWarningCache:iE};return n.PropTypes=n,n};rE.exports=XM();var Oe=rE.exports,ZM=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Xs(t,e){var n=JM(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function JM(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=ZM.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var eF=[".DS_Store","Thumbs.db"];function tF(t){return Qi(this,void 0,void 0,function(){return Xi(this,function(e){return Ol(t)&&nF(t)?[2,sF(t.dataTransfer,t.type)]:rF(t)?[2,iF(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,oF(t)]:[2,[]]})})}function nF(t){return Ol(t.dataTransfer)}function rF(t){return Ol(t)&&Ol(t.target)}function Ol(t){return typeof t=="object"&&t!==null}function iF(t){return sf(t.target.files).map(function(e){return Xs(e)})}function oF(t){return Qi(this,void 0,void 0,function(){var e;return Xi(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Xs(r)})]}})})}function sF(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Xi(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=sf(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(aF))]):[3,2];case 1:return r=i.sent(),[2,U_(sE(r))];case 2:return[2,U_(sf(t.files).map(function(o){return Xs(o)}))]}})})}function U_(t){return t.filter(function(e){return eF.indexOf(e.name)===-1})}function sf(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function aF(t){if(typeof t.webkitGetAsEntry!="function")return V_(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?aE(e):V_(t)}function sE(t){return t.reduce(function(e,n){return yx(e,Array.isArray(n)?sE(n):[n])},[])}function V_(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Xs(e);return Promise.resolve(n)}function lF(t){return Qi(this,void 0,void 0,function(){return Xi(this,function(e){return[2,t.isDirectory?aE(t):uF(t)]})})}function aE(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(a){return Qi(s,void 0,void 0,function(){var l,u,c;return Xi(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),n(l),[3,4];case 3:return u=d.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(lF)),i.push(c),o(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function uF(t){return Qi(this,void 0,void 0,function(){return Xi(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=Xs(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var cF=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){lE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_(t,e){return pF(t)||hF(t,e)||fF(t,e)||dF()}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(t,e){if(!!t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hF(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function pF(t){if(Array.isArray(t))return t}var mF="file-invalid-type",gF="file-too-large",_F="file-too-small",vF="too-many-files",yF=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:mF,message:"File type must be ".concat(n)}},H_=function(e){return{code:gF,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},G_=function(e){return{code:_F,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},wF={code:vF,message:"Too many files"};function uE(t,e){var n=t.type==="application/x-moz-file"||cF(t,e);return[n,n?null:yF(e)]}function cE(t,e,n){if(xo(t.size))if(xo(e)&&xo(n)){if(t.size>n)return[!1,H_(n)];if(t.size<e)return[!1,G_(e)]}else{if(xo(e)&&t.size<e)return[!1,G_(e)];if(xo(n)&&t.size>n)return[!1,H_(n)]}return[!0,null]}function xo(t){return t!=null}function SF(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var l=uE(a,n),u=j_(l,1),c=u[0],d=cE(a,r,i),h=j_(d,1),y=h[0];return c&&y})}function Dl(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble!="undefined"?t.cancelBubble:!1}function ya(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function K_(t){t.preventDefault()}function EF(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function CF(t){return t.indexOf("Edge/")!==-1}function TF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return EF(t)||CF(t)}function sn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!Dl(r)&&a&&a.apply(void 0,[r].concat(o)),Dl(r)})}}function q_(){return"showOpenFilePicker"in window}function RF(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return z_(z_({},e),{},lE({},n,[]))},{}):{}}]}var IF=["children"],kF=["open"],bF=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],NF=["refKey","onChange","onClick"];function AF(t){return OF(t)||PF(t)||dE(t)||xF()}function xF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OF(t){if(Array.isArray(t))return af(t)}function Uc(t,e){return MF(t)||LF(t,e)||dE(t,e)||DF()}function DF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dE(t,e){if(!!t){if(typeof t=="string")return af(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(t,e)}}function af(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LF(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function MF(t){if(Array.isArray(t))return t}function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(r){lf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ll(t,e){if(t==null)return{};var n=FF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function FF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Vp=Z.exports.forwardRef(function(t,e){var n=t.children,r=Ll(t,IF),i=hE(r),o=i.open,s=Ll(i,kF);return Z.exports.useImperativeHandle(e,function(){return{open:o}},[o]),se(Ou,{children:n(ze(ze({},s),{},{open:o}))})});Vp.displayName="Dropzone";var fE={disabled:!1,getFilesFromEvent:tF,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1};Vp.defaultProps=fE;Vp.propTypes={children:Oe.func,accept:Oe.oneOfType([Oe.string,Oe.arrayOf(Oe.string)]),multiple:Oe.bool,preventDropOnDocument:Oe.bool,noClick:Oe.bool,noKeyboard:Oe.bool,noDrag:Oe.bool,noDragEventsBubbling:Oe.bool,minSize:Oe.number,maxSize:Oe.number,maxFiles:Oe.number,disabled:Oe.bool,getFilesFromEvent:Oe.func,onFileDialogCancel:Oe.func,onFileDialogOpen:Oe.func,useFsAccessApi:Oe.bool,onDragEnter:Oe.func,onDragLeave:Oe.func,onDragOver:Oe.func,onDrop:Oe.func,onDropAccepted:Oe.func,onDropRejected:Oe.func,validator:Oe.func};var uf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function hE(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ze(ze({},fE),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,h=e.onDrop,y=e.onDropAccepted,_=e.onDropRejected,T=e.onFileDialogCancel,f=e.onFileDialogOpen,p=e.useFsAccessApi,m=e.preventDropOnDocument,v=e.noClick,S=e.noKeyboard,A=e.noDrag,b=e.noDragEventsBubbling,V=e.validator,U=Z.exports.useMemo(function(){return typeof f=="function"?f:Q_},[f]),M=Z.exports.useMemo(function(){return typeof T=="function"?T:Q_},[T]),J=Z.exports.useRef(null),we=Z.exports.useRef(null),le=Z.exports.useReducer($F,uf),X=Uc(le,2),Ce=X[0],ee=X[1],Be=Ce.isFocused,ye=Ce.isFileDialogActive,Te=Ce.draggedFiles,Xe=function(){ye&&setTimeout(function(){if(we.current){var Q=we.current.files;Q.length||(ee({type:"closeDialog"}),M())}},300)};Z.exports.useEffect(function(){return p&&q_()?function(){}:(window.addEventListener("focus",Xe,!1),function(){window.removeEventListener("focus",Xe,!1)})},[we,ye,M,p]);var be=Z.exports.useRef([]),D=function(Q){J.current&&J.current.contains(Q.target)||(Q.preventDefault(),be.current=[])};Z.exports.useEffect(function(){return m&&(document.addEventListener("dragover",K_,!1),document.addEventListener("drop",D,!1)),function(){m&&(document.removeEventListener("dragover",K_),document.removeEventListener("drop",D))}},[J,m]);var R=Z.exports.useCallback(function(z){z.preventDefault(),z.persist(),K(z),be.current=[].concat(AF(be.current),[z.target]),ya(z)&&Promise.resolve(i(z)).then(function(Q){Dl(z)&&!b||(ee({draggedFiles:Q,isDragActive:!0,type:"setDraggedFiles"}),u&&u(z))})},[i,u,b]),k=Z.exports.useCallback(function(z){z.preventDefault(),z.persist(),K(z);var Q=ya(z);if(Q&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return Q&&d&&d(z),!1},[d,b]),O=Z.exports.useCallback(function(z){z.preventDefault(),z.persist(),K(z);var Q=be.current.filter(function(fe){return J.current&&J.current.contains(fe)}),G=Q.indexOf(z.target);G!==-1&&Q.splice(G,1),be.current=Q,!(Q.length>0)&&(ee({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),ya(z)&&c&&c(z))},[J,c,b]),H=Z.exports.useCallback(function(z,Q){var G=[],fe=[];z.forEach(function(lt){var qt=uE(lt,n),ut=Uc(qt,2),to=ut[0],no=ut[1],ro=cE(lt,s,o),fr=Uc(ro,2),io=fr[0],oo=fr[1],C=V?V(lt):null;if(to&&io&&!C)G.push(lt);else{var w=[no,oo];C&&(w=w.concat(C)),fe.push({file:lt,errors:w.filter(function(P){return P})})}}),(!a&&G.length>1||a&&l>=1&&G.length>l)&&(G.forEach(function(lt){fe.push({file:lt,errors:[wF]})}),G.splice(0)),ee({acceptedFiles:G,fileRejections:fe,type:"setFiles"}),h&&h(G,fe,Q),fe.length>0&&_&&_(fe,Q),G.length>0&&y&&y(G,Q)},[ee,a,n,s,o,l,h,y,_,V]),g=Z.exports.useCallback(function(z){z.preventDefault(),z.persist(),K(z),be.current=[],ya(z)&&Promise.resolve(i(z)).then(function(Q){Dl(z)&&!b||H(Q,z)}),ee({type:"reset"})},[i,H,b]),I=Z.exports.useCallback(function(){if(p&&q_()){ee({type:"openDialog"}),U();var z={multiple:a,types:RF(n)};window.showOpenFilePicker(z).then(function(Q){return i(Q)}).then(function(Q){return H(Q,null)}).catch(function(Q){return M(Q)}).finally(function(){return ee({type:"closeDialog"})});return}we.current&&(ee({type:"openDialog"}),U(),we.current.value=null,we.current.click())},[ee,U,M,p,H,n,a]),E=Z.exports.useCallback(function(z){!J.current||!J.current.isEqualNode(z.target)||(z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),I())},[J,we,I]),F=Z.exports.useCallback(function(){ee({type:"focus"})},[]),N=Z.exports.useCallback(function(){ee({type:"blur"})},[]),x=Z.exports.useCallback(function(){v||(TF()?setTimeout(I,0):I())},[we,v,I]),B=function(Q){return r?null:Q},de=function(Q){return S?null:B(Q)},he=function(Q){return A?null:B(Q)},K=function(Q){b&&Q.stopPropagation()},ce=Z.exports.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=z.refKey,G=Q===void 0?"ref":Q,fe=z.role,lt=z.onKeyDown,qt=z.onFocus,ut=z.onBlur,to=z.onClick,no=z.onDragEnter,ro=z.onDragOver,fr=z.onDragLeave,io=z.onDrop,oo=Ll(z,bF);return ze(ze(lf({onKeyDown:de(sn(lt,E)),onFocus:de(sn(qt,F)),onBlur:de(sn(ut,N)),onClick:B(sn(to,x)),onDragEnter:he(sn(no,R)),onDragOver:he(sn(ro,k)),onDragLeave:he(sn(fr,O)),onDrop:he(sn(io,g)),role:typeof fe=="string"&&fe!==""?fe:"button"},G,J),!r&&!S?{tabIndex:0}:{}),oo)}},[J,E,F,N,x,R,k,O,g,S,A,r]),te=Z.exports.useCallback(function(z){z.stopPropagation()},[]),Re=Z.exports.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=z.refKey,G=Q===void 0?"ref":Q,fe=z.onChange,lt=z.onClick,qt=Ll(z,NF),ut=lf({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:B(sn(fe,g)),onClick:B(sn(lt,te)),autoComplete:"off",tabIndex:-1},G,we);return ze(ze({},ut),qt)}},[we,n,a,g,r]),pt=Te.length,Pe=pt>0&&SF({files:Te,accept:n,minSize:s,maxSize:o,multiple:a,maxFiles:l}),Kt=pt>0&&!Pe;return ze(ze({},Ce),{},{isDragAccept:Pe,isDragReject:Kt,isFocused:Be&&!r,getRootProps:ce,getInputProps:Re,rootRef:J,inputRef:we,open:B(I)})}function $F(t,e){switch(e.type){case"focus":return ze(ze({},t),{},{isFocused:!0});case"blur":return ze(ze({},t),{},{isFocused:!1});case"openDialog":return ze(ze({},uf),{},{isFileDialogActive:!0});case"closeDialog":return ze(ze({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return ze(ze({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return ze(ze({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return ze({},uf);default:return t}}function Q_(){}function UF(){const t=Z.exports.useCallback(i=>{const o=i[0],s=new FileReader;s.readAsDataURL(o),s.onload=()=>{const a=new Image,l=s.result;a.src=l,a.onload=()=>{JS({id:eE(),name:o.name,width:a.width,height:a.height,imageData:l,position:{x:100,y:100}})}}},[]),{getRootProps:e,getInputProps:n,isDragActive:r}=hE({onDrop:t,noClick:!0});return{getRootProps:e,getInputProps:n,isDragActive:r}}function VF(t,e){const n=Z.exports.useRef(null),r=Z.exports.useRef(null);return Z.exports.useEffect(()=>{r.current&&(r.current.style.transform=`translate(${e.x}px, ${e.y}px)`)},[e]),Z.exports.useEffect(()=>{const i=r.current,o=n.current;if(!i||!o)return;const s={x:e.x,y:e.y};let a,l;function u(h){const{pageX:y,pageY:_}=h,T=y-a+s.x,f=_-l+s.y;F_(t,{x:T,y:f})}function c(h){s.x+=h.pageX-a,s.y+=h.pageY-l,window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",c)}function d(h){a=h.pageX,l=h.pageY,window.addEventListener("mousemove",u),window.addEventListener("mouseup",c)}return o.addEventListener("mousedown",d),()=>{o.removeEventListener("mousedown",d),window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",u)}},[Boolean(e)]),[n,r,e,F_]}function BF(t){const e=PM(t),[n,r]=zF(),[i,o]=Z.exports.useState(!1),[s]=tE(),[a]=Up(),[l]=nE(),[u,c]=Z.exports.useState(null),d=n.current;jF({canvas:d,onMouseDown:y,onMouseUp:h,onMouseMove:_}),Z.exports.useEffect(()=>{if(r&&e){const f=new Image;f.src=e,f.onload=()=>{r.drawImage(f,0,0)}}},[r,e]);function h(f){if(!!i){if(o(!1),l===kr.Rectangle){const{x:p,y:m}=T(f);r.fillStyle=s,r.fillRect(u.x,u.y,p-u.x+1,m-u.y+1)}else if(l===kr.RectangleOutline){const{x:p,y:m}=T(f);r.lineWidth=1,r.strokeStyle=s,r.strokeRect(u.x-.5,u.y-.5,p-u.x+1,m-u.y+1)}$_(t,d==null?void 0:d.toDataURL())}}function y(f){o(!0),c(T(f)),_(f)}function _(f){if(!(!i||!r)){if(l===kr.Pencil){const{x:p,y:m}=T(f);r.fillStyle=s,r.fillRect(p,m,1,1)}$_(t,d==null?void 0:d.toDataURL())}}function T(f){const p=f.target.getBoundingClientRect(),m=a/2,v=Math.round((f.clientX-p.left-m)/a),S=Math.round((f.clientY-p.top-m)/a);return{x:v,y:S}}return n}function zF(){const t=Z.exports.useRef(null),[e,n]=Z.exports.useState();return Z.exports.useEffect(()=>{const r=t.current.getContext("2d");n(r)},[]),[t,e]}function jF({canvas:t,onMouseUp:e,onMouseDown:n,onMouseMove:r}){Z.exports.useEffect(()=>{if(!!t)return t.addEventListener("mousemove",r),t.addEventListener("mousedown",n),document.addEventListener("mouseup",e),()=>{t.removeEventListener("mousemove",r),t.removeEventListener("mousedown",n),document.removeEventListener("mouseup",e)}},[t,r,n,e])}function WF(){const t=Fp();return se(Ou,{children:Object.values(t).map(e=>se(HF,Ge({},e),e.id))})}function HF({name:t,width:e,height:n,id:r}){const i=OM(r),[o,s]=VF(r,i),[,a]=$p();return i?kt(YF,{onMouseDown:()=>a(r),ref:s,children:[kt(qF,{ref:o,children:[t," (",e,"x",n,")"]}),se(GF,{artboardId:r,height:n,width:e})]}):null}const GF=Ze.memo(function({artboardId:e,height:n,width:r}){const i=BF(e),[o]=Up();return se(KF,{style:{height:n*o,width:r*o},ref:i,height:n,width:r})}),KF=qe.canvas`
  background-color: white;
  cursor: crosshair;
`,qF=qe.div`
  cursor: move;
  user-select: none;
`,YF=qe.div`
  position: absolute;
  top: 16px;
  left: 400px;
`;function QF(){const{getRootProps:t,getInputProps:e,isDragActive:n}=UF(),{user:r,loginStatusKnown:i}=Mp();return i?r?kt(XF,Dt(Ge({},t()),{fileDrop:n,children:[se("input",Ge({},e())),se(EM,{}),se($M,{}),se(WF,{})]})):se(CM,{}):null}const XF=qe.div`
  position: relative;
  height: 100%;
  user-select: none;
  color: #242422;
  ${({fileDrop:t})=>t&&"background-color: #BDB5B1;"}
`;Ly.render(se(Kb,{children:se(QF,{})}),document.getElementById("root"));
